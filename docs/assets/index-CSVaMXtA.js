(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ha(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Qe={},Fr=[],Cn=()=>{},mh=()=>!1,qi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),za=e=>e.startsWith("onUpdate:"),Ot=Object.assign,Wa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gh=Object.prototype.hasOwnProperty,Xe=(e,t)=>gh.call(e,t),xe=Array.isArray,jr=e=>Vs(e)==="[object Map]",Vi=e=>Vs(e)==="[object Set]",Zl=e=>Vs(e)==="[object Date]",Te=e=>typeof e=="function",yt=e=>typeof e=="string",mn=e=>typeof e=="symbol",tt=e=>e!==null&&typeof e=="object",Ou=e=>(tt(e)||Te(e))&&Te(e.then)&&Te(e.catch),Pu=Object.prototype.toString,Vs=e=>Pu.call(e),yh=e=>Vs(e).slice(8,-1),Au=e=>Vs(e)==="[object Object]",Ya=e=>yt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ss=Ha(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ki=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vh=/-(\w)/g,cn=Ki(e=>e.replace(vh,(t,n)=>n?n.toUpperCase():"")),bh=/\B([A-Z])/g,sr=Ki(e=>e.replace(bh,"-$1").toLowerCase()),Hi=Ki(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wo=Ki(e=>e?`on${Hi(e)}`:""),tr=(e,t)=>!Object.is(e,t),Si=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Mu=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Mi=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ec;const zi=()=>ec||(ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xr(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=yt(r)?xh(r):Xr(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(yt(e)||tt(e))return e}const wh=/;(?![^(]*\))/g,_h=/:([^]+)/,Sh=/\/\*[^]*?\*\//g;function xh(e){const t={};return e.replace(Sh,"").split(wh).forEach(n=>{if(n){const r=n.split(_h);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Er(e){let t="";if(yt(e))t=e;else if(xe(e))for(let n=0;n<e.length;n++){const r=Er(e[n]);r&&(t+=r+" ")}else if(tt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ch="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Eh=Ha(Ch);function Iu(e){return!!e||e===""}function Th(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Gr(e[r],t[r]);return n}function Gr(e,t){if(e===t)return!0;let n=Zl(e),r=Zl(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=mn(e),r=mn(t),n||r)return e===t;if(n=xe(e),r=xe(t),n||r)return n&&r?Th(e,t):!1;if(n=tt(e),r=tt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const c=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(c&&!f||!c&&f||!Gr(e[a],t[a]))return!1}}return String(e)===String(t)}function Dh(e,t){return e.findIndex(n=>Gr(n,t))}const ku=e=>!!(e&&e.__v_isRef===!0),$e=e=>yt(e)?e:e==null?"":xe(e)||tt(e)&&(e.toString===Pu||!Te(e.toString))?ku(e)?$e(e.value):JSON.stringify(e,Ru,2):String(e),Ru=(e,t)=>ku(t)?Ru(e,t.value):jr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Yo(r,i)+" =>"]=s,n),{})}:Vi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Yo(n))}:mn(t)?Yo(t):tt(t)&&!xe(t)&&!Au(t)?String(t):t,Yo=(e,t="")=>{var n;return mn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tn;class Oh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tn,!t&&tn&&(this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=tn;try{return tn=this,t()}finally{tn=n}}}on(){tn=this}off(){tn=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ph(){return tn}let Ze;const Xo=new WeakSet;class Nu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tn&&tn.active&&tn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xo.has(this)&&(Xo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Lu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tc(this),Bu(this);const t=Ze,n=pn;Ze=this,pn=!0;try{return this.fn()}finally{Fu(this),Ze=t,pn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qa(t);this.deps=this.depsTail=void 0,tc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){da(this)&&this.run()}get dirty(){return da(this)}}let $u=0,xs,Cs;function Lu(e,t=!1){if(e.flags|=8,t){e.next=Cs,Cs=e;return}e.next=xs,xs=e}function Xa(){$u++}function Ga(){if(--$u>0)return;if(Cs){let t=Cs;for(Cs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xs;){let t=xs;for(xs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Bu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Fu(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Qa(r),Ah(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function da(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ju(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ju(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ms))return;e.globalVersion=Ms;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!da(e)){e.flags&=-3;return}const n=Ze,r=pn;Ze=e,pn=!0;try{Bu(e);const s=e.fn(e._value);(t.version===0||tr(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ze=n,pn=r,Fu(e),e.flags&=-3}}function Qa(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Qa(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ah(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let pn=!0;const Uu=[];function ir(){Uu.push(pn),pn=!1}function or(){const e=Uu.pop();pn=e===void 0?!0:e}function tc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ze;Ze=void 0;try{t()}finally{Ze=n}}}let Ms=0;class Mh{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ja{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ze||!pn||Ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ze)n=this.activeLink=new Mh(Ze,this),Ze.deps?(n.prevDep=Ze.depsTail,Ze.depsTail.nextDep=n,Ze.depsTail=n):Ze.deps=Ze.depsTail=n,qu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ze.depsTail,n.nextDep=void 0,Ze.depsTail.nextDep=n,Ze.depsTail=n,Ze.deps===n&&(Ze.deps=r)}return n}trigger(t){this.version++,Ms++,this.notify(t)}notify(t){Xa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ga()}}}function qu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)qu(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ha=new WeakMap,wr=Symbol(""),pa=Symbol(""),Is=Symbol("");function jt(e,t,n){if(pn&&Ze){let r=ha.get(e);r||ha.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ja),s.map=r,s.key=n),s.track()}}function $n(e,t,n,r,s,i){const a=ha.get(e);if(!a){Ms++;return}const c=f=>{f&&f.trigger()};if(Xa(),t==="clear")a.forEach(c);else{const f=xe(e),p=f&&Ya(n);if(f&&n==="length"){const h=Number(r);a.forEach((g,b)=>{(b==="length"||b===Is||!mn(b)&&b>=h)&&c(g)})}else switch((n!==void 0||a.has(void 0))&&c(a.get(n)),p&&c(a.get(Is)),t){case"add":f?p&&c(a.get("length")):(c(a.get(wr)),jr(e)&&c(a.get(pa)));break;case"delete":f||(c(a.get(wr)),jr(e)&&c(a.get(pa)));break;case"set":jr(e)&&c(a.get(wr));break}}Ga()}function kr(e){const t=Ye(e);return t===e?t:(jt(t,"iterate",Is),ln(e)?t:t.map(Ut))}function Wi(e){return jt(e=Ye(e),"iterate",Is),e}const Ih={__proto__:null,[Symbol.iterator](){return Go(this,Symbol.iterator,Ut)},concat(...e){return kr(this).concat(...e.map(t=>xe(t)?kr(t):t))},entries(){return Go(this,"entries",e=>(e[1]=Ut(e[1]),e))},every(e,t){return kn(this,"every",e,t,void 0,arguments)},filter(e,t){return kn(this,"filter",e,t,n=>n.map(Ut),arguments)},find(e,t){return kn(this,"find",e,t,Ut,arguments)},findIndex(e,t){return kn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return kn(this,"findLast",e,t,Ut,arguments)},findLastIndex(e,t){return kn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return kn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Qo(this,"includes",e)},indexOf(...e){return Qo(this,"indexOf",e)},join(e){return kr(this).join(e)},lastIndexOf(...e){return Qo(this,"lastIndexOf",e)},map(e,t){return kn(this,"map",e,t,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...t){return nc(this,"reduce",e,t)},reduceRight(e,...t){return nc(this,"reduceRight",e,t)},shift(){return hs(this,"shift")},some(e,t){return kn(this,"some",e,t,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return kr(this).toReversed()},toSorted(e){return kr(this).toSorted(e)},toSpliced(...e){return kr(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return Go(this,"values",Ut)}};function Go(e,t,n){const r=Wi(e),s=r[t]();return r!==e&&!ln(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const kh=Array.prototype;function kn(e,t,n,r,s,i){const a=Wi(e),c=a!==e&&!ln(e),f=a[t];if(f!==kh[t]){const g=f.apply(e,i);return c?Ut(g):g}let p=n;a!==e&&(c?p=function(g,b){return n.call(this,Ut(g),b,e)}:n.length>2&&(p=function(g,b){return n.call(this,g,b,e)}));const h=f.call(a,p,r);return c&&s?s(h):h}function nc(e,t,n,r){const s=Wi(e);let i=n;return s!==e&&(ln(e)?n.length>3&&(i=function(a,c,f){return n.call(this,a,c,f,e)}):i=function(a,c,f){return n.call(this,a,Ut(c),f,e)}),s[t](i,...r)}function Qo(e,t,n){const r=Ye(e);jt(r,"iterate",Is);const s=r[t](...n);return(s===-1||s===!1)&&tl(n[0])?(n[0]=Ye(n[0]),r[t](...n)):s}function hs(e,t,n=[]){ir(),Xa();const r=Ye(e)[t].apply(e,n);return Ga(),or(),r}const Rh=Ha("__proto__,__v_isRef,__isVue"),Vu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mn));function Nh(e){mn(e)||(e=String(e));const t=Ye(this);return jt(t,"has",e),t.hasOwnProperty(e)}class Ku{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Hh:Yu:i?Wu:zu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=xe(t);if(!s){let f;if(a&&(f=Ih[n]))return f;if(n==="hasOwnProperty")return Nh}const c=Reflect.get(t,n,Kt(t)?t:r);return(mn(n)?Vu.has(n):Rh(n))||(s||jt(t,"get",n),i)?c:Kt(c)?a&&Ya(n)?c:c.value:tt(c)?s?Gu(c):Yi(c):c}}class Hu extends Ku{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const f=Sr(i);if(!ln(r)&&!Sr(r)&&(i=Ye(i),r=Ye(r)),!xe(t)&&Kt(i)&&!Kt(r))return f?!1:(i.value=r,!0)}const a=xe(t)&&Ya(n)?Number(n)<t.length:Xe(t,n),c=Reflect.set(t,n,r,Kt(t)?t:s);return t===Ye(s)&&(a?tr(r,i)&&$n(t,"set",n,r):$n(t,"add",n,r)),c}deleteProperty(t,n){const r=Xe(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&$n(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!mn(n)||!Vu.has(n))&&jt(t,"has",n),r}ownKeys(t){return jt(t,"iterate",xe(t)?"length":wr),Reflect.ownKeys(t)}}class $h extends Ku{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Lh=new Hu,Bh=new $h,Fh=new Hu(!0);const ma=e=>e,yi=e=>Reflect.getPrototypeOf(e);function jh(e,t,n){return function(...r){const s=this.__v_raw,i=Ye(s),a=jr(i),c=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,p=s[e](...r),h=n?ma:t?ga:Ut;return!t&&jt(i,"iterate",f?pa:wr),{next(){const{value:g,done:b}=p.next();return b?{value:g,done:b}:{value:c?[h(g[0]),h(g[1])]:h(g),done:b}},[Symbol.iterator](){return this}}}}function vi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Uh(e,t){const n={get(s){const i=this.__v_raw,a=Ye(i),c=Ye(s);e||(tr(s,c)&&jt(a,"get",s),jt(a,"get",c));const{has:f}=yi(a),p=t?ma:e?ga:Ut;if(f.call(a,s))return p(i.get(s));if(f.call(a,c))return p(i.get(c));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&jt(Ye(s),"iterate",wr),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=Ye(i),c=Ye(s);return e||(tr(s,c)&&jt(a,"has",s),jt(a,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const a=this,c=a.__v_raw,f=Ye(c),p=t?ma:e?ga:Ut;return!e&&jt(f,"iterate",wr),c.forEach((h,g)=>s.call(i,p(h),p(g),a))}};return Ot(n,e?{add:vi("add"),set:vi("set"),delete:vi("delete"),clear:vi("clear")}:{add(s){!t&&!ln(s)&&!Sr(s)&&(s=Ye(s));const i=Ye(this);return yi(i).has.call(i,s)||(i.add(s),$n(i,"add",s,s)),this},set(s,i){!t&&!ln(i)&&!Sr(i)&&(i=Ye(i));const a=Ye(this),{has:c,get:f}=yi(a);let p=c.call(a,s);p||(s=Ye(s),p=c.call(a,s));const h=f.call(a,s);return a.set(s,i),p?tr(i,h)&&$n(a,"set",s,i):$n(a,"add",s,i),this},delete(s){const i=Ye(this),{has:a,get:c}=yi(i);let f=a.call(i,s);f||(s=Ye(s),f=a.call(i,s)),c&&c.call(i,s);const p=i.delete(s);return f&&$n(i,"delete",s,void 0),p},clear(){const s=Ye(this),i=s.size!==0,a=s.clear();return i&&$n(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=jh(s,e,t)}),n}function Za(e,t){const n=Uh(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Xe(n,s)&&s in r?n:r,s,i)}const qh={get:Za(!1,!1)},Vh={get:Za(!1,!0)},Kh={get:Za(!0,!1)};const zu=new WeakMap,Wu=new WeakMap,Yu=new WeakMap,Hh=new WeakMap;function zh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wh(e){return e.__v_skip||!Object.isExtensible(e)?0:zh(yh(e))}function Yi(e){return Sr(e)?e:el(e,!1,Lh,qh,zu)}function Xu(e){return el(e,!1,Fh,Vh,Wu)}function Gu(e){return el(e,!0,Bh,Kh,Yu)}function el(e,t,n,r,s){if(!tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=Wh(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return s.set(e,c),c}function Ur(e){return Sr(e)?Ur(e.__v_raw):!!(e&&e.__v_isReactive)}function Sr(e){return!!(e&&e.__v_isReadonly)}function ln(e){return!!(e&&e.__v_isShallow)}function tl(e){return e?!!e.__v_raw:!1}function Ye(e){const t=e&&e.__v_raw;return t?Ye(t):e}function Yh(e){return!Xe(e,"__v_skip")&&Object.isExtensible(e)&&Mu(e,"__v_skip",!0),e}const Ut=e=>tt(e)?Yi(e):e,ga=e=>tt(e)?Gu(e):e;function Kt(e){return e?e.__v_isRef===!0:!1}function Xh(e){return Qu(e,!1)}function Gh(e){return Qu(e,!0)}function Qu(e,t){return Kt(e)?e:new Qh(e,t)}class Qh{constructor(t,n){this.dep=new Ja,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ye(t),this._value=n?t:Ut(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ln(t)||Sr(t);t=r?t:Ye(t),tr(t,n)&&(this._rawValue=t,this._value=r?t:Ut(t),this.dep.trigger())}}function qr(e){return Kt(e)?e.value:e}const Jh={get:(e,t,n)=>t==="__v_raw"?e:qr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Kt(s)&&!Kt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Ju(e){return Ur(e)?e:new Proxy(e,Jh)}class Zh{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ja(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ze!==this)return Lu(this,!0),!0}get value(){const t=this.dep.track();return ju(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ep(e,t,n=!1){let r,s;return Te(e)?r=e:(r=e.get,s=e.set),new Zh(r,s,n)}const bi={},Ii=new WeakMap;let vr;function tp(e,t=!1,n=vr){if(n){let r=Ii.get(n);r||Ii.set(n,r=[]),r.push(e)}}function np(e,t,n=Qe){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:c,call:f}=n,p=ie=>s?ie:ln(ie)||s===!1||s===0?Ln(ie,1):Ln(ie);let h,g,b,T,R=!1,F=!1;if(Kt(e)?(g=()=>e.value,R=ln(e)):Ur(e)?(g=()=>p(e),R=!0):xe(e)?(F=!0,R=e.some(ie=>Ur(ie)||ln(ie)),g=()=>e.map(ie=>{if(Kt(ie))return ie.value;if(Ur(ie))return p(ie);if(Te(ie))return f?f(ie,2):ie()})):Te(e)?t?g=f?()=>f(e,2):e:g=()=>{if(b){ir();try{b()}finally{or()}}const ie=vr;vr=h;try{return f?f(e,3,[T]):e(T)}finally{vr=ie}}:g=Cn,t&&s){const ie=g,be=s===!0?1/0:s;g=()=>Ln(ie(),be)}const U=Ph(),Z=()=>{h.stop(),U&&U.active&&Wa(U.effects,h)};if(i&&t){const ie=t;t=(...be)=>{ie(...be),Z()}}let G=F?new Array(e.length).fill(bi):bi;const ee=ie=>{if(!(!(h.flags&1)||!h.dirty&&!ie))if(t){const be=h.run();if(s||R||(F?be.some((V,ue)=>tr(V,G[ue])):tr(be,G))){b&&b();const V=vr;vr=h;try{const ue=[be,G===bi?void 0:F&&G[0]===bi?[]:G,T];f?f(t,3,ue):t(...ue),G=be}finally{vr=V}}}else h.run()};return c&&c(ee),h=new Nu(g),h.scheduler=a?()=>a(ee,!1):ee,T=ie=>tp(ie,!1,h),b=h.onStop=()=>{const ie=Ii.get(h);if(ie){if(f)f(ie,4);else for(const be of ie)be();Ii.delete(h)}},t?r?ee(!0):G=h.run():a?a(ee.bind(null,!0),!0):h.run(),Z.pause=h.pause.bind(h),Z.resume=h.resume.bind(h),Z.stop=Z,Z}function Ln(e,t=1/0,n){if(t<=0||!tt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Kt(e))Ln(e.value,t,n);else if(xe(e))for(let r=0;r<e.length;r++)Ln(e[r],t,n);else if(Vi(e)||jr(e))e.forEach(r=>{Ln(r,t,n)});else if(Au(e)){for(const r in e)Ln(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ln(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ks(e,t,n,r){try{return r?e(...r):e()}catch(s){Xi(s,t,n)}}function Dn(e,t,n,r){if(Te(e)){const s=Ks(e,t,n,r);return s&&Ou(s)&&s.catch(i=>{Xi(i,t,n)}),s}if(xe(e)){const s=[];for(let i=0;i<e.length;i++)s.push(Dn(e[i],t,n,r));return s}}function Xi(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Qe;if(t){let c=t.parent;const f=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const h=c.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](e,f,p)===!1)return}c=c.parent}if(i){ir(),Ks(i,null,10,[e,f,p]),or();return}}rp(e,n,s,r,a)}function rp(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Wt=[];let Sn=-1;const Vr=[];let Yn=null,Nr=0;const Zu=Promise.resolve();let ki=null;function nl(e){const t=ki||Zu;return e?t.then(this?e.bind(this):e):t}function sp(e){let t=Sn+1,n=Wt.length;for(;t<n;){const r=t+n>>>1,s=Wt[r],i=ks(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function rl(e){if(!(e.flags&1)){const t=ks(e),n=Wt[Wt.length-1];!n||!(e.flags&2)&&t>=ks(n)?Wt.push(e):Wt.splice(sp(t),0,e),e.flags|=1,ef()}}function ef(){ki||(ki=Zu.then(nf))}function ip(e){xe(e)?Vr.push(...e):Yn&&e.id===-1?Yn.splice(Nr+1,0,e):e.flags&1||(Vr.push(e),e.flags|=1),ef()}function rc(e,t,n=Sn+1){for(;n<Wt.length;n++){const r=Wt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Wt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function tf(e){if(Vr.length){const t=[...new Set(Vr)].sort((n,r)=>ks(n)-ks(r));if(Vr.length=0,Yn){Yn.push(...t);return}for(Yn=t,Nr=0;Nr<Yn.length;Nr++){const n=Yn[Nr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Yn=null,Nr=0}}const ks=e=>e.id==null?e.flags&2?-1:1/0:e.id;function nf(e){try{for(Sn=0;Sn<Wt.length;Sn++){const t=Wt[Sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ks(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Sn<Wt.length;Sn++){const t=Wt[Sn];t&&(t.flags&=-2)}Sn=-1,Wt.length=0,tf(),ki=null,(Wt.length||Vr.length)&&nf()}}let It=null,rf=null;function Ri(e){const t=It;return It=e,rf=e&&e.type.__scopeId||null,t}function Gi(e,t=It,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&dc(-1);const i=Ri(t);let a;try{a=e(...s)}finally{Ri(i),r._d&&dc(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function mt(e,t){if(It===null)return e;const n=to(It),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,c,f=Qe]=t[s];i&&(Te(i)&&(i={mounted:i,updated:i}),i.deep&&Ln(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:c,modifiers:f}))}return e}function pr(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const c=s[a];i&&(c.oldValue=i[a].value);let f=c.dir[r];f&&(ir(),Dn(f,n,8,[e.el,c,e,t]),or())}}const op=Symbol("_vte"),ap=e=>e.__isTeleport;function sl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,sl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Qi(e,t){return Te(e)?Ot({name:e.name},t,{setup:e}):e}function sf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ni(e,t,n,r,s=!1){if(xe(e)){e.forEach((R,F)=>Ni(R,t&&(xe(t)?t[F]:t),n,r,s));return}if(Kr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ni(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?to(r.component):r.el,a=s?null:i,{i:c,r:f}=e,p=t&&t.r,h=c.refs===Qe?c.refs={}:c.refs,g=c.setupState,b=Ye(g),T=g===Qe?()=>!1:R=>Xe(b,R);if(p!=null&&p!==f&&(yt(p)?(h[p]=null,T(p)&&(g[p]=null)):Kt(p)&&(p.value=null)),Te(f))Ks(f,c,12,[a,h]);else{const R=yt(f),F=Kt(f);if(R||F){const U=()=>{if(e.f){const Z=R?T(f)?g[f]:h[f]:f.value;s?xe(Z)&&Wa(Z,i):xe(Z)?Z.includes(i)||Z.push(i):R?(h[f]=[i],T(f)&&(g[f]=h[f])):(f.value=[i],e.k&&(h[e.k]=f.value))}else R?(h[f]=a,T(f)&&(g[f]=a)):F&&(f.value=a,e.k&&(h[e.k]=a))};a?(U.id=-1,en(U,n)):U()}}}zi().requestIdleCallback;zi().cancelIdleCallback;const Kr=e=>!!e.type.__asyncLoader,of=e=>e.type.__isKeepAlive;function lp(e,t){af(e,"a",t)}function cp(e,t){af(e,"da",t)}function af(e,t,n=qt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ji(t,r,n),n){let s=n.parent;for(;s&&s.parent;)of(s.parent.vnode)&&up(r,t,n,s),s=s.parent}}function up(e,t,n,r){const s=Ji(t,e,r,!0);lf(()=>{Wa(r[t],s)},n)}function Ji(e,t,n=qt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{ir();const c=Hs(n),f=Dn(t,n,e,a);return c(),or(),f});return r?s.unshift(i):s.push(i),i}}const Fn=e=>(t,n=qt)=>{(!$s||e==="sp")&&Ji(e,(...r)=>t(...r),n)},fp=Fn("bm"),dp=Fn("m"),hp=Fn("bu"),pp=Fn("u"),mp=Fn("bum"),lf=Fn("um"),gp=Fn("sp"),yp=Fn("rtg"),vp=Fn("rtc");function bp(e,t=qt){Ji("ec",e,t)}const wp="components";function Ue(e,t){return Sp(wp,e,!0,t)||e}const _p=Symbol.for("v-ndc");function Sp(e,t,n=!0,r=!1){const s=It||qt;if(s){const i=s.type;{const c=c0(i,!1);if(c&&(c===t||c===cn(t)||c===Hi(cn(t))))return i}const a=sc(s[e]||i[e],t)||sc(s.appContext[e],t);return!a&&r?i:a}}function sc(e,t){return e&&(e[t]||e[cn(t)]||e[Hi(cn(t))])}function et(e,t,n,r){let s;const i=n,a=xe(e);if(a||yt(e)){const c=a&&Ur(e);let f=!1;c&&(f=!ln(e),e=Wi(e)),s=new Array(e.length);for(let p=0,h=e.length;p<h;p++)s[p]=t(f?Ut(e[p]):e[p],p,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let c=0;c<e;c++)s[c]=t(c+1,c,void 0,i)}else if(tt(e))if(e[Symbol.iterator])s=Array.from(e,(c,f)=>t(c,f,void 0,i));else{const c=Object.keys(e);s=new Array(c.length);for(let f=0,p=c.length;f<p;f++){const h=c[f];s[f]=t(e[h],h,f,i)}}else s=[];return s}function xp(e,t,n={},r,s){if(It.ce||It.parent&&Kr(It.parent)&&It.parent.ce)return K(),On(Ce,null,[Ae("slot",n,r)],64);let i=e[t];i&&i._c&&(i._d=!1),K();const a=i&&cf(i(n)),c=n.key||a&&a.key,f=On(Ce,{key:(c&&!mn(c)?c:`_${t}`)+(!a&&r?"_fb":"")},a||[],a&&e._===1?64:-2);return i&&i._c&&(i._d=!0),f}function cf(e){return e.some(t=>Ns(t)?!(t.type===nr||t.type===Ce&&!cf(t.children)):!0)?e:null}const ya=e=>e?Af(e)?to(e):ya(e.parent):null,Es=Ot(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ya(e.parent),$root:e=>ya(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>il(e),$forceUpdate:e=>e.f||(e.f=()=>{rl(e.update)}),$nextTick:e=>e.n||(e.n=nl.bind(e.proxy)),$watch:e=>Kp.bind(e)}),Jo=(e,t)=>e!==Qe&&!e.__isScriptSetup&&Xe(e,t),Cp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:c,appContext:f}=e;let p;if(t[0]!=="$"){const T=a[t];if(T!==void 0)switch(T){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Jo(r,t))return a[t]=1,r[t];if(s!==Qe&&Xe(s,t))return a[t]=2,s[t];if((p=e.propsOptions[0])&&Xe(p,t))return a[t]=3,i[t];if(n!==Qe&&Xe(n,t))return a[t]=4,n[t];va&&(a[t]=0)}}const h=Es[t];let g,b;if(h)return t==="$attrs"&&jt(e.attrs,"get",""),h(e);if((g=c.__cssModules)&&(g=g[t]))return g;if(n!==Qe&&Xe(n,t))return a[t]=4,n[t];if(b=f.config.globalProperties,Xe(b,t))return b[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Jo(s,t)?(s[t]=n,!0):r!==Qe&&Xe(r,t)?(r[t]=n,!0):Xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let c;return!!n[a]||e!==Qe&&Xe(e,a)||Jo(t,a)||(c=i[0])&&Xe(c,a)||Xe(r,a)||Xe(Es,a)||Xe(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Xe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ic(e){return xe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let va=!0;function Ep(e){const t=il(e),n=e.proxy,r=e.ctx;va=!1,t.beforeCreate&&oc(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:c,provide:f,inject:p,created:h,beforeMount:g,mounted:b,beforeUpdate:T,updated:R,activated:F,deactivated:U,beforeDestroy:Z,beforeUnmount:G,destroyed:ee,unmounted:ie,render:be,renderTracked:V,renderTriggered:ue,errorCaptured:Ie,serverPrefetch:Je,expose:ct,inheritAttrs:vt,components:ut,directives:Ge,filters:St}=t;if(p&&Tp(p,r,null),a)for(const Be in a){const De=a[Be];Te(De)&&(r[Be]=De.bind(n))}if(s){const Be=s.call(n,n);tt(Be)&&(e.data=Yi(Be))}if(va=!0,i)for(const Be in i){const De=i[Be],pt=Te(De)?De.bind(n,n):Te(De.get)?De.get.bind(n,n):Cn,ft=!Te(De)&&Te(De.set)?De.set.bind(n):Cn,Pt=hn({get:pt,set:ft});Object.defineProperty(r,Be,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:bt=>Pt.value=bt})}if(c)for(const Be in c)uf(c[Be],r,n,Be);if(f){const Be=Te(f)?f.call(n):f;Reflect.ownKeys(Be).forEach(De=>{xi(De,Be[De])})}h&&oc(h,e,"c");function ze(Be,De){xe(De)?De.forEach(pt=>Be(pt.bind(n))):De&&Be(De.bind(n))}if(ze(fp,g),ze(dp,b),ze(hp,T),ze(pp,R),ze(lp,F),ze(cp,U),ze(bp,Ie),ze(vp,V),ze(yp,ue),ze(mp,G),ze(lf,ie),ze(gp,Je),xe(ct))if(ct.length){const Be=e.exposed||(e.exposed={});ct.forEach(De=>{Object.defineProperty(Be,De,{get:()=>n[De],set:pt=>n[De]=pt})})}else e.exposed||(e.exposed={});be&&e.render===Cn&&(e.render=be),vt!=null&&(e.inheritAttrs=vt),ut&&(e.components=ut),Ge&&(e.directives=Ge),Je&&sf(e)}function Tp(e,t,n=Cn){xe(e)&&(e=ba(e));for(const r in e){const s=e[r];let i;tt(s)?"default"in s?i=En(s.from||r,s.default,!0):i=En(s.from||r):i=En(s),Kt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function oc(e,t,n){Dn(xe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function uf(e,t,n,r){let s=r.includes(".")?Cf(n,r):()=>n[r];if(yt(e)){const i=t[e];Te(i)&&Ci(s,i)}else if(Te(e))Ci(s,e.bind(n));else if(tt(e))if(xe(e))e.forEach(i=>uf(i,t,n,r));else{const i=Te(e.handler)?e.handler.bind(n):t[e.handler];Te(i)&&Ci(s,i,e)}}function il(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,c=i.get(t);let f;return c?f=c:!s.length&&!n&&!r?f=t:(f={},s.length&&s.forEach(p=>$i(f,p,a,!0)),$i(f,t,a)),tt(t)&&i.set(t,f),f}function $i(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&$i(e,i,n,!0),s&&s.forEach(a=>$i(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const c=Dp[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const Dp={data:ac,props:lc,emits:lc,methods:_s,computed:_s,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:_s,directives:_s,watch:Pp,provide:ac,inject:Op};function ac(e,t){return t?e?function(){return Ot(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function Op(e,t){return _s(ba(e),ba(t))}function ba(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function zt(e,t){return e?[...new Set([].concat(e,t))]:t}function _s(e,t){return e?Ot(Object.create(null),e,t):t}function lc(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:Ot(Object.create(null),ic(e),ic(t??{})):t}function Pp(e,t){if(!e)return t;if(!t)return e;const n=Ot(Object.create(null),e);for(const r in t)n[r]=zt(e[r],t[r]);return n}function ff(){return{app:null,config:{isNativeTag:mh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ap=0;function Mp(e,t){return function(r,s=null){Te(r)||(r=Ot({},r)),s!=null&&!tt(s)&&(s=null);const i=ff(),a=new WeakSet,c=[];let f=!1;const p=i.app={_uid:Ap++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:f0,get config(){return i.config},set config(h){},use(h,...g){return a.has(h)||(h&&Te(h.install)?(a.add(h),h.install(p,...g)):Te(h)&&(a.add(h),h(p,...g))),p},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),p},component(h,g){return g?(i.components[h]=g,p):i.components[h]},directive(h,g){return g?(i.directives[h]=g,p):i.directives[h]},mount(h,g,b){if(!f){const T=p._ceVNode||Ae(r,s);return T.appContext=i,b===!0?b="svg":b===!1&&(b=void 0),g&&t?t(T,h):e(T,h,b),f=!0,p._container=h,h.__vue_app__=p,to(T.component)}},onUnmount(h){c.push(h)},unmount(){f&&(Dn(c,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(h,g){return i.provides[h]=g,p},runWithContext(h){const g=Hr;Hr=p;try{return h()}finally{Hr=g}}};return p}}let Hr=null;function xi(e,t){if(qt){let n=qt.provides;const r=qt.parent&&qt.parent.provides;r===n&&(n=qt.provides=Object.create(r)),n[e]=t}}function En(e,t,n=!1){const r=qt||It;if(r||Hr){const s=Hr?Hr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Te(t)?t.call(r&&r.proxy):t}}const df={},hf=()=>Object.create(df),pf=e=>Object.getPrototypeOf(e)===df;function Ip(e,t,n,r=!1){const s={},i=hf();e.propsDefaults=Object.create(null),mf(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Xu(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function kp(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,c=Ye(s),[f]=e.propsOptions;let p=!1;if((r||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let g=0;g<h.length;g++){let b=h[g];if(Zi(e.emitsOptions,b))continue;const T=t[b];if(f)if(Xe(i,b))T!==i[b]&&(i[b]=T,p=!0);else{const R=cn(b);s[R]=wa(f,c,R,T,e,!1)}else T!==i[b]&&(i[b]=T,p=!0)}}}else{mf(e,t,s,i)&&(p=!0);let h;for(const g in c)(!t||!Xe(t,g)&&((h=sr(g))===g||!Xe(t,h)))&&(f?n&&(n[g]!==void 0||n[h]!==void 0)&&(s[g]=wa(f,c,g,void 0,e,!0)):delete s[g]);if(i!==c)for(const g in i)(!t||!Xe(t,g))&&(delete i[g],p=!0)}p&&$n(e.attrs,"set","")}function mf(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,c;if(t)for(let f in t){if(Ss(f))continue;const p=t[f];let h;s&&Xe(s,h=cn(f))?!i||!i.includes(h)?n[h]=p:(c||(c={}))[h]=p:Zi(e.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,a=!0)}if(i){const f=Ye(n),p=c||Qe;for(let h=0;h<i.length;h++){const g=i[h];n[g]=wa(s,f,g,p[g],e,!Xe(p,g))}}return a}function wa(e,t,n,r,s,i){const a=e[n];if(a!=null){const c=Xe(a,"default");if(c&&r===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Te(f)){const{propsDefaults:p}=s;if(n in p)r=p[n];else{const h=Hs(s);r=p[n]=f.call(null,t),h()}}else r=f;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!c?r=!1:a[1]&&(r===""||r===sr(n))&&(r=!0))}return r}const Rp=new WeakMap;function gf(e,t,n=!1){const r=n?Rp:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},c=[];let f=!1;if(!Te(e)){const h=g=>{f=!0;const[b,T]=gf(g,t,!0);Ot(a,b),T&&c.push(...T)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!f)return tt(e)&&r.set(e,Fr),Fr;if(xe(i))for(let h=0;h<i.length;h++){const g=cn(i[h]);cc(g)&&(a[g]=Qe)}else if(i)for(const h in i){const g=cn(h);if(cc(g)){const b=i[h],T=a[g]=xe(b)||Te(b)?{type:b}:Ot({},b),R=T.type;let F=!1,U=!0;if(xe(R))for(let Z=0;Z<R.length;++Z){const G=R[Z],ee=Te(G)&&G.name;if(ee==="Boolean"){F=!0;break}else ee==="String"&&(U=!1)}else F=Te(R)&&R.name==="Boolean";T[0]=F,T[1]=U,(F||Xe(T,"default"))&&c.push(g)}}const p=[a,c];return tt(e)&&r.set(e,p),p}function cc(e){return e[0]!=="$"&&!Ss(e)}const yf=e=>e[0]==="_"||e==="$stable",ol=e=>xe(e)?e.map(xn):[xn(e)],Np=(e,t,n)=>{if(t._n)return t;const r=Gi((...s)=>ol(t(...s)),n);return r._c=!1,r},vf=(e,t,n)=>{const r=e._ctx;for(const s in e){if(yf(s))continue;const i=e[s];if(Te(i))t[s]=Np(s,i,r);else if(i!=null){const a=ol(i);t[s]=()=>a}}},bf=(e,t)=>{const n=ol(t);e.slots.default=()=>n},wf=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},$p=(e,t,n)=>{const r=e.slots=hf();if(e.vnode.shapeFlag&32){const s=t._;s?(wf(r,t,n),n&&Mu(r,"_",s,!0)):vf(t,r)}else t&&bf(e,t)},Lp=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=Qe;if(r.shapeFlag&32){const c=t._;c?n&&c===1?i=!1:wf(s,t,n):(i=!t.$stable,vf(t,s)),a=t}else t&&(bf(e,t),a={default:1});if(i)for(const c in s)!yf(c)&&a[c]==null&&delete s[c]},en=Qp;function Bp(e){return Fp(e)}function Fp(e,t){const n=zi();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:c,createComment:f,setText:p,setElementText:h,parentNode:g,nextSibling:b,setScopeId:T=Cn,insertStaticContent:R}=e,F=(_,x,N,X=null,z=null,Q=null,fe=void 0,oe=null,te=!!x.dynamicChildren)=>{if(_===x)return;_&&!ps(_,x)&&(X=W(_),bt(_,z,Q,!0),_=null),x.patchFlag===-2&&(te=!1,x.dynamicChildren=null);const{type:J,ref:we,shapeFlag:he}=x;switch(J){case eo:U(_,x,N,X);break;case nr:Z(_,x,N,X);break;case Ei:_==null&&G(x,N,X,fe);break;case Ce:ut(_,x,N,X,z,Q,fe,oe,te);break;default:he&1?be(_,x,N,X,z,Q,fe,oe,te):he&6?Ge(_,x,N,X,z,Q,fe,oe,te):(he&64||he&128)&&J.process(_,x,N,X,z,Q,fe,oe,te,ve)}we!=null&&z&&Ni(we,_&&_.ref,Q,x||_,!x)},U=(_,x,N,X)=>{if(_==null)r(x.el=c(x.children),N,X);else{const z=x.el=_.el;x.children!==_.children&&p(z,x.children)}},Z=(_,x,N,X)=>{_==null?r(x.el=f(x.children||""),N,X):x.el=_.el},G=(_,x,N,X)=>{[_.el,_.anchor]=R(_.children,x,N,X,_.el,_.anchor)},ee=({el:_,anchor:x},N,X)=>{let z;for(;_&&_!==x;)z=b(_),r(_,N,X),_=z;r(x,N,X)},ie=({el:_,anchor:x})=>{let N;for(;_&&_!==x;)N=b(_),s(_),_=N;s(x)},be=(_,x,N,X,z,Q,fe,oe,te)=>{x.type==="svg"?fe="svg":x.type==="math"&&(fe="mathml"),_==null?V(x,N,X,z,Q,fe,oe,te):Je(_,x,z,Q,fe,oe,te)},V=(_,x,N,X,z,Q,fe,oe)=>{let te,J;const{props:we,shapeFlag:he,transition:ge,dirs:_e}=_;if(te=_.el=a(_.type,Q,we&&we.is,we),he&8?h(te,_.children):he&16&&Ie(_.children,te,null,X,z,Zo(_,Q),fe,oe),_e&&pr(_,null,X,"created"),ue(te,_,_.scopeId,fe,X),we){for(const Ke in we)Ke!=="value"&&!Ss(Ke)&&i(te,Ke,null,we[Ke],Q,X);"value"in we&&i(te,"value",null,we.value,Q),(J=we.onVnodeBeforeMount)&&wn(J,X,_)}_e&&pr(_,null,X,"beforeMount");const ke=jp(z,ge);ke&&ge.beforeEnter(te),r(te,x,N),((J=we&&we.onVnodeMounted)||ke||_e)&&en(()=>{J&&wn(J,X,_),ke&&ge.enter(te),_e&&pr(_,null,X,"mounted")},z)},ue=(_,x,N,X,z)=>{if(N&&T(_,N),X)for(let Q=0;Q<X.length;Q++)T(_,X[Q]);if(z){let Q=z.subTree;if(x===Q||Tf(Q.type)&&(Q.ssContent===x||Q.ssFallback===x)){const fe=z.vnode;ue(_,fe,fe.scopeId,fe.slotScopeIds,z.parent)}}},Ie=(_,x,N,X,z,Q,fe,oe,te=0)=>{for(let J=te;J<_.length;J++){const we=_[J]=oe?Xn(_[J]):xn(_[J]);F(null,we,x,N,X,z,Q,fe,oe)}},Je=(_,x,N,X,z,Q,fe)=>{const oe=x.el=_.el;let{patchFlag:te,dynamicChildren:J,dirs:we}=x;te|=_.patchFlag&16;const he=_.props||Qe,ge=x.props||Qe;let _e;if(N&&mr(N,!1),(_e=ge.onVnodeBeforeUpdate)&&wn(_e,N,x,_),we&&pr(x,_,N,"beforeUpdate"),N&&mr(N,!0),(he.innerHTML&&ge.innerHTML==null||he.textContent&&ge.textContent==null)&&h(oe,""),J?ct(_.dynamicChildren,J,oe,N,X,Zo(x,z),Q):fe||De(_,x,oe,null,N,X,Zo(x,z),Q,!1),te>0){if(te&16)vt(oe,he,ge,N,z);else if(te&2&&he.class!==ge.class&&i(oe,"class",null,ge.class,z),te&4&&i(oe,"style",he.style,ge.style,z),te&8){const ke=x.dynamicProps;for(let Ke=0;Ke<ke.length;Ke++){const qe=ke[Ke],xt=he[qe],st=ge[qe];(st!==xt||qe==="value")&&i(oe,qe,xt,st,z,N)}}te&1&&_.children!==x.children&&h(oe,x.children)}else!fe&&J==null&&vt(oe,he,ge,N,z);((_e=ge.onVnodeUpdated)||we)&&en(()=>{_e&&wn(_e,N,x,_),we&&pr(x,_,N,"updated")},X)},ct=(_,x,N,X,z,Q,fe)=>{for(let oe=0;oe<x.length;oe++){const te=_[oe],J=x[oe],we=te.el&&(te.type===Ce||!ps(te,J)||te.shapeFlag&70)?g(te.el):N;F(te,J,we,null,X,z,Q,fe,!0)}},vt=(_,x,N,X,z)=>{if(x!==N){if(x!==Qe)for(const Q in x)!Ss(Q)&&!(Q in N)&&i(_,Q,x[Q],null,z,X);for(const Q in N){if(Ss(Q))continue;const fe=N[Q],oe=x[Q];fe!==oe&&Q!=="value"&&i(_,Q,oe,fe,z,X)}"value"in N&&i(_,"value",x.value,N.value,z)}},ut=(_,x,N,X,z,Q,fe,oe,te)=>{const J=x.el=_?_.el:c(""),we=x.anchor=_?_.anchor:c("");let{patchFlag:he,dynamicChildren:ge,slotScopeIds:_e}=x;_e&&(oe=oe?oe.concat(_e):_e),_==null?(r(J,N,X),r(we,N,X),Ie(x.children||[],N,we,z,Q,fe,oe,te)):he>0&&he&64&&ge&&_.dynamicChildren?(ct(_.dynamicChildren,ge,N,z,Q,fe,oe),(x.key!=null||z&&x===z.subTree)&&_f(_,x,!0)):De(_,x,N,we,z,Q,fe,oe,te)},Ge=(_,x,N,X,z,Q,fe,oe,te)=>{x.slotScopeIds=oe,_==null?x.shapeFlag&512?z.ctx.activate(x,N,X,fe,te):St(x,N,X,z,Q,fe,te):nt(_,x,te)},St=(_,x,N,X,z,Q,fe)=>{const oe=_.component=s0(_,X,z);if(of(_)&&(oe.ctx.renderer=ve),i0(oe,!1,fe),oe.asyncDep){if(z&&z.registerDep(oe,ze,fe),!_.el){const te=oe.subTree=Ae(nr);Z(null,te,x,N)}}else ze(oe,_,x,N,z,Q,fe)},nt=(_,x,N)=>{const X=x.component=_.component;if(Xp(_,x,N))if(X.asyncDep&&!X.asyncResolved){Be(X,x,N);return}else X.next=x,X.update();else x.el=_.el,X.vnode=x},ze=(_,x,N,X,z,Q,fe)=>{const oe=()=>{if(_.isMounted){let{next:he,bu:ge,u:_e,parent:ke,vnode:Ke}=_;{const At=Sf(_);if(At){he&&(he.el=Ke.el,Be(_,he,fe)),At.asyncDep.then(()=>{_.isUnmounted||oe()});return}}let qe=he,xt;mr(_,!1),he?(he.el=Ke.el,Be(_,he,fe)):he=Ke,ge&&Si(ge),(xt=he.props&&he.props.onVnodeBeforeUpdate)&&wn(xt,ke,he,Ke),mr(_,!0);const st=ea(_),Nt=_.subTree;_.subTree=st,F(Nt,st,g(Nt.el),W(Nt),_,z,Q),he.el=st.el,qe===null&&Gp(_,st.el),_e&&en(_e,z),(xt=he.props&&he.props.onVnodeUpdated)&&en(()=>wn(xt,ke,he,Ke),z)}else{let he;const{el:ge,props:_e}=x,{bm:ke,m:Ke,parent:qe,root:xt,type:st}=_,Nt=Kr(x);if(mr(_,!1),ke&&Si(ke),!Nt&&(he=_e&&_e.onVnodeBeforeMount)&&wn(he,qe,x),mr(_,!0),ge&&Se){const At=()=>{_.subTree=ea(_),Se(ge,_.subTree,_,z,null)};Nt&&st.__asyncHydrate?st.__asyncHydrate(ge,_,At):At()}else{xt.ce&&xt.ce._injectChildStyle(st);const At=_.subTree=ea(_);F(null,At,N,X,_,z,Q),x.el=At.el}if(Ke&&en(Ke,z),!Nt&&(he=_e&&_e.onVnodeMounted)){const At=x;en(()=>wn(he,qe,At),z)}(x.shapeFlag&256||qe&&Kr(qe.vnode)&&qe.vnode.shapeFlag&256)&&_.a&&en(_.a,z),_.isMounted=!0,x=N=X=null}};_.scope.on();const te=_.effect=new Nu(oe);_.scope.off();const J=_.update=te.run.bind(te),we=_.job=te.runIfDirty.bind(te);we.i=_,we.id=_.uid,te.scheduler=()=>rl(we),mr(_,!0),J()},Be=(_,x,N)=>{x.component=_;const X=_.vnode.props;_.vnode=x,_.next=null,kp(_,x.props,X,N),Lp(_,x.children,N),ir(),rc(_),or()},De=(_,x,N,X,z,Q,fe,oe,te=!1)=>{const J=_&&_.children,we=_?_.shapeFlag:0,he=x.children,{patchFlag:ge,shapeFlag:_e}=x;if(ge>0){if(ge&128){ft(J,he,N,X,z,Q,fe,oe,te);return}else if(ge&256){pt(J,he,N,X,z,Q,fe,oe,te);return}}_e&8?(we&16&&wt(J,z,Q),he!==J&&h(N,he)):we&16?_e&16?ft(J,he,N,X,z,Q,fe,oe,te):wt(J,z,Q,!0):(we&8&&h(N,""),_e&16&&Ie(he,N,X,z,Q,fe,oe,te))},pt=(_,x,N,X,z,Q,fe,oe,te)=>{_=_||Fr,x=x||Fr;const J=_.length,we=x.length,he=Math.min(J,we);let ge;for(ge=0;ge<he;ge++){const _e=x[ge]=te?Xn(x[ge]):xn(x[ge]);F(_[ge],_e,N,null,z,Q,fe,oe,te)}J>we?wt(_,z,Q,!0,!1,he):Ie(x,N,X,z,Q,fe,oe,te,he)},ft=(_,x,N,X,z,Q,fe,oe,te)=>{let J=0;const we=x.length;let he=_.length-1,ge=we-1;for(;J<=he&&J<=ge;){const _e=_[J],ke=x[J]=te?Xn(x[J]):xn(x[J]);if(ps(_e,ke))F(_e,ke,N,null,z,Q,fe,oe,te);else break;J++}for(;J<=he&&J<=ge;){const _e=_[he],ke=x[ge]=te?Xn(x[ge]):xn(x[ge]);if(ps(_e,ke))F(_e,ke,N,null,z,Q,fe,oe,te);else break;he--,ge--}if(J>he){if(J<=ge){const _e=ge+1,ke=_e<we?x[_e].el:X;for(;J<=ge;)F(null,x[J]=te?Xn(x[J]):xn(x[J]),N,ke,z,Q,fe,oe,te),J++}}else if(J>ge)for(;J<=he;)bt(_[J],z,Q,!0),J++;else{const _e=J,ke=J,Ke=new Map;for(J=ke;J<=ge;J++){const _t=x[J]=te?Xn(x[J]):xn(x[J]);_t.key!=null&&Ke.set(_t.key,J)}let qe,xt=0;const st=ge-ke+1;let Nt=!1,At=0;const Yt=new Array(st);for(J=0;J<st;J++)Yt[J]=0;for(J=_e;J<=he;J++){const _t=_[J];if(xt>=st){bt(_t,z,Q,!0);continue}let Ct;if(_t.key!=null)Ct=Ke.get(_t.key);else for(qe=ke;qe<=ge;qe++)if(Yt[qe-ke]===0&&ps(_t,x[qe])){Ct=qe;break}Ct===void 0?bt(_t,z,Q,!0):(Yt[Ct-ke]=J+1,Ct>=At?At=Ct:Nt=!0,F(_t,x[Ct],N,null,z,Q,fe,oe,te),xt++)}const ye=Nt?Up(Yt):Fr;for(qe=ye.length-1,J=st-1;J>=0;J--){const _t=ke+J,Ct=x[_t],ar=_t+1<we?x[_t+1].el:X;Yt[J]===0?F(null,Ct,N,ar,z,Q,fe,oe,te):Nt&&(qe<0||J!==ye[qe]?Pt(Ct,N,ar,2):qe--)}}},Pt=(_,x,N,X,z=null)=>{const{el:Q,type:fe,transition:oe,children:te,shapeFlag:J}=_;if(J&6){Pt(_.component.subTree,x,N,X);return}if(J&128){_.suspense.move(x,N,X);return}if(J&64){fe.move(_,x,N,ve);return}if(fe===Ce){r(Q,x,N);for(let he=0;he<te.length;he++)Pt(te[he],x,N,X);r(_.anchor,x,N);return}if(fe===Ei){ee(_,x,N);return}if(X!==2&&J&1&&oe)if(X===0)oe.beforeEnter(Q),r(Q,x,N),en(()=>oe.enter(Q),z);else{const{leave:he,delayLeave:ge,afterLeave:_e}=oe,ke=()=>r(Q,x,N),Ke=()=>{he(Q,()=>{ke(),_e&&_e()})};ge?ge(Q,ke,Ke):Ke()}else r(Q,x,N)},bt=(_,x,N,X=!1,z=!1)=>{const{type:Q,props:fe,ref:oe,children:te,dynamicChildren:J,shapeFlag:we,patchFlag:he,dirs:ge,cacheIndex:_e}=_;if(he===-2&&(z=!1),oe!=null&&Ni(oe,null,N,_,!0),_e!=null&&(x.renderCache[_e]=void 0),we&256){x.ctx.deactivate(_);return}const ke=we&1&&ge,Ke=!Kr(_);let qe;if(Ke&&(qe=fe&&fe.onVnodeBeforeUnmount)&&wn(qe,x,_),we&6)fn(_.component,N,X);else{if(we&128){_.suspense.unmount(N,X);return}ke&&pr(_,null,x,"beforeUnmount"),we&64?_.type.remove(_,x,N,ve,X):J&&!J.hasOnce&&(Q!==Ce||he>0&&he&64)?wt(J,x,N,!1,!0):(Q===Ce&&he&384||!z&&we&16)&&wt(te,x,N),X&&Rt(_)}(Ke&&(qe=fe&&fe.onVnodeUnmounted)||ke)&&en(()=>{qe&&wn(qe,x,_),ke&&pr(_,null,x,"unmounted")},N)},Rt=_=>{const{type:x,el:N,anchor:X,transition:z}=_;if(x===Ce){un(N,X);return}if(x===Ei){ie(_);return}const Q=()=>{s(N),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(_.shapeFlag&1&&z&&!z.persisted){const{leave:fe,delayLeave:oe}=z,te=()=>fe(N,Q);oe?oe(_.el,Q,te):te()}else Q()},un=(_,x)=>{let N;for(;_!==x;)N=b(_),s(_),_=N;s(x)},fn=(_,x,N)=>{const{bum:X,scope:z,job:Q,subTree:fe,um:oe,m:te,a:J}=_;uc(te),uc(J),X&&Si(X),z.stop(),Q&&(Q.flags|=8,bt(fe,_,x,N)),oe&&en(oe,x),en(()=>{_.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},wt=(_,x,N,X=!1,z=!1,Q=0)=>{for(let fe=Q;fe<_.length;fe++)bt(_[fe],x,N,X,z)},W=_=>{if(_.shapeFlag&6)return W(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const x=b(_.anchor||_.el),N=x&&x[op];return N?b(N):x};let pe=!1;const q=(_,x,N)=>{_==null?x._vnode&&bt(x._vnode,null,null,!0):F(x._vnode||null,_,x,null,null,null,N),x._vnode=_,pe||(pe=!0,rc(),tf(),pe=!1)},ve={p:F,um:bt,m:Pt,r:Rt,mt:St,mc:Ie,pc:De,pbc:ct,n:W,o:e};let je,Se;return{render:q,hydrate:je,createApp:Mp(q,je)}}function Zo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function mr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function jp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _f(e,t,n=!1){const r=e.children,s=t.children;if(xe(r)&&xe(s))for(let i=0;i<r.length;i++){const a=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=Xn(s[i]),c.el=a.el),!n&&c.patchFlag!==-2&&_f(a,c)),c.type===eo&&(c.el=a.el)}}function Up(e){const t=e.slice(),n=[0];let r,s,i,a,c;const f=e.length;for(r=0;r<f;r++){const p=e[r];if(p!==0){if(s=n[n.length-1],e[s]<p){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)c=i+a>>1,e[n[c]]<p?i=c+1:a=c;p<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function Sf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sf(t)}function uc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const qp=Symbol.for("v-scx"),Vp=()=>En(qp);function Ci(e,t,n){return xf(e,t,n)}function xf(e,t,n=Qe){const{immediate:r,deep:s,flush:i,once:a}=n,c=Ot({},n),f=t&&r||!t&&i!=="post";let p;if($s){if(i==="sync"){const T=Vp();p=T.__watcherHandles||(T.__watcherHandles=[])}else if(!f){const T=()=>{};return T.stop=Cn,T.resume=Cn,T.pause=Cn,T}}const h=qt;c.call=(T,R,F)=>Dn(T,h,R,F);let g=!1;i==="post"?c.scheduler=T=>{en(T,h&&h.suspense)}:i!=="sync"&&(g=!0,c.scheduler=(T,R)=>{R?T():rl(T)}),c.augmentJob=T=>{t&&(T.flags|=4),g&&(T.flags|=2,h&&(T.id=h.uid,T.i=h))};const b=np(e,t,c);return $s&&(p?p.push(b):f&&b()),b}function Kp(e,t,n){const r=this.proxy,s=yt(e)?e.includes(".")?Cf(r,e):()=>r[e]:e.bind(r,r);let i;Te(t)?i=t:(i=t.handler,n=t);const a=Hs(this),c=xf(s,i.bind(r),n);return a(),c}function Cf(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Hp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${cn(t)}Modifiers`]||e[`${sr(t)}Modifiers`];function zp(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Qe;let s=n;const i=t.startsWith("update:"),a=i&&Hp(r,t.slice(7));a&&(a.trim&&(s=n.map(h=>yt(h)?h.trim():h)),a.number&&(s=n.map(Mi)));let c,f=r[c=Wo(t)]||r[c=Wo(cn(t))];!f&&i&&(f=r[c=Wo(sr(t))]),f&&Dn(f,e,6,s);const p=r[c+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Dn(p,e,6,s)}}function Ef(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},c=!1;if(!Te(e)){const f=p=>{const h=Ef(p,t,!0);h&&(c=!0,Ot(a,h))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!i&&!c?(tt(e)&&r.set(e,null),null):(xe(i)?i.forEach(f=>a[f]=null):Ot(a,i),tt(e)&&r.set(e,a),a)}function Zi(e,t){return!e||!qi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xe(e,t[0].toLowerCase()+t.slice(1))||Xe(e,sr(t))||Xe(e,t))}function ea(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:c,emit:f,render:p,renderCache:h,props:g,data:b,setupState:T,ctx:R,inheritAttrs:F}=e,U=Ri(e);let Z,G;try{if(n.shapeFlag&4){const ie=s||r,be=ie;Z=xn(p.call(be,ie,h,g,T,b,R)),G=c}else{const ie=t;Z=xn(ie.length>1?ie(g,{attrs:c,slots:a,emit:f}):ie(g,null)),G=t.props?c:Wp(c)}}catch(ie){Ts.length=0,Xi(ie,e,1),Z=Ae(nr)}let ee=Z;if(G&&F!==!1){const ie=Object.keys(G),{shapeFlag:be}=ee;ie.length&&be&7&&(i&&ie.some(za)&&(G=Yp(G,i)),ee=Qr(ee,G,!1,!0))}return n.dirs&&(ee=Qr(ee,null,!1,!0),ee.dirs=ee.dirs?ee.dirs.concat(n.dirs):n.dirs),n.transition&&sl(ee,n.transition),Z=ee,Ri(U),Z}const Wp=e=>{let t;for(const n in e)(n==="class"||n==="style"||qi(n))&&((t||(t={}))[n]=e[n]);return t},Yp=(e,t)=>{const n={};for(const r in e)(!za(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Xp(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:c,patchFlag:f}=t,p=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?fc(r,a,p):!!a;if(f&8){const h=t.dynamicProps;for(let g=0;g<h.length;g++){const b=h[g];if(a[b]!==r[b]&&!Zi(p,b))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?fc(r,a,p):!0:!!a;return!1}function fc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Zi(n,i))return!0}return!1}function Gp({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Tf=e=>e.__isSuspense;function Qp(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):ip(e)}const Ce=Symbol.for("v-fgt"),eo=Symbol.for("v-txt"),nr=Symbol.for("v-cmt"),Ei=Symbol.for("v-stc"),Ts=[];let nn=null;function K(e=!1){Ts.push(nn=e?null:[])}function Jp(){Ts.pop(),nn=Ts[Ts.length-1]||null}let Rs=1;function dc(e,t=!1){Rs+=e,e<0&&nn&&t&&(nn.hasOnce=!0)}function Df(e){return e.dynamicChildren=Rs>0?nn||Fr:null,Jp(),Rs>0&&nn&&nn.push(e),e}function Y(e,t,n,r,s,i){return Df(w(e,t,n,r,s,i,!0))}function On(e,t,n,r,s){return Df(Ae(e,t,n,r,s,!0))}function Ns(e){return e?e.__v_isVNode===!0:!1}function ps(e,t){return e.type===t.type&&e.key===t.key}const Of=({key:e})=>e??null,Ti=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?yt(e)||Kt(e)||Te(e)?{i:It,r:e,k:t,f:!!n}:e:null);function w(e,t=null,n=null,r=0,s=null,i=e===Ce?0:1,a=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Of(t),ref:t&&Ti(t),scopeId:rf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:It};return c?(al(f,n),i&128&&e.normalize(f)):n&&(f.shapeFlag|=yt(n)?8:16),Rs>0&&!a&&nn&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&nn.push(f),f}const Ae=Zp;function Zp(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===_p)&&(e=nr),Ns(e)){const c=Qr(e,t,!0);return n&&al(c,n),Rs>0&&!i&&nn&&(c.shapeFlag&6?nn[nn.indexOf(e)]=c:nn.push(c)),c.patchFlag=-2,c}if(u0(e)&&(e=e.__vccOpts),t){t=e0(t);let{class:c,style:f}=t;c&&!yt(c)&&(t.class=Er(c)),tt(f)&&(tl(f)&&!xe(f)&&(f=Ot({},f)),t.style=Xr(f))}const a=yt(e)?1:Tf(e)?128:ap(e)?64:tt(e)?4:Te(e)?2:0;return w(e,t,n,r,s,a,i,!0)}function e0(e){return e?tl(e)||pf(e)?Ot({},e):e:null}function Qr(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:c,transition:f}=e,p=t?t0(s||{},t):s,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Of(p),ref:t&&t.ref?n&&i?xe(i)?i.concat(Ti(t)):[i,Ti(t)]:Ti(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qr(e.ssContent),ssFallback:e.ssFallback&&Qr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&r&&sl(h,f.clone(h)),h}function rn(e=" ",t=0){return Ae(eo,null,e,t)}function Pf(e,t){const n=Ae(Ei,null,e);return n.staticCount=t,n}function lt(e="",t=!1){return t?(K(),On(nr,null,e)):Ae(nr,null,e)}function xn(e){return e==null||typeof e=="boolean"?Ae(nr):xe(e)?Ae(Ce,null,e.slice()):Ns(e)?Xn(e):Ae(eo,null,String(e))}function Xn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qr(e)}function al(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(xe(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),al(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!pf(t)?t._ctx=It:s===3&&It&&(It.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:It},n=32):(t=String(t),r&64?(n=16,t=[rn(t)]):n=8);e.children=t,e.shapeFlag|=n}function t0(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Er([t.class,r.class]));else if(s==="style")t.style=Xr([t.style,r.style]);else if(qi(s)){const i=t[s],a=r[s];a&&i!==a&&!(xe(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function wn(e,t,n,r=null){Dn(e,t,7,[n,r])}const n0=ff();let r0=0;function s0(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||n0,i={uid:r0++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Oh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gf(r,s),emitsOptions:Ef(r,s),emit:null,emitted:null,propsDefaults:Qe,inheritAttrs:r.inheritAttrs,ctx:Qe,data:Qe,props:Qe,attrs:Qe,slots:Qe,refs:Qe,setupState:Qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=zp.bind(null,i),e.ce&&e.ce(i),i}let qt=null,Li,_a;{const e=zi(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};Li=t("__VUE_INSTANCE_SETTERS__",n=>qt=n),_a=t("__VUE_SSR_SETTERS__",n=>$s=n)}const Hs=e=>{const t=qt;return Li(e),e.scope.on(),()=>{e.scope.off(),Li(t)}},hc=()=>{qt&&qt.scope.off(),Li(null)};function Af(e){return e.vnode.shapeFlag&4}let $s=!1;function i0(e,t=!1,n=!1){t&&_a(t);const{props:r,children:s}=e.vnode,i=Af(e);Ip(e,r,i,t),$p(e,s,n);const a=i?o0(e,t):void 0;return t&&_a(!1),a}function o0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cp);const{setup:r}=n;if(r){ir();const s=e.setupContext=r.length>1?l0(e):null,i=Hs(e),a=Ks(r,e,0,[e.props,s]),c=Ou(a);if(or(),i(),(c||e.sp)&&!Kr(e)&&sf(e),c){if(a.then(hc,hc),t)return a.then(f=>{pc(e,f,t)}).catch(f=>{Xi(f,e,0)});e.asyncDep=a}else pc(e,a,t)}else Mf(e,t)}function pc(e,t,n){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:tt(t)&&(e.setupState=Ju(t)),Mf(e,n)}let mc;function Mf(e,t,n){const r=e.type;if(!e.render){if(!t&&mc&&!r.render){const s=r.template||il(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:f}=r,p=Ot(Ot({isCustomElement:i,delimiters:c},a),f);r.render=mc(s,p)}}e.render=r.render||Cn}{const s=Hs(e);ir();try{Ep(e)}finally{or(),s()}}}const a0={get(e,t){return jt(e,"get",""),e[t]}};function l0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,a0),slots:e.slots,emit:e.emit,expose:t}}function to(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ju(Yh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Es)return Es[n](e)},has(t,n){return n in t||n in Es}})):e.proxy}function c0(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function u0(e){return Te(e)&&"__vccOpts"in e}const hn=(e,t)=>ep(e,t,$s);function If(e,t,n){const r=arguments.length;return r===2?tt(t)&&!xe(t)?Ns(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ns(n)&&(n=[n]),Ae(e,t,n))}const f0="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sa;const gc=typeof window<"u"&&window.trustedTypes;if(gc)try{Sa=gc.createPolicy("vue",{createHTML:e=>e})}catch{}const kf=Sa?e=>Sa.createHTML(e):e=>e,d0="http://www.w3.org/2000/svg",h0="http://www.w3.org/1998/Math/MathML",Nn=typeof document<"u"?document:null,yc=Nn&&Nn.createElement("template"),p0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Nn.createElementNS(d0,e):t==="mathml"?Nn.createElementNS(h0,e):n?Nn.createElement(e,{is:n}):Nn.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Nn.createTextNode(e),createComment:e=>Nn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{yc.innerHTML=kf(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const c=yc.content;if(r==="svg"||r==="mathml"){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},m0=Symbol("_vtc");function g0(e,t,n){const r=e[m0];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vc=Symbol("_vod"),y0=Symbol("_vsh"),v0=Symbol(""),b0=/(^|;)\s*display\s*:/;function w0(e,t,n){const r=e.style,s=yt(n);let i=!1;if(n&&!s){if(t)if(yt(t))for(const a of t.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&Di(r,c,"")}else for(const a in t)n[a]==null&&Di(r,a,"");for(const a in n)a==="display"&&(i=!0),Di(r,a,n[a])}else if(s){if(t!==n){const a=r[v0];a&&(n+=";"+a),r.cssText=n,i=b0.test(n)}}else t&&e.removeAttribute("style");vc in e&&(e[vc]=i?r.display:"",e[y0]&&(r.display="none"))}const bc=/\s*!important$/;function Di(e,t,n){if(xe(n))n.forEach(r=>Di(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=_0(e,t);bc.test(n)?e.setProperty(sr(r),n.replace(bc,""),"important"):e[r]=n}}const wc=["Webkit","Moz","ms"],ta={};function _0(e,t){const n=ta[t];if(n)return n;let r=cn(t);if(r!=="filter"&&r in e)return ta[t]=r;r=Hi(r);for(let s=0;s<wc.length;s++){const i=wc[s]+r;if(i in e)return ta[t]=i}return t}const _c="http://www.w3.org/1999/xlink";function Sc(e,t,n,r,s,i=Eh(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(_c,t.slice(6,t.length)):e.setAttributeNS(_c,t,n):n==null||i&&!Iu(n)?e.removeAttribute(t):e.setAttribute(t,i?"":mn(n)?String(n):n)}function xc(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?kf(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?e.getAttribute("value")||"":e.value,f=n==null?e.type==="checkbox"?"on":"":String(n);(c!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Iu(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function Qn(e,t,n,r){e.addEventListener(t,n,r)}function S0(e,t,n,r){e.removeEventListener(t,n,r)}const Cc=Symbol("_vei");function x0(e,t,n,r,s=null){const i=e[Cc]||(e[Cc]={}),a=i[t];if(r&&a)a.value=r;else{const[c,f]=C0(t);if(r){const p=i[t]=D0(r,s);Qn(e,c,p,f)}else a&&(S0(e,c,a,f),i[t]=void 0)}}const Ec=/(?:Once|Passive|Capture)$/;function C0(e){let t;if(Ec.test(e)){t={};let r;for(;r=e.match(Ec);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sr(e.slice(2)),t]}let na=0;const E0=Promise.resolve(),T0=()=>na||(E0.then(()=>na=0),na=Date.now());function D0(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Dn(O0(r,n.value),t,5,[r])};return n.value=e,n.attached=T0(),n}function O0(e,t){if(xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Tc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,P0=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?g0(e,r,a):t==="style"?w0(e,n,r):qi(t)?za(t)||x0(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):A0(e,t,r,a))?(xc(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Sc(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!yt(r))?xc(e,cn(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Sc(e,t,r,a))};function A0(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Tc(t)&&Te(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Tc(t)&&yt(n)?!1:t in e}const Jr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?n=>Si(t,n):t};function M0(e){e.target.composing=!0}function Dc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Bn=Symbol("_assign"),Ft={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Bn]=Jr(s);const i=r||s.props&&s.props.type==="number";Qn(e,t?"change":"input",a=>{if(a.target.composing)return;let c=e.value;n&&(c=c.trim()),i&&(c=Mi(c)),e[Bn](c)}),n&&Qn(e,"change",()=>{e.value=e.value.trim()}),t||(Qn(e,"compositionstart",M0),Qn(e,"compositionend",Dc),Qn(e,"change",Dc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[Bn]=Jr(a),e.composing)return;const c=(i||e.type==="number")&&!/^0\d/.test(e.value)?Mi(e.value):e.value,f=t??"";c!==f&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===f)||(e.value=f))}},xa={created(e,{value:t},n){e.checked=Gr(t,n.props.value),e[Bn]=Jr(n),Qn(e,"change",()=>{e[Bn](Ls(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Bn]=Jr(r),t!==n&&(e.checked=Gr(t,r.props.value))}},I0={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=Vi(t);Qn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Mi(Ls(a)):Ls(a));e[Bn](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,nl(()=>{e._assigning=!1})}),e[Bn]=Jr(r)},mounted(e,{value:t}){Oc(e,t)},beforeUpdate(e,t,n){e[Bn]=Jr(n)},updated(e,{value:t}){e._assigning||Oc(e,t)}};function Oc(e,t){const n=e.multiple,r=xe(t);if(!(n&&!r&&!Vi(t))){for(let s=0,i=e.options.length;s<i;s++){const a=e.options[s],c=Ls(a);if(n)if(r){const f=typeof c;f==="string"||f==="number"?a.selected=t.some(p=>String(p)===String(c)):a.selected=Dh(t,c)>-1}else a.selected=t.has(c);else if(Gr(Ls(a),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ls(e){return"_value"in e?e._value:e.value}const k0=["ctrl","shift","alt","meta"],R0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>k0.some(n=>e[`${n}Key`]&&!t.includes(n))},Mt=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let a=0;a<t.length;a++){const c=R0[t[a]];if(c&&c(s,t))return}return e(s,...i)})},N0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$0=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=sr(s.key);if(t.some(a=>a===i||N0[a]===i))return e(s)})},L0=Ot({patchProp:P0},p0);let Pc;function B0(){return Pc||(Pc=Bp(L0))}const F0=(...e)=>{const t=B0().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=U0(r);if(!s)return;const i=t._component;!Te(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,j0(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function j0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function U0(e){return yt(e)?document.querySelector(e):e}const Ve=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},q0={name:"App"};function V0(e,t,n,r,s,i){const a=Ue("router-view");return K(),On(a)}const K0=Ve(q0,[["render",V0]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const $r=typeof document<"u";function Rf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function H0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Rf(e.default)}const We=Object.assign;function ra(e,t){const n={};for(const r in t){const s=t[r];n[r]=gn(s)?s.map(e):e(s)}return n}const Ds=()=>{},gn=Array.isArray,Nf=/#/g,z0=/&/g,W0=/\//g,Y0=/=/g,X0=/\?/g,$f=/\+/g,G0=/%5B/g,Q0=/%5D/g,Lf=/%5E/g,J0=/%60/g,Bf=/%7B/g,Z0=/%7C/g,Ff=/%7D/g,em=/%20/g;function ll(e){return encodeURI(""+e).replace(Z0,"|").replace(G0,"[").replace(Q0,"]")}function tm(e){return ll(e).replace(Bf,"{").replace(Ff,"}").replace(Lf,"^")}function Ca(e){return ll(e).replace($f,"%2B").replace(em,"+").replace(Nf,"%23").replace(z0,"%26").replace(J0,"`").replace(Bf,"{").replace(Ff,"}").replace(Lf,"^")}function nm(e){return Ca(e).replace(Y0,"%3D")}function rm(e){return ll(e).replace(Nf,"%23").replace(X0,"%3F")}function sm(e){return e==null?"":rm(e).replace(W0,"%2F")}function Bs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const im=/\/$/,om=e=>e.replace(im,"");function sa(e,t,n="/"){let r,s={},i="",a="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(r=t.slice(0,f),i=t.slice(f+1,c>-1?c:t.length),s=e(i)),c>-1&&(r=r||t.slice(0,c),a=t.slice(c,t.length)),r=um(r??t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:Bs(a)}}function am(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ac(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function lm(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Zr(t.matched[r],n.matched[s])&&jf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Zr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!cm(e[n],t[n]))return!1;return!0}function cm(e,t){return gn(e)?Mc(e,t):gn(t)?Mc(t,e):e===t}function Mc(e,t){return gn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function um(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fs;(function(e){e.pop="pop",e.push="push"})(Fs||(Fs={}));var Os;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Os||(Os={}));function fm(e){if(!e)if($r){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),om(e)}const dm=/^[^#]+#/;function hm(e,t){return e.replace(dm,"#")+t}function pm(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const no=()=>({left:window.scrollX,top:window.scrollY});function mm(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=pm(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ic(e,t){return(history.state?history.state.position-t:-1)+e}const Ea=new Map;function gm(e,t){Ea.set(e,t)}function ym(e){const t=Ea.get(e);return Ea.delete(e),t}let vm=()=>location.protocol+"//"+location.host;function Uf(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let c=s.includes(e.slice(i))?e.slice(i).length:1,f=s.slice(c);return f[0]!=="/"&&(f="/"+f),Ac(f,"")}return Ac(n,e)+r+s}function bm(e,t,n,r){let s=[],i=[],a=null;const c=({state:b})=>{const T=Uf(e,location),R=n.value,F=t.value;let U=0;if(b){if(n.value=T,t.value=b,a&&a===R){a=null;return}U=F?b.position-F.position:0}else r(T);s.forEach(Z=>{Z(n.value,R,{delta:U,type:Fs.pop,direction:U?U>0?Os.forward:Os.back:Os.unknown})})};function f(){a=n.value}function p(b){s.push(b);const T=()=>{const R=s.indexOf(b);R>-1&&s.splice(R,1)};return i.push(T),T}function h(){const{history:b}=window;b.state&&b.replaceState(We({},b.state,{scroll:no()}),"")}function g(){for(const b of i)b();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:f,listen:p,destroy:g}}function kc(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?no():null}}function wm(e){const{history:t,location:n}=window,r={value:Uf(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(f,p,h){const g=e.indexOf("#"),b=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+f:vm()+e+f;try{t[h?"replaceState":"pushState"](p,"",b),s.value=p}catch(T){console.error(T),n[h?"replace":"assign"](b)}}function a(f,p){const h=We({},t.state,kc(s.value.back,f,s.value.forward,!0),p,{position:s.value.position});i(f,h,!0),r.value=f}function c(f,p){const h=We({},s.value,t.state,{forward:f,scroll:no()});i(h.current,h,!0);const g=We({},kc(r.value,f,null),{position:h.position+1},p);i(f,g,!1),r.value=f}return{location:r,state:s,push:c,replace:a}}function _m(e){e=fm(e);const t=wm(e),n=bm(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=We({location:"",base:e,go:r,createHref:hm.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Sm(e){return typeof e=="string"||e&&typeof e=="object"}function qf(e){return typeof e=="string"||typeof e=="symbol"}const Vf=Symbol("");var Rc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Rc||(Rc={}));function es(e,t){return We(new Error,{type:e,[Vf]:!0},t)}function Rn(e,t){return e instanceof Error&&Vf in e&&(t==null||!!(e.type&t))}const Nc="[^/]+?",xm={sensitive:!1,strict:!1,start:!0,end:!0},Cm=/[.+*?^${}()[\]/\\]/g;function Em(e,t){const n=We({},xm,t),r=[];let s=n.start?"^":"";const i=[];for(const p of e){const h=p.length?[]:[90];n.strict&&!p.length&&(s+="/");for(let g=0;g<p.length;g++){const b=p[g];let T=40+(n.sensitive?.25:0);if(b.type===0)g||(s+="/"),s+=b.value.replace(Cm,"\\$&"),T+=40;else if(b.type===1){const{value:R,repeatable:F,optional:U,regexp:Z}=b;i.push({name:R,repeatable:F,optional:U});const G=Z||Nc;if(G!==Nc){T+=10;try{new RegExp(`(${G})`)}catch(ie){throw new Error(`Invalid custom RegExp for param "${R}" (${G}): `+ie.message)}}let ee=F?`((?:${G})(?:/(?:${G}))*)`:`(${G})`;g||(ee=U&&p.length<2?`(?:/${ee})`:"/"+ee),U&&(ee+="?"),s+=ee,T+=20,U&&(T+=-8),F&&(T+=-20),G===".*"&&(T+=-50)}h.push(T)}r.push(h)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function c(p){const h=p.match(a),g={};if(!h)return null;for(let b=1;b<h.length;b++){const T=h[b]||"",R=i[b-1];g[R.name]=T&&R.repeatable?T.split("/"):T}return g}function f(p){let h="",g=!1;for(const b of e){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const T of b)if(T.type===0)h+=T.value;else if(T.type===1){const{value:R,repeatable:F,optional:U}=T,Z=R in p?p[R]:"";if(gn(Z)&&!F)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const G=gn(Z)?Z.join("/"):Z;if(!G)if(U)b.length<2&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${R}"`);h+=G}}return h||"/"}return{re:a,score:r,keys:i,parse:c,stringify:f}}function Tm(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Kf(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Tm(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if($c(r))return 1;if($c(s))return-1}return s.length-r.length}function $c(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Dm={type:0,value:""},Om=/[a-zA-Z0-9_]/;function Pm(e){if(!e)return[[]];if(e==="/")return[[Dm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(T){throw new Error(`ERR (${n})/"${p}": ${T}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let c=0,f,p="",h="";function g(){p&&(n===0?i.push({type:0,value:p}):n===1||n===2||n===3?(i.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:p,regexp:h,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function b(){p+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&g(),a()):f===":"?(g(),n=1):b();break;case 4:b(),n=r;break;case 1:f==="("?n=2:Om.test(f)?b():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+f:n=3:h+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),g(),a(),s}function Am(e,t,n){const r=Em(Pm(e.path),n),s=We(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Mm(e,t){const n=[],r=new Map;t=jc({strict:!1,end:!0,sensitive:!1},t);function s(g){return r.get(g)}function i(g,b,T){const R=!T,F=Bc(g);F.aliasOf=T&&T.record;const U=jc(t,g),Z=[F];if("alias"in g){const ie=typeof g.alias=="string"?[g.alias]:g.alias;for(const be of ie)Z.push(Bc(We({},F,{components:T?T.record.components:F.components,path:be,aliasOf:T?T.record:F})))}let G,ee;for(const ie of Z){const{path:be}=ie;if(b&&be[0]!=="/"){const V=b.record.path,ue=V[V.length-1]==="/"?"":"/";ie.path=b.record.path+(be&&ue+be)}if(G=Am(ie,b,U),T?T.alias.push(G):(ee=ee||G,ee!==G&&ee.alias.push(G),R&&g.name&&!Fc(G)&&a(g.name)),Hf(G)&&f(G),F.children){const V=F.children;for(let ue=0;ue<V.length;ue++)i(V[ue],G,T&&T.children[ue])}T=T||G}return ee?()=>{a(ee)}:Ds}function a(g){if(qf(g)){const b=r.get(g);b&&(r.delete(g),n.splice(n.indexOf(b),1),b.children.forEach(a),b.alias.forEach(a))}else{const b=n.indexOf(g);b>-1&&(n.splice(b,1),g.record.name&&r.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function c(){return n}function f(g){const b=Rm(g,n);n.splice(b,0,g),g.record.name&&!Fc(g)&&r.set(g.record.name,g)}function p(g,b){let T,R={},F,U;if("name"in g&&g.name){if(T=r.get(g.name),!T)throw es(1,{location:g});U=T.record.name,R=We(Lc(b.params,T.keys.filter(ee=>!ee.optional).concat(T.parent?T.parent.keys.filter(ee=>ee.optional):[]).map(ee=>ee.name)),g.params&&Lc(g.params,T.keys.map(ee=>ee.name))),F=T.stringify(R)}else if(g.path!=null)F=g.path,T=n.find(ee=>ee.re.test(F)),T&&(R=T.parse(F),U=T.record.name);else{if(T=b.name?r.get(b.name):n.find(ee=>ee.re.test(b.path)),!T)throw es(1,{location:g,currentLocation:b});U=T.record.name,R=We({},b.params,g.params),F=T.stringify(R)}const Z=[];let G=T;for(;G;)Z.unshift(G.record),G=G.parent;return{name:U,path:F,params:R,matched:Z,meta:km(Z)}}e.forEach(g=>i(g));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:p,removeRoute:a,clearRoutes:h,getRoutes:c,getRecordMatcher:s}}function Lc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Bc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Im(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Im(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Fc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function km(e){return e.reduce((t,n)=>We(t,n.meta),{})}function jc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Rm(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Kf(e,t[i])<0?r=i:n=i+1}const s=Nm(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function Nm(e){let t=e;for(;t=t.parent;)if(Hf(t)&&Kf(e,t)===0)return t}function Hf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function $m(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace($f," "),a=i.indexOf("="),c=Bs(a<0?i:i.slice(0,a)),f=a<0?null:Bs(i.slice(a+1));if(c in t){let p=t[c];gn(p)||(p=t[c]=[p]),p.push(f)}else t[c]=f}return t}function Uc(e){let t="";for(let n in e){const r=e[n];if(n=nm(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(gn(r)?r.map(i=>i&&Ca(i)):[r&&Ca(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Lm(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=gn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Bm=Symbol(""),qc=Symbol(""),ro=Symbol(""),zf=Symbol(""),Ta=Symbol("");function ms(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Gn(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,f)=>{const p=b=>{b===!1?f(es(4,{from:n,to:t})):b instanceof Error?f(b):Sm(b)?f(es(2,{from:t,to:b})):(a&&r.enterCallbacks[s]===a&&typeof b=="function"&&a.push(b),c())},h=i(()=>e.call(r&&r.instances[s],t,n,p));let g=Promise.resolve(h);e.length<3&&(g=g.then(p)),g.catch(b=>f(b))})}function ia(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const c in a.components){let f=a.components[c];if(!(t!=="beforeRouteEnter"&&!a.instances[c]))if(Rf(f)){const h=(f.__vccOpts||f)[t];h&&i.push(Gn(h,n,r,a,c,s))}else{let p=f();i.push(()=>p.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${c}" at "${a.path}"`);const g=H0(h)?h.default:h;a.mods[c]=h,a.components[c]=g;const T=(g.__vccOpts||g)[t];return T&&Gn(T,n,r,a,c,s)()}))}}return i}function Vc(e){const t=En(ro),n=En(zf),r=hn(()=>{const f=qr(e.to);return t.resolve(f)}),s=hn(()=>{const{matched:f}=r.value,{length:p}=f,h=f[p-1],g=n.matched;if(!h||!g.length)return-1;const b=g.findIndex(Zr.bind(null,h));if(b>-1)return b;const T=Kc(f[p-2]);return p>1&&Kc(h)===T&&g[g.length-1].path!==T?g.findIndex(Zr.bind(null,f[p-2])):b}),i=hn(()=>s.value>-1&&Vm(n.params,r.value.params)),a=hn(()=>s.value>-1&&s.value===n.matched.length-1&&jf(n.params,r.value.params));function c(f={}){if(qm(f)){const p=t[qr(e.replace)?"replace":"push"](qr(e.to)).catch(Ds);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:r,href:hn(()=>r.value.href),isActive:i,isExactActive:a,navigate:c}}function Fm(e){return e.length===1?e[0]:e}const jm=Qi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Vc,setup(e,{slots:t}){const n=Yi(Vc(e)),{options:r}=En(ro),s=hn(()=>({[Hc(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Hc(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&Fm(t.default(n));return e.custom?i:If("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Um=jm;function qm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Vm(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!gn(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function Kc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Hc=(e,t,n)=>e??t??n,Km=Qi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=En(Ta),s=hn(()=>e.route||r.value),i=En(qc,0),a=hn(()=>{let p=qr(i);const{matched:h}=s.value;let g;for(;(g=h[p])&&!g.components;)p++;return p}),c=hn(()=>s.value.matched[a.value]);xi(qc,hn(()=>a.value+1)),xi(Bm,c),xi(Ta,s);const f=Xh();return Ci(()=>[f.value,c.value,e.name],([p,h,g],[b,T,R])=>{h&&(h.instances[g]=p,T&&T!==h&&p&&p===b&&(h.leaveGuards.size||(h.leaveGuards=T.leaveGuards),h.updateGuards.size||(h.updateGuards=T.updateGuards))),p&&h&&(!T||!Zr(h,T)||!b)&&(h.enterCallbacks[g]||[]).forEach(F=>F(p))},{flush:"post"}),()=>{const p=s.value,h=e.name,g=c.value,b=g&&g.components[h];if(!b)return zc(n.default,{Component:b,route:p});const T=g.props[h],R=T?T===!0?p.params:typeof T=="function"?T(p):T:null,U=If(b,We({},R,t,{onVnodeUnmounted:Z=>{Z.component.isUnmounted&&(g.instances[h]=null)},ref:f}));return zc(n.default,{Component:U,route:p})||U}}});function zc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Hm=Km;function zm(e){const t=Mm(e.routes,e),n=e.parseQuery||$m,r=e.stringifyQuery||Uc,s=e.history,i=ms(),a=ms(),c=ms(),f=Gh(zn);let p=zn;$r&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ra.bind(null,W=>""+W),g=ra.bind(null,sm),b=ra.bind(null,Bs);function T(W,pe){let q,ve;return qf(W)?(q=t.getRecordMatcher(W),ve=pe):ve=W,t.addRoute(ve,q)}function R(W){const pe=t.getRecordMatcher(W);pe&&t.removeRoute(pe)}function F(){return t.getRoutes().map(W=>W.record)}function U(W){return!!t.getRecordMatcher(W)}function Z(W,pe){if(pe=We({},pe||f.value),typeof W=="string"){const x=sa(n,W,pe.path),N=t.resolve({path:x.path},pe),X=s.createHref(x.fullPath);return We(x,N,{params:b(N.params),hash:Bs(x.hash),redirectedFrom:void 0,href:X})}let q;if(W.path!=null)q=We({},W,{path:sa(n,W.path,pe.path).path});else{const x=We({},W.params);for(const N in x)x[N]==null&&delete x[N];q=We({},W,{params:g(x)}),pe.params=g(pe.params)}const ve=t.resolve(q,pe),je=W.hash||"";ve.params=h(b(ve.params));const Se=am(r,We({},W,{hash:tm(je),path:ve.path})),_=s.createHref(Se);return We({fullPath:Se,hash:je,query:r===Uc?Lm(W.query):W.query||{}},ve,{redirectedFrom:void 0,href:_})}function G(W){return typeof W=="string"?sa(n,W,f.value.path):We({},W)}function ee(W,pe){if(p!==W)return es(8,{from:pe,to:W})}function ie(W){return ue(W)}function be(W){return ie(We(G(W),{replace:!0}))}function V(W){const pe=W.matched[W.matched.length-1];if(pe&&pe.redirect){const{redirect:q}=pe;let ve=typeof q=="function"?q(W):q;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=G(ve):{path:ve},ve.params={}),We({query:W.query,hash:W.hash,params:ve.path!=null?{}:W.params},ve)}}function ue(W,pe){const q=p=Z(W),ve=f.value,je=W.state,Se=W.force,_=W.replace===!0,x=V(q);if(x)return ue(We(G(x),{state:typeof x=="object"?We({},je,x.state):je,force:Se,replace:_}),pe||q);const N=q;N.redirectedFrom=pe;let X;return!Se&&lm(r,ve,q)&&(X=es(16,{to:N,from:ve}),Pt(ve,ve,!0,!1)),(X?Promise.resolve(X):ct(N,ve)).catch(z=>Rn(z)?Rn(z,2)?z:ft(z):De(z,N,ve)).then(z=>{if(z){if(Rn(z,2))return ue(We({replace:_},G(z.to),{state:typeof z.to=="object"?We({},je,z.to.state):je,force:Se}),pe||N)}else z=ut(N,ve,!0,_,je);return vt(N,ve,z),z})}function Ie(W,pe){const q=ee(W,pe);return q?Promise.reject(q):Promise.resolve()}function Je(W){const pe=un.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(W):W()}function ct(W,pe){let q;const[ve,je,Se]=Wm(W,pe);q=ia(ve.reverse(),"beforeRouteLeave",W,pe);for(const x of ve)x.leaveGuards.forEach(N=>{q.push(Gn(N,W,pe))});const _=Ie.bind(null,W,pe);return q.push(_),wt(q).then(()=>{q=[];for(const x of i.list())q.push(Gn(x,W,pe));return q.push(_),wt(q)}).then(()=>{q=ia(je,"beforeRouteUpdate",W,pe);for(const x of je)x.updateGuards.forEach(N=>{q.push(Gn(N,W,pe))});return q.push(_),wt(q)}).then(()=>{q=[];for(const x of Se)if(x.beforeEnter)if(gn(x.beforeEnter))for(const N of x.beforeEnter)q.push(Gn(N,W,pe));else q.push(Gn(x.beforeEnter,W,pe));return q.push(_),wt(q)}).then(()=>(W.matched.forEach(x=>x.enterCallbacks={}),q=ia(Se,"beforeRouteEnter",W,pe,Je),q.push(_),wt(q))).then(()=>{q=[];for(const x of a.list())q.push(Gn(x,W,pe));return q.push(_),wt(q)}).catch(x=>Rn(x,8)?x:Promise.reject(x))}function vt(W,pe,q){c.list().forEach(ve=>Je(()=>ve(W,pe,q)))}function ut(W,pe,q,ve,je){const Se=ee(W,pe);if(Se)return Se;const _=pe===zn,x=$r?history.state:{};q&&(ve||_?s.replace(W.fullPath,We({scroll:_&&x&&x.scroll},je)):s.push(W.fullPath,je)),f.value=W,Pt(W,pe,q,_),ft()}let Ge;function St(){Ge||(Ge=s.listen((W,pe,q)=>{if(!fn.listening)return;const ve=Z(W),je=V(ve);if(je){ue(We(je,{replace:!0,force:!0}),ve).catch(Ds);return}p=ve;const Se=f.value;$r&&gm(Ic(Se.fullPath,q.delta),no()),ct(ve,Se).catch(_=>Rn(_,12)?_:Rn(_,2)?(ue(We(G(_.to),{force:!0}),ve).then(x=>{Rn(x,20)&&!q.delta&&q.type===Fs.pop&&s.go(-1,!1)}).catch(Ds),Promise.reject()):(q.delta&&s.go(-q.delta,!1),De(_,ve,Se))).then(_=>{_=_||ut(ve,Se,!1),_&&(q.delta&&!Rn(_,8)?s.go(-q.delta,!1):q.type===Fs.pop&&Rn(_,20)&&s.go(-1,!1)),vt(ve,Se,_)}).catch(Ds)}))}let nt=ms(),ze=ms(),Be;function De(W,pe,q){ft(W);const ve=ze.list();return ve.length?ve.forEach(je=>je(W,pe,q)):console.error(W),Promise.reject(W)}function pt(){return Be&&f.value!==zn?Promise.resolve():new Promise((W,pe)=>{nt.add([W,pe])})}function ft(W){return Be||(Be=!W,St(),nt.list().forEach(([pe,q])=>W?q(W):pe()),nt.reset()),W}function Pt(W,pe,q,ve){const{scrollBehavior:je}=e;if(!$r||!je)return Promise.resolve();const Se=!q&&ym(Ic(W.fullPath,0))||(ve||!q)&&history.state&&history.state.scroll||null;return nl().then(()=>je(W,pe,Se)).then(_=>_&&mm(_)).catch(_=>De(_,W,pe))}const bt=W=>s.go(W);let Rt;const un=new Set,fn={currentRoute:f,listening:!0,addRoute:T,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:U,getRoutes:F,resolve:Z,options:e,push:ie,replace:be,go:bt,back:()=>bt(-1),forward:()=>bt(1),beforeEach:i.add,beforeResolve:a.add,afterEach:c.add,onError:ze.add,isReady:pt,install(W){const pe=this;W.component("RouterLink",Um),W.component("RouterView",Hm),W.config.globalProperties.$router=pe,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>qr(f)}),$r&&!Rt&&f.value===zn&&(Rt=!0,ie(s.location).catch(je=>{}));const q={};for(const je in zn)Object.defineProperty(q,je,{get:()=>f.value[je],enumerable:!0});W.provide(ro,pe),W.provide(zf,Xu(q)),W.provide(Ta,f);const ve=W.unmount;un.add(W),W.unmount=function(){un.delete(W),un.size<1&&(p=zn,Ge&&Ge(),Ge=null,f.value=zn,Rt=!1,Be=!1),ve()}}};function wt(W){return W.reduce((pe,q)=>pe.then(()=>Je(q)),Promise.resolve())}return fn}function Wm(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const c=t.matched[a];c&&(e.matched.find(p=>Zr(p,c))?r.push(c):n.push(c));const f=e.matched[a];f&&(t.matched.find(p=>Zr(p,f))||s.push(f))}return[n,r,s]}function Wf(){return En(ro)}function Yf(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ym}=Object.prototype,{getPrototypeOf:cl}=Object,so=(e=>t=>{const n=Ym.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=e=>(e=e.toLowerCase(),t=>so(t)===e),io=e=>t=>typeof t===e,{isArray:ts}=Array,js=io("undefined");function Xm(e){return e!==null&&!js(e)&&e.constructor!==null&&!js(e.constructor)&&sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xf=yn("ArrayBuffer");function Gm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xf(e.buffer),t}const Qm=io("string"),sn=io("function"),Gf=io("number"),oo=e=>e!==null&&typeof e=="object",Jm=e=>e===!0||e===!1,Oi=e=>{if(so(e)!=="object")return!1;const t=cl(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zm=yn("Date"),eg=yn("File"),tg=yn("Blob"),ng=yn("FileList"),rg=e=>oo(e)&&sn(e.pipe),sg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||sn(e.append)&&((t=so(e))==="formdata"||t==="object"&&sn(e.toString)&&e.toString()==="[object FormData]"))},ig=yn("URLSearchParams"),[og,ag,lg,cg]=["ReadableStream","Request","Response","Headers"].map(yn),ug=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),ts(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let c;for(r=0;r<a;r++)c=i[r],t.call(null,e[c],c,e)}}function Qf(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jf=e=>!js(e)&&e!==br;function Da(){const{caseless:e}=Jf(this)&&this||{},t={},n=(r,s)=>{const i=e&&Qf(t,s)||s;Oi(t[i])&&Oi(r)?t[i]=Da(t[i],r):Oi(r)?t[i]=Da({},r):ts(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&zs(arguments[r],n);return t}const fg=(e,t,n,{allOwnKeys:r}={})=>(zs(t,(s,i)=>{n&&sn(s)?e[i]=Yf(s,n):e[i]=s},{allOwnKeys:r}),e),dg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hg=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},pg=(e,t,n,r)=>{let s,i,a;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=n!==!1&&cl(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},mg=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},gg=e=>{if(!e)return null;if(ts(e))return e;let t=e.length;if(!Gf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&cl(Uint8Array)),vg=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},bg=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},wg=yn("HTMLFormElement"),_g=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Wc=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Sg=yn("RegExp"),Zf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};zs(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},xg=e=>{Zf(e,(t,n)=>{if(sn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(sn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Cg=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return ts(e)?r(e):r(String(e).split(t)),n},Eg=()=>{},Tg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,oa="abcdefghijklmnopqrstuvwxyz",Yc="0123456789",ed={DIGIT:Yc,ALPHA:oa,ALPHA_DIGIT:oa+oa.toUpperCase()+Yc},Dg=(e=16,t=ed.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Og(e){return!!(e&&sn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Pg=e=>{const t=new Array(10),n=(r,s)=>{if(oo(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=ts(r)?[]:{};return zs(r,(a,c)=>{const f=n(a,s+1);!js(f)&&(i[c]=f)}),t[s]=void 0,i}}return r};return n(e,0)},Ag=yn("AsyncFunction"),Mg=e=>e&&(oo(e)||sn(e))&&sn(e.then)&&sn(e.catch),td=((e,t)=>e?setImmediate:t?((n,r)=>(br.addEventListener("message",({source:s,data:i})=>{s===br&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),br.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sn(br.postMessage)),Ig=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||td,j={isArray:ts,isArrayBuffer:Xf,isBuffer:Xm,isFormData:sg,isArrayBufferView:Gm,isString:Qm,isNumber:Gf,isBoolean:Jm,isObject:oo,isPlainObject:Oi,isReadableStream:og,isRequest:ag,isResponse:lg,isHeaders:cg,isUndefined:js,isDate:Zm,isFile:eg,isBlob:tg,isRegExp:Sg,isFunction:sn,isStream:rg,isURLSearchParams:ig,isTypedArray:yg,isFileList:ng,forEach:zs,merge:Da,extend:fg,trim:ug,stripBOM:dg,inherits:hg,toFlatObject:pg,kindOf:so,kindOfTest:yn,endsWith:mg,toArray:gg,forEachEntry:vg,matchAll:bg,isHTMLForm:wg,hasOwnProperty:Wc,hasOwnProp:Wc,reduceDescriptors:Zf,freezeMethods:xg,toObjectSet:Cg,toCamelCase:_g,noop:Eg,toFiniteNumber:Tg,findKey:Qf,global:br,isContextDefined:Jf,ALPHABET:ed,generateString:Dg,isSpecCompliantForm:Og,toJSONObject:Pg,isAsyncFn:Ag,isThenable:Mg,setImmediate:td,asap:Ig};function Pe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}j.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const nd=Pe.prototype,rd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rd[e]={value:e}});Object.defineProperties(Pe,rd);Object.defineProperty(nd,"isAxiosError",{value:!0});Pe.from=(e,t,n,r,s,i)=>{const a=Object.create(nd);return j.toFlatObject(e,a,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),Pe.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const kg=null;function Oa(e){return j.isPlainObject(e)||j.isArray(e)}function sd(e){return j.endsWith(e,"[]")?e.slice(0,-2):e}function Xc(e,t,n){return e?e.concat(t).map(function(s,i){return s=sd(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Rg(e){return j.isArray(e)&&!e.some(Oa)}const Ng=j.toFlatObject(j,{},null,function(t){return/^is[A-Z]/.test(t)});function ao(e,t,n){if(!j.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,U){return!j.isUndefined(U[F])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,a=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(t);if(!j.isFunction(s))throw new TypeError("visitor must be a function");function p(R){if(R===null)return"";if(j.isDate(R))return R.toISOString();if(!f&&j.isBlob(R))throw new Pe("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(R)||j.isTypedArray(R)?f&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function h(R,F,U){let Z=R;if(R&&!U&&typeof R=="object"){if(j.endsWith(F,"{}"))F=r?F:F.slice(0,-2),R=JSON.stringify(R);else if(j.isArray(R)&&Rg(R)||(j.isFileList(R)||j.endsWith(F,"[]"))&&(Z=j.toArray(R)))return F=sd(F),Z.forEach(function(ee,ie){!(j.isUndefined(ee)||ee===null)&&t.append(a===!0?Xc([F],ie,i):a===null?F:F+"[]",p(ee))}),!1}return Oa(R)?!0:(t.append(Xc(U,F,i),p(R)),!1)}const g=[],b=Object.assign(Ng,{defaultVisitor:h,convertValue:p,isVisitable:Oa});function T(R,F){if(!j.isUndefined(R)){if(g.indexOf(R)!==-1)throw Error("Circular reference detected in "+F.join("."));g.push(R),j.forEach(R,function(Z,G){(!(j.isUndefined(Z)||Z===null)&&s.call(t,Z,j.isString(G)?G.trim():G,F,b))===!0&&T(Z,F?F.concat(G):[G])}),g.pop()}}if(!j.isObject(e))throw new TypeError("data must be an object");return T(e),t}function Gc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ul(e,t){this._pairs=[],e&&ao(e,this,t)}const id=ul.prototype;id.append=function(t,n){this._pairs.push([t,n])};id.toString=function(t){const n=t?function(r){return t.call(this,r,Gc)}:Gc;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function $g(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function od(e,t,n){if(!t)return e;const r=n&&n.encode||$g;j.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=j.isURLSearchParams(t)?t.toString():new ul(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Qc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){j.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ad={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lg=typeof URLSearchParams<"u"?URLSearchParams:ul,Bg=typeof FormData<"u"?FormData:null,Fg=typeof Blob<"u"?Blob:null,jg={isBrowser:!0,classes:{URLSearchParams:Lg,FormData:Bg,Blob:Fg},protocols:["http","https","file","blob","url","data"]},fl=typeof window<"u"&&typeof document<"u",Pa=typeof navigator=="object"&&navigator||void 0,Ug=fl&&(!Pa||["ReactNative","NativeScript","NS"].indexOf(Pa.product)<0),qg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vg=fl&&window.location.href||"http://localhost",Kg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fl,hasStandardBrowserEnv:Ug,hasStandardBrowserWebWorkerEnv:qg,navigator:Pa,origin:Vg},Symbol.toStringTag,{value:"Module"})),Vt={...Kg,...jg};function Hg(e,t){return ao(e,new Vt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Vt.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function zg(e){return j.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Wg(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function ld(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),f=i>=n.length;return a=!a&&j.isArray(s)?s.length:a,f?(j.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!j.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&j.isArray(s[a])&&(s[a]=Wg(s[a])),!c)}if(j.isFormData(e)&&j.isFunction(e.entries)){const n={};return j.forEachEntry(e,(r,s)=>{t(zg(r),s,n,0)}),n}return null}function Yg(e,t,n){if(j.isString(e))try{return(t||JSON.parse)(e),j.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Ws={transitional:ad,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=j.isObject(t);if(i&&j.isHTMLForm(t)&&(t=new FormData(t)),j.isFormData(t))return s?JSON.stringify(ld(t)):t;if(j.isArrayBuffer(t)||j.isBuffer(t)||j.isStream(t)||j.isFile(t)||j.isBlob(t)||j.isReadableStream(t))return t;if(j.isArrayBufferView(t))return t.buffer;if(j.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hg(t,this.formSerializer).toString();if((c=j.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ao(c?{"files[]":t}:t,f&&new f,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Yg(t)):t}],transformResponse:[function(t){const n=this.transitional||Ws.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(j.isResponse(t)||j.isReadableStream(t))return t;if(t&&j.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?Pe.from(c,Pe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vt.classes.FormData,Blob:Vt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],e=>{Ws.headers[e]={}});const Xg=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gg=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&Xg[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Jc=Symbol("internals");function gs(e){return e&&String(e).trim().toLowerCase()}function Pi(e){return e===!1||e==null?e:j.isArray(e)?e.map(Pi):String(e)}function Qg(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Jg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function aa(e,t,n,r,s){if(j.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!j.isString(t)){if(j.isString(r))return t.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(t)}}function Zg(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ey(e,t){const n=j.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}class Qt{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(c,f,p){const h=gs(f);if(!h)throw new Error("header name must be a non-empty string");const g=j.findKey(s,h);(!g||s[g]===void 0||p===!0||p===void 0&&s[g]!==!1)&&(s[g||f]=Pi(c))}const a=(c,f)=>j.forEach(c,(p,h)=>i(p,h,f));if(j.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(j.isString(t)&&(t=t.trim())&&!Jg(t))a(Gg(t),n);else if(j.isHeaders(t))for(const[c,f]of t.entries())i(f,c,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=gs(t),t){const r=j.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Qg(s);if(j.isFunction(n))return n.call(this,s,r);if(j.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=gs(t),t){const r=j.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||aa(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=gs(a),a){const c=j.findKey(r,a);c&&(!n||aa(r,r[c],c,n))&&(delete r[c],s=!0)}}return j.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||aa(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return j.forEach(this,(s,i)=>{const a=j.findKey(r,i);if(a){n[a]=Pi(s),delete n[i];return}const c=t?Zg(i):String(i).trim();c!==i&&delete n[i],n[c]=Pi(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return j.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Jc]=this[Jc]={accessors:{}}).accessors,s=this.prototype;function i(a){const c=gs(a);r[c]||(ey(s,a),r[c]=!0)}return j.isArray(t)?t.forEach(i):i(t),this}}Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Qt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});j.freezeMethods(Qt);function la(e,t){const n=this||Ws,r=t||n,s=Qt.from(r.headers);let i=r.data;return j.forEach(e,function(c){i=c.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function cd(e){return!!(e&&e.__CANCEL__)}function ns(e,t,n){Pe.call(this,e??"canceled",Pe.ERR_CANCELED,t,n),this.name="CanceledError"}j.inherits(ns,Pe,{__CANCEL__:!0});function ud(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ty(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ny(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(f){const p=Date.now(),h=r[i];a||(a=p),n[s]=f,r[s]=p;let g=i,b=0;for(;g!==s;)b+=n[g++],g=g%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),p-a<t)return;const T=h&&p-h;return T?Math.round(b*1e3/T):void 0}}function ry(e,t){let n=0,r=1e3/t,s,i;const a=(p,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),e.apply(null,p)};return[(...p)=>{const h=Date.now(),g=h-n;g>=r?a(p,h):(s=p,i||(i=setTimeout(()=>{i=null,a(s)},r-g)))},()=>s&&a(s)]}const Bi=(e,t,n=3)=>{let r=0;const s=ny(50,250);return ry(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,f=a-r,p=s(f),h=a<=c;r=a;const g={loaded:a,total:c,progress:c?a/c:void 0,bytes:f,rate:p||void 0,estimated:p&&c&&h?(c-a)/p:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(g)},n)},Zc=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},eu=e=>(...t)=>j.asap(()=>e(...t)),sy=Vt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vt.origin),Vt.navigator&&/(msie|trident)/i.test(Vt.navigator.userAgent)):()=>!0,iy=Vt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];j.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),j.isString(r)&&a.push("path="+r),j.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oy(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ay(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function fd(e,t){return e&&!oy(t)?ay(e,t):t}const tu=e=>e instanceof Qt?{...e}:e;function xr(e,t){t=t||{};const n={};function r(p,h,g,b){return j.isPlainObject(p)&&j.isPlainObject(h)?j.merge.call({caseless:b},p,h):j.isPlainObject(h)?j.merge({},h):j.isArray(h)?h.slice():h}function s(p,h,g,b){if(j.isUndefined(h)){if(!j.isUndefined(p))return r(void 0,p,g,b)}else return r(p,h,g,b)}function i(p,h){if(!j.isUndefined(h))return r(void 0,h)}function a(p,h){if(j.isUndefined(h)){if(!j.isUndefined(p))return r(void 0,p)}else return r(void 0,h)}function c(p,h,g){if(g in t)return r(p,h);if(g in e)return r(void 0,p)}const f={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,h,g)=>s(tu(p),tu(h),g,!0)};return j.forEach(Object.keys(Object.assign({},e,t)),function(h){const g=f[h]||s,b=g(e[h],t[h],h);j.isUndefined(b)&&g!==c||(n[h]=b)}),n}const dd=e=>{const t=xr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:c}=t;t.headers=a=Qt.from(a),t.url=od(fd(t.baseURL,t.url),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(j.isFormData(n)){if(Vt.hasStandardBrowserEnv||Vt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((f=a.getContentType())!==!1){const[p,...h]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([p||"multipart/form-data",...h].join("; "))}}if(Vt.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(t)),r||r!==!1&&sy(t.url))){const p=s&&i&&iy.read(i);p&&a.set(s,p)}return t},ly=typeof XMLHttpRequest<"u",cy=ly&&function(e){return new Promise(function(n,r){const s=dd(e);let i=s.data;const a=Qt.from(s.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:p}=s,h,g,b,T,R;function F(){T&&T(),R&&R(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let U=new XMLHttpRequest;U.open(s.method.toUpperCase(),s.url,!0),U.timeout=s.timeout;function Z(){if(!U)return;const ee=Qt.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders()),be={data:!c||c==="text"||c==="json"?U.responseText:U.response,status:U.status,statusText:U.statusText,headers:ee,config:e,request:U};ud(function(ue){n(ue),F()},function(ue){r(ue),F()},be),U=null}"onloadend"in U?U.onloadend=Z:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(Z)},U.onabort=function(){U&&(r(new Pe("Request aborted",Pe.ECONNABORTED,e,U)),U=null)},U.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,e,U)),U=null},U.ontimeout=function(){let ie=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const be=s.transitional||ad;s.timeoutErrorMessage&&(ie=s.timeoutErrorMessage),r(new Pe(ie,be.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,e,U)),U=null},i===void 0&&a.setContentType(null),"setRequestHeader"in U&&j.forEach(a.toJSON(),function(ie,be){U.setRequestHeader(be,ie)}),j.isUndefined(s.withCredentials)||(U.withCredentials=!!s.withCredentials),c&&c!=="json"&&(U.responseType=s.responseType),p&&([b,R]=Bi(p,!0),U.addEventListener("progress",b)),f&&U.upload&&([g,T]=Bi(f),U.upload.addEventListener("progress",g),U.upload.addEventListener("loadend",T)),(s.cancelToken||s.signal)&&(h=ee=>{U&&(r(!ee||ee.type?new ns(null,e,U):ee),U.abort(),U=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const G=ty(s.url);if(G&&Vt.protocols.indexOf(G)===-1){r(new Pe("Unsupported protocol "+G+":",Pe.ERR_BAD_REQUEST,e));return}U.send(i||null)})},uy=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(p){if(!s){s=!0,c();const h=p instanceof Error?p:this.reason;r.abort(h instanceof Pe?h:new ns(h instanceof Error?h.message:h))}};let a=t&&setTimeout(()=>{a=null,i(new Pe(`timeout ${t} of ms exceeded`,Pe.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:f}=r;return f.unsubscribe=()=>j.asap(c),f}},fy=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},dy=async function*(e,t){for await(const n of hy(e))yield*fy(n,t)},hy=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},nu=(e,t,n,r)=>{const s=dy(e,t);let i=0,a,c=f=>{a||(a=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:p,value:h}=await s.next();if(p){c(),f.close();return}let g=h.byteLength;if(n){let b=i+=g;n(b)}f.enqueue(new Uint8Array(h))}catch(p){throw c(p),p}},cancel(f){return c(f),s.return()}},{highWaterMark:2})},lo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hd=lo&&typeof ReadableStream=="function",py=lo&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),pd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},my=hd&&pd(()=>{let e=!1;const t=new Request(Vt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ru=64*1024,Aa=hd&&pd(()=>j.isReadableStream(new Response("").body)),Fi={stream:Aa&&(e=>e.body)};lo&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Fi[t]&&(Fi[t]=j.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Pe(`Response type '${t}' is not supported`,Pe.ERR_NOT_SUPPORT,r)})})})(new Response);const gy=async e=>{if(e==null)return 0;if(j.isBlob(e))return e.size;if(j.isSpecCompliantForm(e))return(await new Request(Vt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(j.isArrayBufferView(e)||j.isArrayBuffer(e))return e.byteLength;if(j.isURLSearchParams(e)&&(e=e+""),j.isString(e))return(await py(e)).byteLength},yy=async(e,t)=>{const n=j.toFiniteNumber(e.getContentLength());return n??gy(t)},vy=lo&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:c,onUploadProgress:f,responseType:p,headers:h,withCredentials:g="same-origin",fetchOptions:b}=dd(e);p=p?(p+"").toLowerCase():"text";let T=uy([s,i&&i.toAbortSignal()],a),R;const F=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let U;try{if(f&&my&&n!=="get"&&n!=="head"&&(U=await yy(h,r))!==0){let be=new Request(t,{method:"POST",body:r,duplex:"half"}),V;if(j.isFormData(r)&&(V=be.headers.get("content-type"))&&h.setContentType(V),be.body){const[ue,Ie]=Zc(U,Bi(eu(f)));r=nu(be.body,ru,ue,Ie)}}j.isString(g)||(g=g?"include":"omit");const Z="credentials"in Request.prototype;R=new Request(t,{...b,signal:T,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:Z?g:void 0});let G=await fetch(R);const ee=Aa&&(p==="stream"||p==="response");if(Aa&&(c||ee&&F)){const be={};["status","statusText","headers"].forEach(Je=>{be[Je]=G[Je]});const V=j.toFiniteNumber(G.headers.get("content-length")),[ue,Ie]=c&&Zc(V,Bi(eu(c),!0))||[];G=new Response(nu(G.body,ru,ue,()=>{Ie&&Ie(),F&&F()}),be)}p=p||"text";let ie=await Fi[j.findKey(Fi,p)||"text"](G,e);return!ee&&F&&F(),await new Promise((be,V)=>{ud(be,V,{data:ie,headers:Qt.from(G.headers),status:G.status,statusText:G.statusText,config:e,request:R})})}catch(Z){throw F&&F(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,e,R),{cause:Z.cause||Z}):Pe.from(Z,Z&&Z.code,e,R)}}),Ma={http:kg,xhr:cy,fetch:vy};j.forEach(Ma,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const su=e=>`- ${e}`,by=e=>j.isFunction(e)||e===null||e===!1,md={getAdapter:e=>{e=j.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let a;if(r=n,!by(n)&&(r=Ma[(a=String(n)).toLowerCase()],r===void 0))throw new Pe(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(su).join(`
`):" "+su(i[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Ma};function ca(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ns(null,e)}function iu(e){return ca(e),e.headers=Qt.from(e.headers),e.data=la.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),md.getAdapter(e.adapter||Ws.adapter)(e).then(function(r){return ca(e),r.data=la.call(e,e.transformResponse,r),r.headers=Qt.from(r.headers),r},function(r){return cd(r)||(ca(e),r&&r.response&&(r.response.data=la.call(e,e.transformResponse,r.response),r.response.headers=Qt.from(r.response.headers))),Promise.reject(r)})}const gd="1.7.9",co={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{co[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ou={};co.transitional=function(t,n,r){function s(i,a){return"[Axios v"+gd+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,c)=>{if(t===!1)throw new Pe(s(a," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!ou[a]&&(ou[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,c):!0}};co.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function wy(e,t,n){if(typeof e!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const c=e[i],f=c===void 0||a(c,i,e);if(f!==!0)throw new Pe("option "+i+" must be "+f,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+i,Pe.ERR_BAD_OPTION)}}const Ai={assertOptions:wy,validators:co},_n=Ai.validators;class _r{constructor(t){this.defaults=t,this.interceptors={request:new Qc,response:new Qc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ai.assertOptions(r,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),s!=null&&(j.isFunction(s)?n.paramsSerializer={serialize:s}:Ai.assertOptions(s,{encode:_n.function,serialize:_n.function},!0)),Ai.assertOptions(n,{baseUrl:_n.spelling("baseURL"),withXsrfToken:_n.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&j.merge(i.common,i[n.method]);i&&j.forEach(["delete","get","head","post","put","patch","common"],R=>{delete i[R]}),n.headers=Qt.concat(a,i);const c=[];let f=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(n)===!1||(f=f&&F.synchronous,c.unshift(F.fulfilled,F.rejected))});const p=[];this.interceptors.response.forEach(function(F){p.push(F.fulfilled,F.rejected)});let h,g=0,b;if(!f){const R=[iu.bind(this),void 0];for(R.unshift.apply(R,c),R.push.apply(R,p),b=R.length,h=Promise.resolve(n);g<b;)h=h.then(R[g++],R[g++]);return h}b=c.length;let T=n;for(g=0;g<b;){const R=c[g++],F=c[g++];try{T=R(T)}catch(U){F.call(this,U);break}}try{h=iu.call(this,T)}catch(R){return Promise.reject(R)}for(g=0,b=p.length;g<b;)h=h.then(p[g++],p[g++]);return h}getUri(t){t=xr(this.defaults,t);const n=fd(t.baseURL,t.url);return od(n,t.params,t.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(t){_r.prototype[t]=function(n,r){return this.request(xr(r||{},{method:t,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,c){return this.request(xr(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}_r.prototype[t]=n(),_r.prototype[t+"Form"]=n(!0)});class dl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(c=>{r.subscribe(c),i=c}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,c){r.reason||(r.reason=new ns(i,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new dl(function(s){t=s}),cancel:t}}}function _y(e){return function(n){return e.apply(null,n)}}function Sy(e){return j.isObject(e)&&e.isAxiosError===!0}const Ia={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ia).forEach(([e,t])=>{Ia[t]=e});function yd(e){const t=new _r(e),n=Yf(_r.prototype.request,t);return j.extend(n,_r.prototype,t,{allOwnKeys:!0}),j.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return yd(xr(e,s))},n}const Me=yd(Ws);Me.Axios=_r;Me.CanceledError=ns;Me.CancelToken=dl;Me.isCancel=cd;Me.VERSION=gd;Me.toFormData=ao;Me.AxiosError=Pe;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=_y;Me.isAxiosError=Sy;Me.mergeConfig=xr;Me.AxiosHeaders=Qt;Me.formToJSON=e=>ld(j.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=md.getAdapter;Me.HttpStatusCode=Ia;Me.default=Me;function xy(e){e.startsWith("Bearer ")&&(e=e.slice(7,e.length));const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}function kt(e){if(localStorage.getItem("userID")===0)return!0;try{const n=xy(e),r=Math.floor(Date.now()/1e3);return n.exp<r}catch(n){return localStorage.getItem("userID")===0||(console.error("Ошибка декодирования токена:",n),localStorage.removeItem("token")),!0}}function Cy(){const e=localStorage.getItem("token"),t=localStorage.getItem("userID");return t==="0"?!0:!e||kt(e)?(localStorage.removeItem("token"),localStorage.removeItem("userID"),!1):!!t}async function Ey({selectedCategories:e,searchQuery:t,location:n,minPrice:r,maxPrice:s}){let i="http://localhost:8080/usluga/all";n&&(i=`http://localhost:8080/usluga/city?location=${encodeURIComponent(n)}`);try{const c=(await Me.get(i)).data||[];return console.log(c),c.filter(f=>{let p=!0;e.length>0&&(p=e.includes(f.category));let h=!0;r&&f.price<r&&(h=!1),s&&f.price>s&&(h=!1);let g=!0;return t&&(g=f.name.toLowerCase().includes(t.toLowerCase())),p&&h&&g})}catch(a){return console.error("Ошибка фильтрации услуг:",a),[]}}async function vd(){try{return(await Me.get("http://localhost:8080/usluga/all")).data||[]}catch(e){return console.error("Ошибка получения списка всех услуг:",e),[]}}async function Ty(e){const t=localStorage.getItem("token");if(!t||kt(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{return(await Me.get(`http://localhost:8080/usluga/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data}catch(n){throw console.error("Ошибка при получении услуг:",n),n}}async function Dy(e,t){const n=localStorage.getItem("token");if(!n||kt(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{return(await Me.post(`http://localhost:8080/usluga/create/${e}`,t,{headers:{Authorization:`Bearer ${n}`}})).data}catch(r){throw console.error("Ошибка при создании услуги:",r),r}}async function Oy(e){const t=localStorage.getItem("token");if(!t||kt(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");e.slots&&e.slots.length>0&&e.slots.forEach(n=>{if(n.time){let r=n.time.split(":");r.length===2?n.time=`${r[0]}:${r[1]}:00`:n.time=`${r[0]}:${r[1]}:${r[2]}`}}),e.slots.length===0&&(e.slots=null),console.log(t),console.log("before",e);try{const n=await Me.put(`http://localhost:8080/usluga/${e.id}`,e,{headers:{Authorization:t}});return console.log("response",n.data),n.data}catch(n){throw console.error("Ошибка при создании услуги:",n),n}}const Py="http://localhost:8080/portfolio",Ps=localStorage.getItem("token"),Ay=async(e,t)=>{const n=localStorage.getItem("token");if(console.log(n),console.log(t),!n||kt(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const s=(await Me.post(`http://localhost:8080/create/${e}`,{description:t.description},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data.id;return await bd(s,t)}catch(r){throw console.error("Ошибка при создании портфолио:",r),r}},bd=async(e,t)=>{if(!Ps||kt(Ps))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");console.log(t);const n=new FormData;n.append("description",t.description),t.photos.forEach((r,s)=>{if(typeof r=="string"){const i=wd(r);n.append("photos",i,`photo_${s}.png`)}else r instanceof File?n.append("photos",r):console.warn(`Неизвестный формат данных: ${r}`)}),console.log("formdata",n);try{return(await Me.put(`http://localhost:8080/portfolio/${e}`,n,{headers:{Authorization:`Bearer ${Ps}`}})).data}catch(r){throw console.error("Ошибка при обновлении портфолио:",r),r}};function wd(e,t="image/png"){const n=atob(e),r=[];for(let s=0;s<n.length;s+=512){const i=n.slice(s,s+512),a=new Array(i.length);for(let f=0;f<i.length;f++)a[f]=i.charCodeAt(f);const c=new Uint8Array(a);r.push(c)}return new Blob(r,{type:t})}const My=async e=>{try{return(await Me.delete(`${Py}/${e}`,{headers:{Authorization:` ${Ps}`}})).status}catch(t){throw console.error("Ошибка при удалении портфолио:",t),t}},_d=async e=>{try{return(await Me.get(`http://localhost:8080/portfolio/${e}`,{headers:{Authorization:` ${Ps}`}})).data}catch(t){throw console.error("Ошибка при получении портфолио по masterID:",t),t}};async function uo(e){const t=localStorage.getItem("token");if(!t||kt(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const n=await Me.get(`http://localhost:8080/user/${e}`,{headers:{Authorization:t}});if(n.status===200){const r=n.data;return r.password&&delete r.password,r}else{if(n.status===500)return{id:1,name:"Екатерина Банько",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"рвиарв",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 23рнпыв",description:"оваравор",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]};throw localStorage.removeItem("userID"),localStorage.removeItem("token"),console.error(`Ошибка: неожиданный статус ${n.status}`),new Error(`Неожиданный статус: ${n.status}`)}}catch(n){if(localStorage.getItem(e)==="0")return{id:1,name:"Екатерина Банько",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"рвиарв",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 23рнпыв",description:"оваравор",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]};throw console.error("Ошибка при получении данных пользователя:",n.message),new Error("Не удалось получить данные пользователя. Проверьте соединение с сервером.")}}async function hl(e){const t=localStorage.getItem("token");if(!t||kt(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const n=await Me.get(`http://localhost:8080/user/${e}`,{headers:{Authorization:t}});if(n.status===200){const r=n.data;return r.profilePicture?`data:image/png;base64,${r.profilePicture}`:(console.warn("У пользователя нет фотографии профиля"),null)}else throw console.error(`Ошибка: неожиданный статус ${n.status}`),new Error(`Неожиданный статус: ${n.status}`)}catch(n){throw console.error("Ошибка при получении фотографии пользователя:",n.message),new Error("Не удалось получить фотографию пользователя. Проверьте соединение с сервером.")}}async function Iy(e,t){const n=localStorage.getItem("token");if(!n||kt(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");const r=new FormData;if(typeof t=="string"){const s=wd(t);r.append("file",s,"photo.png")}else t instanceof File?r.append("file",t):console.warn(`Неизвестный формат данных: ${t}`);try{return(await Me.put(`http://localhost:8080/user/${e}`,r,{headers:{Authorization:n}})).data}catch(s){return console.error(s),s}}const Jn="/ch/assets/content-img-Bgo_zNOy.png",zr="data:image/svg+xml,%3csvg%20width='316'%20height='175'%20viewBox='0%200%20316%20175'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2030C0%2013.4315%2013.4315%200%2030%200H286C302.569%200%20316%2013.4315%20316%2030V145C316%20161.569%20302.569%20175%20286%20175H30C13.4315%20175%200%20161.569%200%20145V30Z'%20fill='%23F9CFD3'/%3e%3c/svg%3e",ky="scheduleDB",Ry=1,rr="applicationsByDate",Ny=6e4;function pl(){return new Promise((e,t)=>{const n=indexedDB.open(ky,Ry);n.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(rr)||s.createObjectStore(rr,{keyPath:"date"})},n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{t("Ошибка при открытии базы данных: "+r.target.error)}})}async function Sd(e,t){const s=(await pl()).transaction(rr,"readwrite").objectStore(rr),i=Date.now()+Ny,a={date:e,applications:t,expiry:i};return new Promise((c,f)=>{const p=s.put(a);p.onsuccess=()=>{c()},p.onerror=()=>{f("Ошибка при сохранении данных в IndexedDB")}})}async function $y(e){const r=(await pl()).transaction(rr,"readonly").objectStore(rr);return new Promise((s,i)=>{const a=r.get(e);a.onsuccess=()=>{const c=a.result;c&&c.expiry>Date.now()?s(c.applications):s(null)},a.onerror=()=>{i("Ошибка при получении данных из IndexedDB")}})}async function xd(e,t){console.log(`Запрос расписания для пользователя ${e} на день ${t}`);const n=localStorage.getItem("token");if(!n||kt(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const r=await Me.get(`http://localhost:8080/applications/master/${e}`,{headers:{Authorization:n}});if(console.log(r),r.status===200){const i=r.data.filter(a=>new Date(a.date).toISOString().split("T")[0]===t);return i.length>0&&await Sd(t,i),i.map(a=>({id:a.id,uslugaName:a.usluga.name,startTime:`${t}T${a.time}`,endTime:Cd(`${t}T${a.time}`,a.usluga.durationMinutes)}))}else throw console.error(`Ошибка: неожиданный статус ${r.status}`),new Error(`Неожиданный статус: ${r.status}`)}catch(r){throw console.error("Ошибка при запросе расписания:",r.message),new Error("Не удалось получить расписание. Проверьте соединение с сервером.")}}function Cd(e,t){const n=new Date(e);return new Date(n.getTime()+t*6e4).toISOString()}async function au(){const n=(await pl()).transaction(rr,"readonly").objectStore(rr);return new Promise((r,s)=>{const i=n.getAllKeys();i.onsuccess=async()=>{const a=i.result||[],c=new Set;for(let f of a){const p=await $y(f);if(p&&p.length>0){const h=new Date(f).toISOString().split("T")[0];c.add(h)}}r(Array.from(c))},i.onerror=()=>{s("Ошибка при получении списка уникальных дат из IndexedDB")}})}async function Ly(e,t,n){console.log(`Запрос расписания для мастера ${e} на месяц ${t}-${n+1}`);const r=localStorage.getItem("token");if(!r||kt(r))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");const s=[];try{const i=await Me.get(`http://localhost:8080/applications/master/${e}`,{headers:{Authorization:r}});if(i.status===200){const c=i.data.filter(f=>{const p=new Date(f.date);return p.getFullYear()===t&&p.getMonth()===n});if(c.length>0){for(let f of c){const p=new Date(f.date).toISOString().split("T")[0];await Sd(p,[f])}s.push(...c)}}else console.error(`Ошибка: неожиданный статус ${i.status}`);return s.map(a=>({uslugaName:a.usluga.name,startTime:`${a.date}T${a.time}`,endTime:Cd(`${a.date}T${a.time}`,a.usluga.durationMinutes)}))}catch(i){throw console.error("Ошибка при запросе расписания:",i.message),new Error("Не удалось получить расписание. Проверьте соединение с сервером.")}}async function By(e){const t=new Date,n=t.getFullYear(),r=t.getMonth();try{const i=(await Ly(e,n,r)).map(a=>a.startTime.split("T")[0]);return[...new Set(i)]}catch(s){return console.error("Ошибка при получении расписания за месяц:",s),[]}}const Fy="data:image/svg+xml,%3csvg%20width='20'%20height='9'%20viewBox='0%200%2024%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.54%202.57199L13.2446%2012.478C12.8794%2012.8345%2012.4735%2013%2012%2013C11.5265%2013%2011.0936%2012.8217%2010.7418%2012.478L0.459977%202.57199C0.162344%202.27914%20-7.21542e-07%201.93536%20-7.21542e-07%201.51518C-7.21542e-07%200.662096%200.703494%202.08034e-07%201.59639%202.08034e-07C2.02931%202.08034e-07%202.4487%200.165524%202.75986%200.458374L11.9865%209.38394L21.2401%200.458374C21.5513%200.165524%2021.9572%202.08034e-07%2022.4036%202.08034e-07C23.2965%202.08034e-07%2024%200.662096%2024%201.51518C24%201.92263%2023.8377%202.27914%2023.54%202.57199Z'%20fill='%23393939'/%3e%3c/svg%3e",jy="/ch/assets/search2-DPgckNgp.svg",Uy="data:image/svg+xml,%3csvg%20width='29'%20height='20'%20viewBox='0%200%2029%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.71509%2019.6285H24.4613C26.824%2019.6285%2028.1951%2018.3981%2028.1951%2016.047V3.9071C28.1951%201.55603%2026.8117%200.325562%2024.1675%200.325562H4.42128C2.05859%200.325562%200.6875%201.54504%200.6875%203.9071V16.047C0.6875%2018.3981%202.07084%2019.6285%204.71509%2019.6285ZM13.0641%2010.3561L4.15196%202.44592C4.32335%202.41296%204.51922%202.39099%204.72733%202.39099H24.1552C24.3756%202.39099%2024.5715%202.41296%2024.7551%202.45691L15.8552%2010.3561C15.3411%2010.8065%2014.9126%2011.0043%2014.4596%2011.0043C14.0067%2011.0043%2013.5782%2010.7955%2013.0641%2010.3561ZM2.97674%204.06091L9.63634%209.9386L2.97674%2015.8492V4.06091ZM19.283%209.9386L25.9058%204.09387V15.8273L19.283%209.9386ZM4.72733%2017.5521C4.50698%2017.5521%204.29886%2017.5302%204.11523%2017.4972L11.1298%2011.257L11.7909%2011.8502C12.6846%2012.6302%2013.5415%2012.9598%2014.4596%2012.9598C15.3655%2012.9598%2016.2347%2012.6302%2017.1161%2011.8502L17.7894%2011.257L24.7918%2017.4862C24.5959%2017.5301%2024.3878%2017.5521%2024.1552%2017.5521H4.72733Z'%20fill='%231C1C1E'/%3e%3c/svg%3e",lu="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='44'%20height='44'%20rx='22'%20fill='%23F7F7F7'/%3e%3c/svg%3e",qy={components:{stub2:zr},data(){return{selectedAddress:"",addresses:[],searchQuery:"",inputVisible:!1,dropdownVisible:!1,isAuthorized:!1,user:{profilePicture:[]},userPhoto:null,userDropdownVisible:!1,schedule:[],scheduleVisible:!1}},computed:{filteredAddresses(){return["Адрес не выбран",...this.addresses.filter(t=>t.toLowerCase().includes(this.searchQuery.toLowerCase()))]}},async created(){if(this.isAuthorized=!kt(localStorage.getItem("token")),localStorage.getItem("userID")==="0"&&(this.isAuthorized=!0,this.userPhoto=Jn),this.isAuthorized){const e=localStorage.getItem("userID");if(e)try{const t=await hl(e);t?this.userPhoto=t:this.userPhoto=Jn}catch(t){console.error("Ошибка при загрузке фотографии профиля:",t),this.userPhoto=Jn}else this.userPhoto=Jn}await this.fetchAddresses(),this.syncSelectedAddress(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{async fetchScheduleForToday(){const e=localStorage.getItem("userID");if(!e)return;const t=new Date().toISOString().split("T")[0];try{this.schedule=await xd(e,t),console.log(this.schedule)}catch(n){console.error("Ошибка при загрузке расписания:",n),this.schedule=[]}},async handleMouseOverSchedule(){this.scheduleVisible=!0,await this.fetchScheduleForToday(),localStorage.getItem("userID")==="0"&&(this.schedule=[{uslugaName:"услуга 1",startTime:"2024-12-23T10:37:00",endTime:"2024-12-23T09:07:00.000Z"},{uslugaName:"услуга 2",startTime:"2024-12-23T12:38:00",endTime:"2024-12-23T11:08:00.000Z"}])},handleMouseLeaveSchedule(){this.scheduleVisible=!1},formatTime(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},handleClickOutside(e){const t=this.$el.querySelector(".avatar-wrapper");t&&!t.contains(e.target)&&(this.userDropdownVisible=!1)},async fetchAddresses(){try{const e=await vd();this.addresses=[...new Set(e.map(t=>t.location))].sort()}catch(e){console.error("Ошибка загрузки адресов:",e)}},syncSelectedAddress(){const e=this.$route.query.location;e&&(this.selectedAddress=e,this.searchQuery=e)},toggleDropdown(){this.dropdownVisible=!this.dropdownVisible},handleInput(){this.dropdownVisible=this.filteredAddresses.length>0},handleBlur(){setTimeout(()=>{this.dropdownVisible=!1},200)},selectAddress(){const e=this.filteredAddresses.find(t=>t.toLowerCase()===this.searchQuery.toLowerCase());e?this.changeLocation(e):(alert("Выберите адрес из списка."),this.selectedAddress="",this.searchQuery=""),this.dropdownVisible=!1},selectAddressFromList(e){this.searchQuery=e,this.changeLocation(e)},changeLocation(e){this.selectedAddress=e==="Адрес не выбран"?"":e,this.searchQuery=e==="Адрес не выбран"?"":e,this.inputVisible=!1,this.dropdownVisible=!1;const t=e==="Адрес не выбран"?{location:null}:{location:e};this.$router.push({path:"/",query:t})},navigateToMain(){this.$router.push("/")},navigateToSearch(){this.$router.push({path:"/",query:{...this.$route.query}}).then(()=>{const e=document.getElementById("search-id");e&&e.scrollIntoView({behavior:"smooth"})})},navigateToMessages(){this.$router.push("/messages")},navigateToProfile(){this.$router.push("/profile")},navigateToReviews(){this.$router.push("/reviews")},navigateToSettings(){this.$router.push("/settings")},navigateToRegister(){this.$router.push("/registration")},navigateToSchedule(){this.$router.push("/schedule")},login(){this.$router.push("/login")},logout(){localStorage.removeItem("token"),localStorage.removeItem("userID"),this.isAuthorized=!1,this.$router.push("/")},toggleUserDropdown(){this.userDropdownVisible=!this.userDropdownVisible}}},Vy={class:"header"},Ky={class:"address-wrapper"},Hy={class:"address-selector"},zy={class:"dropdown-btn"},Wy=["onMousedown"],Yy={class:"controls"},Xy={key:0,class:"schedule-item"},Gy={class:"schedule-item-text"},Qy={class:"title"},Jy={class:"time"},Zy=["src"];function ev(e,t,n,r,s,i){return K(),Y("header",Vy,[w("div",{class:"logo",onClick:t[0]||(t[0]=(...a)=>i.navigateToMain&&i.navigateToMain(...a))},"LOGO"),w("div",Ky,[w("div",Hy,[w("div",zy,[mt(w("input",{type:"text",class:"address-input","onUpdate:modelValue":t[1]||(t[1]=a=>s.searchQuery=a),onInput:t[2]||(t[2]=(...a)=>i.handleInput&&i.handleInput(...a)),onBlur:t[3]||(t[3]=(...a)=>i.handleBlur&&i.handleBlur(...a)),onKeyup:t[4]||(t[4]=$0((...a)=>i.selectAddress&&i.selectAddress(...a),["enter"])),placeholder:"Введите адрес...",onFocus:t[5]||(t[5]=a=>s.dropdownVisible=!0),ref:"addressInput"},null,544),[[Ft,s.searchQuery]]),w("span",{class:"arrow",onClick:t[6]||(t[6]=(...a)=>i.toggleDropdown&&i.toggleDropdown(...a))},t[23]||(t[23]=[w("img",{class:"arrow-icon",src:Fy,alt:"▼"},null,-1)]))]),s.dropdownVisible&&i.filteredAddresses.length?(K(),Y("ul",{key:0,class:"dropdown-list",onMousedown:t[7]||(t[7]=Mt(()=>{},["prevent"]))},[(K(!0),Y(Ce,null,et(i.filteredAddresses,(a,c)=>(K(),Y("li",{key:c,onMousedown:f=>i.selectAddressFromList(a),class:"dropdown-item"},$e(a),41,Wy))),128))],32)):lt("",!0)])]),w("div",Yy,[s.isAuthorized?(K(),Y(Ce,{key:0},[w("button",{class:"icon-btn",onClick:t[8]||(t[8]=(...a)=>i.navigateToSearch&&i.navigateToSearch(...a))},t[24]||(t[24]=[w("img",{class:"icon",src:jy,alt:"Поиск"},null,-1)])),w("button",{class:"icon-btn",onClick:t[9]||(t[9]=(...a)=>i.navigateToMessages&&i.navigateToMessages(...a))},t[25]||(t[25]=[w("img",{class:"icon",src:Uy,alt:"Сообщения"},null,-1)])),w("button",{class:"my-bookings-btn",onClick:t[10]||(t[10]=(...a)=>i.navigateToSchedule&&i.navigateToSchedule(...a)),onMouseover:t[11]||(t[11]=(...a)=>i.handleMouseOverSchedule&&i.handleMouseOverSchedule(...a)),onMouseleave:t[12]||(t[12]=(...a)=>i.handleMouseLeaveSchedule&&i.handleMouseLeaveSchedule(...a))},"Мои записи",32),s.scheduleVisible?(K(),Y("ul",{key:0,class:"schedule-dropdown",onMouseleave:t[13]||(t[13]=(...a)=>i.handleMouseLeaveSchedule&&i.handleMouseLeaveSchedule(...a))},[s.schedule.length===0?(K(),Y("li",Xy,t[26]||(t[26]=[w("img",{src:lu,alt:"Заглушка",class:"schedule-placeholder-img"},null,-1),w("div",{class:"schedule-item-text"},[w("span",{class:"title"},"Записей нет")],-1)]))):lt("",!0),(K(!0),Y(Ce,null,et(s.schedule,(a,c)=>(K(),Y("li",{key:c,class:"schedule-item"},[t[27]||(t[27]=w("img",{src:lu,alt:"Заглушка",class:"schedule-placeholder-img"},null,-1)),w("div",Gy,[w("span",Qy,$e(a.uslugaName),1),w("span",Jy,$e(i.formatTime(a.startTime))+" - "+$e(i.formatTime(a.endTime)),1)])]))),128))],32)):lt("",!0),w("div",{class:"avatar-wrapper",onClick:t[20]||(t[20]=(...a)=>i.toggleUserDropdown&&i.toggleUserDropdown(...a))},[w("img",{src:s.userPhoto,alt:"Аватар пользователя",class:"user-avatar"},null,8,Zy),s.userDropdownVisible?(K(),Y("ul",{key:0,class:"user-dropdown",onMousedown:t[19]||(t[19]=Mt(()=>{},["prevent"]))},[w("li",{class:"user-dropdown-item",onClick:t[14]||(t[14]=Mt((...a)=>i.navigateToProfile&&i.navigateToProfile(...a),["stop"]))},"Профиль"),w("li",{class:"user-dropdown-item",onClick:t[15]||(t[15]=Mt((...a)=>i.navigateToMessages&&i.navigateToMessages(...a),["stop"]))},"Сообщения"),w("li",{class:"user-dropdown-item",onClick:t[16]||(t[16]=Mt((...a)=>i.navigateToReviews&&i.navigateToReviews(...a),["stop"]))},"Отзывы"),w("li",{class:"user-dropdown-item",onClick:t[17]||(t[17]=Mt((...a)=>i.navigateToSettings&&i.navigateToSettings(...a),["stop"]))},"Настройки"),w("li",{class:"user-dropdown-item",onClick:t[18]||(t[18]=Mt((...a)=>i.logout&&i.logout(...a),["stop"]))},"Выйти")],32)):lt("",!0)])],64)):(K(),Y(Ce,{key:1},[w("button",{class:"register-btn",onClick:t[21]||(t[21]=(...a)=>i.navigateToRegister&&i.navigateToRegister(...a))},"Зарегистрироваться"),w("button",{class:"login-btn",onClick:t[22]||(t[22]=(...a)=>i.login&&i.login(...a))},"Войти")],64))])])}const rs=Ve(qy,[["render",ev],["__scopeId","data-v-b0884a11"]]),tv={name:"Poster"},nv={class:"poster-container"};function rv(e,t,n,r,s,i){return K(),Y("div",nv,t[0]||(t[0]=[Pf('<div class="poster-content" data-v-8803e4f1><h1 class="poster-title" data-v-8803e4f1>Записывайся <br data-v-8803e4f1> через приложение</h1><div class="poster-buttons" data-v-8803e4f1><button class="poster-button primary" data-v-8803e4f1>Записаться</button><button class="poster-button secondary" data-v-8803e4f1>Подробнее</button></div></div>',1)]))}const sv=Ve(tv,[["render",rv],["__scopeId","data-v-8803e4f1"]]),iv="/ch/assets/search-SqKRN8gK.svg",ov={props:{filterOptions:{type:Array,required:!0},searchQuery:{type:String,default:""}},data(){return{filterDropdownVisible:!1,searchInputVisible:!1,localSearchQuery:this.searchQuery}},methods:{updateUrlWithFilters(){const e={...this.$route.query},t=this.filterOptions.filter(r=>r.selected).map(r=>r.label),n={...e,filters:t.length?t.join(","):void 0};Object.keys(n).forEach(r=>n[r]===void 0&&delete n[r]),this.$router.push({path:this.$route.path,query:n})},toggleFilterDropdown(){this.filterDropdownVisible=!this.filterDropdownVisible,this.filterDropdownVisible?document.addEventListener("click",this.hideFilterDropdown):document.removeEventListener("click",this.hideFilterDropdown)},hideFilterDropdown(e){this.$el.contains(e.target)||(this.filterDropdownVisible=!1,document.removeEventListener("click",this.hideFilterDropdown))},toggleSearchInput(){this.searchInputVisible=!this.searchInputVisible,this.searchInputVisible&&this.$nextTick(()=>this.$refs.searchInput&&this.$refs.searchInput.focus())},hideSearchInput(){this.searchInputVisible=!1},toggleFilter(e){this.$emit("toggleFilter",e)},applyFilters(){this.$emit("applyFilters"),this.updateUrlWithFilters(),this.filterDropdownVisible=!1,document.removeEventListener("click",this.hideFilterDropdown)},resetFilters(){this.filterOptions.forEach(e=>{e.selected=!1}),this.$emit("resetFilters"),this.updateUrlWithFilters(),this.filterDropdownVisible=!1,document.removeEventListener("click",this.hideFilterDropdown)},onSearchInput(e){const t=e.target.value;this.localSearchQuery=t,this.$emit("updateSearchQuery",t)}}},av={class:"filters-wrapper"},lv=["checked","onChange"],cv=["value"];function uv(e,t,n,r,s,i){return K(),Y("div",{class:"filters-toolbar",onClick:t[6]||(t[6]=Mt((...a)=>i.hideSearchInput&&i.hideSearchInput(...a),["self"]))},[w("div",av,[w("button",{class:"filter-button",onClick:t[0]||(t[0]=Mt((...a)=>i.toggleFilterDropdown&&i.toggleFilterDropdown(...a),["stop"]))},"фильтры"),s.filterDropdownVisible?(K(),Y("div",{key:0,class:"filter-dropdown",onClick:t[3]||(t[3]=Mt(()=>{},["stop"]))},[(K(!0),Y(Ce,null,et(n.filterOptions,(a,c)=>(K(),Y("label",{key:c,class:"filter-option"},[w("input",{type:"checkbox",checked:a.selected,onChange:f=>i.toggleFilter(c)},null,40,lv),rn(" "+$e(a.label),1)]))),128)),w("button",{class:"apply-button",onClick:t[1]||(t[1]=(...a)=>i.applyFilters&&i.applyFilters(...a))},"Применить"),w("button",{class:"reset-button",onClick:t[2]||(t[2]=(...a)=>i.resetFilters&&i.resetFilters(...a))},"Сбросить")])):lt("",!0),w("button",{class:"search-button",onClick:t[4]||(t[4]=Mt((...a)=>i.toggleSearchInput&&i.toggleSearchInput(...a),["stop"]))},t[7]||(t[7]=[w("img",{src:iv,alt:"Поиск",class:"search-icon"},null,-1)])),s.searchInputVisible?(K(),Y("input",{key:1,type:"text",value:s.localSearchQuery,onInput:t[5]||(t[5]=(...a)=>i.onSearchInput&&i.onSearchInput(...a)),placeholder:"Введите название услуги",class:"search-input",ref:"searchInput"},null,40,cv)):lt("",!0)])])}const fv=Ve(ov,[["render",uv],["__scopeId","data-v-02ff0e2d"]]),dv="data:image/svg+xml,%3csvg%20width='31'%20height='27'%20viewBox='0%200%2031%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.4633%2022.5148L24.0047%2018.7179C25.0264%2018.2009%2025.3086%2017.7093%2025.3086%2016.7347V8.92906C25.3086%207.55608%2023.9268%207.19165%2022.8273%207.74254L21.1341%208.59006V6.80179C21.1341%205.42882%2019.7523%205.05591%2018.6528%205.6068L17.1737%206.35261V4.81013C17.1737%203.43715%2015.8017%203.07272%2014.7021%203.62361L7.01479%207.49676C6.03198%207.98832%205.69141%208.5053%205.69141%209.4969V17.0906C5.69141%2018.6416%206.83963%2019.1501%208.33817%2018.3958L9.65182%2017.7348V19.0738C9.65182%2020.6248%2010.7903%2021.1333%2012.2889%2020.379L13.8166%2019.6078V21.2011C13.8166%2022.7521%2014.9648%2023.2606%2016.4633%2022.5148ZM7.56944%2016.7262V9.5308C7.56944%209.20027%207.67648%209.09009%207.9684%208.93754L15.14%205.32712C15.2275%205.28474%2015.2957%205.32712%2015.2957%205.40339V7.30183L10.9655%209.47995C9.98267%209.97998%209.65182%2010.4885%209.65182%2011.4801V15.8194L7.7154%2016.794C7.62782%2016.8364%207.56944%2016.8025%207.56944%2016.7262ZM13.8166%2013.6074V17.7009L11.6758%2018.7772C11.5882%2018.8196%2011.5299%2018.7942%2011.5299%2018.7094V11.514C11.5299%2011.1835%2011.6272%2011.0733%2011.9191%2010.9207L19.0906%207.3103C19.188%207.26793%2019.2561%207.3103%2019.2561%207.38658V9.53927L15.14%2011.6072C14.1572%2012.1073%2013.8166%2012.6242%2013.8166%2013.6074ZM16.0936%2013.048L23.2651%209.44605C23.3624%209.3952%2023.4306%209.43757%2023.4306%209.51385V16.6754C23.4306%2016.9805%2023.3527%2017.1161%2023.0413%2017.2771L15.8503%2020.913C15.7627%2020.9553%2015.6946%2020.9214%2015.6946%2020.8367V13.6497C15.6946%2013.3107%2015.8017%2013.2005%2016.0936%2013.048Z'%20fill='black'/%3e%3c/svg%3e",hv="data:image/svg+xml,%3csvg%20width='30'%20height='32'%20viewBox='0%200%2030%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.9156%2015.7054C22.1945%2015.7054%2024.0402%2013.5658%2024.0402%2010.9342C24.0402%208.34263%2022.2039%206.27344%2019.9156%206.27344C17.6556%206.27344%2015.7911%208.37277%2015.7911%2010.9542C15.8005%2013.5759%2017.6462%2015.7054%2019.9156%2015.7054ZM9.00152%2015.9364C10.9885%2015.9364%2012.5893%2014.058%2012.5893%2011.7377C12.5893%209.47768%2010.9885%207.64955%209.00152%207.64955C7.03339%207.64955%205.40428%209.50781%205.4137%2011.7478C5.4137%2014.0681%207.02398%2015.9364%209.00152%2015.9364ZM19.9156%2013.9475C18.6161%2013.9475%2017.5144%2012.6417%2017.5144%2010.9442C17.5144%209.30692%2018.6067%208.03125%2019.9156%208.03125C21.234%208.03125%2022.3169%209.28683%2022.3169%2010.9342C22.3169%2012.6217%2021.2246%2013.9475%2019.9156%2013.9475ZM9.00152%2014.1987C7.93741%2014.1987%207.03339%2013.1138%207.03339%2011.7478C7.03339%2010.442%207.928%209.37723%209.00152%209.37723C10.0939%209.37723%2010.9791%2010.4219%2010.9791%2011.7377C10.9791%2013.1138%2010.075%2014.1987%209.00152%2014.1987ZM3.82225%2025.1674H11.1391C10.6212%2024.846%2010.2728%2024.1127%2010.3387%2023.4498H3.7375C3.55858%2023.4498%203.48324%2023.3594%203.48324%2023.1886C3.48324%2020.8884%206.00696%2018.6987%208.9921%2018.6987C10.0468%2018.6987%2011.1015%2018.9799%2011.9113%2019.4621C12.2315%2018.9699%2012.627%2018.548%2013.1449%2018.1864C11.949%2017.4029%2010.4611%2016.981%208.9921%2016.981C5.00877%2016.981%201.78821%2020.0145%201.78821%2023.3493C1.78821%2024.5547%202.46622%2025.1674%203.82225%2025.1674ZM14.049%2025.1674H25.7823C27.4115%2025.1674%2028.2025%2024.615%2028.2025%2023.4297C28.2025%2020.6674%2024.9631%2016.9911%2019.9156%2016.9911C14.8682%2016.9911%2011.6288%2020.6674%2011.6288%2023.4297C11.6288%2024.615%2012.4198%2025.1674%2014.049%2025.1674ZM13.7476%2023.4096C13.531%2023.4096%2013.4463%2023.3292%2013.4463%2023.1484C13.4463%2021.6116%2015.7722%2018.7489%2019.9156%2018.7489C24.0591%2018.7489%2026.385%2021.6116%2026.385%2023.1484C26.385%2023.3292%2026.3003%2023.4096%2026.0743%2023.4096H13.7476Z'%20fill='black'/%3e%3c/svg%3e",pv="data:image/svg+xml,%3csvg%20width='18'%20height='19'%20viewBox='0%200%2018%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.00512%209.54575C11.4815%209.54575%2013.4872%207.37025%2013.4872%204.7068C13.4872%202.084%2011.4815%200%209.00512%200C6.53894%200%204.51279%202.1145%204.52302%204.72713C4.53326%207.38042%206.52871%209.54575%209.00512%209.54575ZM9.00512%207.76672C7.59295%207.76672%206.39568%206.43499%206.39568%204.72713C6.38545%203.05993%207.58272%201.77903%209.00512%201.77903C10.4377%201.77903%2011.6146%203.03959%2011.6146%204.7068C11.6146%206.41466%2010.4275%207.76672%209.00512%207.76672ZM2.61967%2019H15.3803C17.1507%2019%2018%2018.4409%2018%2017.2413C18%2014.4457%2014.4901%2010.725%209.00512%2010.725C3.52018%2010.725%200%2014.4457%200%2017.2413C0%2018.4409%200.849346%2019%202.61967%2019ZM2.30244%2017.221C2.05685%2017.221%201.96475%2017.1396%201.96475%2016.9567C1.96475%2015.4013%204.49233%2012.504%209.00512%2012.504C13.5077%2012.504%2016.0352%2015.4013%2016.0352%2016.9567C16.0352%2017.1396%2015.9432%2017.221%2015.6976%2017.221H2.30244Z'%20fill='black'/%3e%3c/svg%3e",mv={data(){return{typeServices:[{label:"все",icon:dv,active:!0},{label:"салоны красоты",icon:hv,active:!1},{label:"мастера",icon:pv,active:!1}]}},methods:{selectFilter(e){this.typeServices=this.typeServices.map((t,n)=>({...t,active:n===e}))}}},gv={class:"filters-container"},yv=["onClick"],vv=["src"];function bv(e,t,n,r,s,i){return K(),Y("div",gv,[(K(!0),Y(Ce,null,et(s.typeServices,(a,c)=>(K(),Y("div",{key:c},[w("button",{class:Er(["filter-btn",{active:a.active}]),onClick:f=>i.selectFilter(c)},[w("img",{src:a.icon,alt:"",class:"filter-icon"},null,8,vv),rn(" "+$e(a.label),1)],10,yv)]))),128))])}const wv=Ve(mv,[["render",bv],["__scopeId","data-v-07afef8f"]]),_v="data:image/svg+xml,%3csvg%20width='316'%20height='200'%20viewBox='0%200%20316%20175'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2030C0%2013.4315%2013.4315%200%2030%200H286C302.569%200%20316%2013.4315%20316%2030V145C316%20161.569%20302.569%20175%20286%20175H30C13.4315%20175%200%20161.569%200%20145V30Z'%20fill='%23F9CFD3'/%3e%3c/svg%3e",Sv="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.04894%200.927052C9.3483%200.00574108%2010.6517%200.00573985%2010.9511%200.92705L12.4697%205.60081C12.6035%206.01284%2012.9875%206.2918%2013.4207%206.2918H18.335C19.3037%206.2918%2019.7065%207.53141%2018.9228%208.10081L14.947%2010.9894C14.5966%2011.244%2014.4499%2011.6954%2014.5838%2012.1074L16.1024%2016.7812C16.4017%2017.7025%2015.3472%2018.4686%2014.5635%2017.8992L10.5878%2015.0106C10.2373%2014.756%209.7627%2014.756%209.41221%2015.0106L5.43648%2017.8992C4.65276%2018.4686%203.59828%2017.7025%203.89763%2016.7812L5.41623%2012.1074C5.5501%2011.6954%205.40345%2011.244%205.05296%2010.9894L1.07722%208.10081C0.293507%207.53141%200.696283%206.2918%201.66501%206.2918H6.57929C7.01252%206.2918%207.39647%206.01284%207.53035%205.60081L9.04894%200.927052Z'%20fill='%23939393'/%3e%3c/svg%3e",xv={name:"usluga",props:{service:{type:Object,required:!0}},methods:{onServiceClick(){localStorage.getItem("token")?this.$emit("show-service-details",this.service):this.$emit("show-login-modal")}}},Cv={class:"service-info"},Ev={class:"service-name-rating"},Tv={class:"service-title"},Dv={class:"service-rating"},Ov={class:"service-description"};function Pv(e,t,n,r,s,i){return K(),Y("div",{class:"service",onClick:t[0]||(t[0]=(...a)=>i.onServiceClick&&i.onServiceClick(...a))},[t[2]||(t[2]=w("img",{src:_v,alt:"service image",class:"service-image"},null,-1)),w("div",Cv,[w("div",Ev,[w("h2",Tv,$e(n.service.name),1),w("div",Dv,[t[1]||(t[1]=w("img",{src:Sv,alt:"rating star",class:"rating-icon"},null,-1)),w("span",null,$e(n.service.rating),1)])]),w("div",Ov,[w("p",null,$e(n.service.description),1)])])])}const Av=Ve(xv,[["render",Pv],["__scopeId","data-v-5502c141"]]);async function Mv(e,t,n){const r=localStorage.getItem("token");if(!r||kt(r))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");console.log(n);try{return(await Me.post(`http://localhost:8080/applications/${e}/${t}`,{date:n.date,time:n.time},{headers:{Authorization:`Bearer ${r}`}})).data}catch(s){console.error(s)}}async function Iv(e){const t=localStorage.getItem("token");if(!t||kt(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const n=await Me.delete(`http://localhost:8080/applications/${e}`,{headers:{Authorization:t}});return console.log(n),!0}catch(n){return console.error(n),!1}}async function kv(e){const t=localStorage.getItem("token");if(!t||kt(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");const r=(await vd()).filter(i=>i.id===e)[0];console.log(r);const s=r.slots.filter(i=>i.available);return console.log(s),s}const Rv={props:{isServiceModalVisible:Boolean,selectedService:Object},data(){return{availableSlots:[],selectedSlot:null}},computed:{groupedSlots(){return this.availableSlots.reduce((e,t)=>{const n=t.date.split("T")[0];return e[n]||(e[n]=[]),e[n].push(t),e},{})}},async created(){this.selectedService&&this.loadAvailableSlots()},watch:{selectedService:{handler(e){e&&e.id&&this.loadAvailableSlots()},immediate:!0}},methods:{async loadAvailableSlots(){try{const e=await kv(this.selectedService.id);this.availableSlots=e}catch(e){console.error("Ошибка при получении слотов:",e)}},closeModal(){this.$emit("close")},async applyForService(){if(!this.selectedSlot){alert("Пожалуйста, выберите слот для записи.");return}const e=localStorage.getItem("userID"),t=this.selectedService.id;try{await Mv(e,t,this.selectedSlot)&&(alert("Вы успешно записались на услугу!"),this.closeModal(),this.$emit("refreshServices"))}catch(n){alert("Произошла ошибка при записи на услугу."),console.error(n)}},formatSlotTime(e){const t=e.time.split(":");return t.length===2?`${t[0]}:${t[1]}:00`:e.time}}},Nv={key:0,class:"modal"},$v={class:"modal-content"},Lv={class:"modal-header"},Bv={class:"modal-body"},Fv={key:0},jv=["value","disabled"],Uv={key:0,class:"unavailable"},qv={key:1},Vv={class:"modal-footer"},Kv=["disabled"];function Hv(e,t,n,r,s,i){return n.isServiceModalVisible?(K(),Y("div",Nv,[w("div",$v,[w("div",Lv,[w("h2",null,$e(n.selectedService.name),1),w("button",{onClick:t[0]||(t[0]=(...a)=>i.closeModal&&i.closeModal(...a))},"Закрыть")]),w("div",Bv,[w("p",null,$e(n.selectedService.description),1),w("p",null,"Стоимость: "+$e(n.selectedService.price)+" ₽",1),w("p",null,"Длительность: "+$e(n.selectedService.durationMinutes)+" минут",1),w("p",null,"Локация: "+$e(n.selectedService.location),1),t[3]||(t[3]=w("h3",null,"Доступные слоты:",-1)),s.availableSlots.length>0?(K(),Y("div",Fv,[(K(!0),Y(Ce,null,et(i.groupedSlots,(a,c)=>(K(),Y("div",{key:c},[w("h4",null,$e(c),1),w("ul",null,[(K(!0),Y(Ce,null,et(a,f=>(K(),Y("li",{key:f.id},[w("label",{class:Er({disabled:!f.available})},[mt(w("input",{type:"radio",value:f,"onUpdate:modelValue":t[1]||(t[1]=p=>s.selectedSlot=p),disabled:!f.available},null,8,jv),[[xa,s.selectedSlot]]),rn(" "+$e(i.formatSlotTime(f))+" ",1),f.available?lt("",!0):(K(),Y("span",Uv," - Недоступно"))],2)]))),128))])]))),128))])):(K(),Y("p",qv,"Нет доступных слотов для записи."))]),w("div",Vv,[w("button",{onClick:t[2]||(t[2]=(...a)=>i.applyForService&&i.applyForService(...a)),disabled:!s.selectedSlot},"Записаться",8,Kv)])])])):lt("",!0)}const zv=Ve(Rv,[["render",Hv],["__scopeId","data-v-904917e1"]]);var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ed={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(cu,function(){var n=function(o,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])})(o,l)},r=function(){return(r=Object.assign||function(o){for(var l,u=1,d=arguments.length;u<d;u++)for(var m in l=arguments[u])Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m]);return o}).apply(this,arguments)};function s(o,l,u){for(var d,m=0,y=l.length;m<y;m++)!d&&m in l||((d=d||Array.prototype.slice.call(l,0,m))[m]=l[m]);return o.concat(d||Array.prototype.slice.call(l))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:cu,a=Object.keys,c=Array.isArray;function f(o,l){return typeof l!="object"||a(l).forEach(function(u){o[u]=l[u]}),o}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var p=Object.getPrototypeOf,h={}.hasOwnProperty;function g(o,l){return h.call(o,l)}function b(o,l){typeof l=="function"&&(l=l(p(o))),(typeof Reflect>"u"?a:Reflect.ownKeys)(l).forEach(function(u){R(o,u,l[u])})}var T=Object.defineProperty;function R(o,l,u,d){T(o,l,f(u&&g(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},d))}function F(o){return{from:function(l){return o.prototype=Object.create(l.prototype),R(o.prototype,"constructor",o),{extend:b.bind(null,o.prototype)}}}}var U=Object.getOwnPropertyDescriptor,Z=[].slice;function G(o,l,u){return Z.call(o,l,u)}function ee(o,l){return l(o)}function ie(o){if(!o)throw new Error("Assertion Failed")}function be(o){i.setImmediate?setImmediate(o):setTimeout(o,0)}function V(o,l){if(typeof l=="string"&&g(o,l))return o[l];if(!l)return o;if(typeof l!="string"){for(var u=[],d=0,m=l.length;d<m;++d){var y=V(o,l[d]);u.push(y)}return u}var v=l.indexOf(".");if(v!==-1){var S=o[l.substr(0,v)];return S==null?void 0:V(S,l.substr(v+1))}}function ue(o,l,u){if(o&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof l!="string"&&"length"in l){ie(typeof u!="string"&&"length"in u);for(var d=0,m=l.length;d<m;++d)ue(o,l[d],u[d])}else{var y,v,S=l.indexOf(".");S!==-1?(y=l.substr(0,S),(v=l.substr(S+1))===""?u===void 0?c(o)&&!isNaN(parseInt(y))?o.splice(y,1):delete o[y]:o[y]=u:ue(S=!(S=o[y])||!g(o,y)?o[y]={}:S,v,u)):u===void 0?c(o)&&!isNaN(parseInt(l))?o.splice(l,1):delete o[l]:o[l]=u}}function Ie(o){var l,u={};for(l in o)g(o,l)&&(u[l]=o[l]);return u}var Je=[].concat;function ct(o){return Je.apply([],o)}var Mn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ct([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(l){return l+o+"Array"})}))).filter(function(o){return i[o]}),vt=new Set(Mn.map(function(o){return i[o]})),ut=null;function Ge(o){return ut=new WeakMap,o=function l(u){if(!u||typeof u!="object")return u;var d=ut.get(u);if(d)return d;if(c(u)){d=[],ut.set(u,d);for(var m=0,y=u.length;m<y;++m)d.push(l(u[m]))}else if(vt.has(u.constructor))d=u;else{var v,S=p(u);for(v in d=S===Object.prototype?{}:Object.create(S),ut.set(u,d),u)g(u,v)&&(d[v]=l(u[v]))}return d}(o),ut=null,o}var St={}.toString;function nt(o){return St.call(o).slice(8,-1)}var ze=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Be=typeof ze=="symbol"?function(o){var l;return o!=null&&(l=o[ze])&&l.apply(o)}:function(){return null};function De(o,l){return l=o.indexOf(l),0<=l&&o.splice(l,1),0<=l}var pt={};function ft(o){var l,u,d,m;if(arguments.length===1){if(c(o))return o.slice();if(this===pt&&typeof o=="string")return[o];if(m=Be(o)){for(u=[];!(d=m.next()).done;)u.push(d.value);return u}if(o==null)return[o];if(typeof(l=o.length)!="number")return[o];for(u=new Array(l);l--;)u[l]=o[l];return u}for(l=arguments.length,u=new Array(l);l--;)u[l]=arguments[l];return u}var Pt=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ge=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ge),bt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Rt(o,l){this.name=o,this.message=l}function un(o,l){return o+". Errors: "+Object.keys(l).map(function(u){return l[u].toString()}).filter(function(u,d,m){return m.indexOf(u)===d}).join(`
`)}function fn(o,l,u,d){this.failures=l,this.failedKeys=d,this.successCount=u,this.message=un(o,l)}function wt(o,l){this.name="BulkError",this.failures=Object.keys(l).map(function(u){return l[u]}),this.failuresByPos=l,this.message=un(o,this.failures)}F(Rt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),F(fn).from(Rt),F(wt).from(Rt);var W=on.reduce(function(o,l){return o[l]=l+"Error",o},{}),pe=Rt,q=on.reduce(function(o,l){var u=l+"Error";function d(m,y){this.name=u,m?typeof m=="string"?(this.message="".concat(m).concat(y?`
 `+y:""),this.inner=y||null):typeof m=="object"&&(this.message="".concat(m.name," ").concat(m.message),this.inner=m):(this.message=bt[l]||u,this.inner=null)}return F(d).from(pe),o[l]=d,o},{});q.Syntax=SyntaxError,q.Type=TypeError,q.Range=RangeError;var ve=ge.reduce(function(o,l){return o[l+"Error"]=q[l],o},{}),je=on.reduce(function(o,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(o[l+"Error"]=q[l]),o},{});function Se(){}function _(o){return o}function x(o,l){return o==null||o===_?l:function(u){return l(o(u))}}function N(o,l){return function(){o.apply(this,arguments),l.apply(this,arguments)}}function X(o,l){return o===Se?l:function(){var u=o.apply(this,arguments);u!==void 0&&(arguments[0]=u);var d=this.onsuccess,m=this.onerror;this.onsuccess=null,this.onerror=null;var y=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?N(d,this.onsuccess):d),m&&(this.onerror=this.onerror?N(m,this.onerror):m),y!==void 0?y:u}}function z(o,l){return o===Se?l:function(){o.apply(this,arguments);var u=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?N(u,this.onsuccess):u),d&&(this.onerror=this.onerror?N(d,this.onerror):d)}}function Q(o,l){return o===Se?l:function(u){var d=o.apply(this,arguments);f(u,d);var m=this.onsuccess,y=this.onerror;return this.onsuccess=null,this.onerror=null,u=l.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?N(m,this.onsuccess):m),y&&(this.onerror=this.onerror?N(y,this.onerror):y),d===void 0?u===void 0?void 0:u:f(d,u)}}function fe(o,l){return o===Se?l:function(){return l.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function oe(o,l){return o===Se?l:function(){var u=o.apply(this,arguments);if(u&&typeof u.then=="function"){for(var d=this,m=arguments.length,y=new Array(m);m--;)y[m]=arguments[m];return u.then(function(){return l.apply(d,y)})}return l.apply(this,arguments)}}je.ModifyError=fn,je.DexieError=Rt,je.BulkError=wt;var te=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function J(o){te=o}var we={},he=100,Mn=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,p(o),o];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,p(l),o]}(),ge=Mn[0],on=Mn[1],Mn=Mn[2],on=on&&on.then,_e=ge&&ge.constructor,ke=!!Mn,Ke=function(o,l){_t.push([o,l]),xt&&(queueMicrotask(Hd),xt=!1)},qe=!0,xt=!0,st=[],Nt=[],At=_,Yt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Se,pgp:!1,env:{},finalize:Se},ye=Yt,_t=[],Ct=0,ar=[];function de(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=ye;if(typeof o!="function"){if(o!==we)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&go(this,this._value))}this._state=null,this._value=null,++l.ref,function u(d,m){try{m(function(y){if(d._state===null){if(y===d)throw new TypeError("A promise cannot be resolved with itself.");var v=d._lib&&Tr();y&&typeof y.then=="function"?u(d,function(S,E){y instanceof de?y._then(S,E):y.then(S,E)}):(d._state=!0,d._value=y,xl(d)),v&&Dr()}},go.bind(null,d))}catch(y){go(d,y)}}(this,o)}var mo={get:function(){var o=ye,l=Qs;function u(d,m){var y=this,v=!o.global&&(o!==ye||l!==Qs),S=v&&!Un(),E=new de(function(O,M){yo(y,new Sl(El(d,o,v,S),El(m,o,v,S),O,M,o))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return u.prototype=we,u},set:function(o){R(this,"then",o&&o.prototype===we?mo:{get:function(){return o},set:mo.set})}};function Sl(o,l,u,d,m){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof l=="function"?l:null,this.resolve=u,this.reject=d,this.psd=m}function go(o,l){var u,d;Nt.push(l),o._state===null&&(u=o._lib&&Tr(),l=At(l),o._state=!1,o._value=l,d=o,st.some(function(m){return m._value===d._value})||st.push(d),xl(o),u&&Dr())}function xl(o){var l=o._listeners;o._listeners=[];for(var u=0,d=l.length;u<d;++u)yo(o,l[u]);var m=o._PSD;--m.ref||m.finalize(),Ct===0&&(++Ct,Ke(function(){--Ct==0&&vo()},[]))}function yo(o,l){if(o._state!==null){var u=o._state?l.onFulfilled:l.onRejected;if(u===null)return(o._state?l.resolve:l.reject)(o._value);++l.psd.ref,++Ct,Ke(Kd,[u,o,l])}else o._listeners.push(l)}function Kd(o,l,u){try{var d,m=l._value;!l._state&&Nt.length&&(Nt=[]),d=te&&l._consoleTask?l._consoleTask.run(function(){return o(m)}):o(m),l._state||Nt.indexOf(m)!==-1||function(y){for(var v=st.length;v;)if(st[--v]._value===y._value)return st.splice(v,1)}(l),u.resolve(d)}catch(y){u.reject(y)}finally{--Ct==0&&vo(),--u.psd.ref||u.psd.finalize()}}function Hd(){lr(Yt,function(){Tr()&&Dr()})}function Tr(){var o=qe;return xt=qe=!1,o}function Dr(){var o,l,u;do for(;0<_t.length;)for(o=_t,_t=[],u=o.length,l=0;l<u;++l){var d=o[l];d[0].apply(null,d[1])}while(0<_t.length);xt=qe=!0}function vo(){var o=st;st=[],o.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=ar.slice(0),u=l.length;u;)l[--u]()}function Ys(o){return new de(we,!1,o)}function it(o,l){var u=ye;return function(){var d=Tr(),m=ye;try{return qn(u,!0),o.apply(this,arguments)}catch(y){l&&l(y)}finally{qn(m,!1),d&&Dr()}}}b(de.prototype,{then:mo,_then:function(o,l){yo(this,new Sl(null,null,o,l,ye))},catch:function(o){if(arguments.length===1)return this.then(null,o);var l=o,u=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?u:Ys)(d)}):this.then(null,function(d){return(d&&d.name===l?u:Ys)(d)})},finally:function(o){return this.then(function(l){return de.resolve(o()).then(function(){return l})},function(l){return de.resolve(o()).then(function(){return Ys(l)})})},timeout:function(o,l){var u=this;return o<1/0?new de(function(d,m){var y=setTimeout(function(){return m(new q.Timeout(l))},o);u.then(d,m).finally(clearTimeout.bind(null,y))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&R(de.prototype,Symbol.toStringTag,"Dexie.Promise"),Yt.env=Cl(),b(de,{all:function(){var o=ft.apply(null,arguments).map(Js);return new de(function(l,u){o.length===0&&l([]);var d=o.length;o.forEach(function(m,y){return de.resolve(m).then(function(v){o[y]=v,--d||l(o)},u)})})},resolve:function(o){return o instanceof de?o:o&&typeof o.then=="function"?new de(function(l,u){o.then(l,u)}):new de(we,!0,o)},reject:Ys,race:function(){var o=ft.apply(null,arguments).map(Js);return new de(function(l,u){o.map(function(d){return de.resolve(d).then(l,u)})})},PSD:{get:function(){return ye},set:function(o){return ye=o}},totalEchoes:{get:function(){return Qs}},newPSD:jn,usePSD:lr,scheduler:{get:function(){return Ke},set:function(o){Ke=o}},rejectionMapper:{get:function(){return At},set:function(o){At=o}},follow:function(o,l){return new de(function(u,d){return jn(function(m,y){var v=ye;v.unhandleds=[],v.onunhandled=y,v.finalize=N(function(){var S,E=this;S=function(){E.unhandleds.length===0?m():y(E.unhandleds[0])},ar.push(function O(){S(),ar.splice(ar.indexOf(O),1)}),++Ct,Ke(function(){--Ct==0&&vo()},[])},v.finalize),o()},l,u,d)})}}),_e&&(_e.allSettled&&R(de,"allSettled",function(){var o=ft.apply(null,arguments).map(Js);return new de(function(l){o.length===0&&l([]);var u=o.length,d=new Array(u);o.forEach(function(m,y){return de.resolve(m).then(function(v){return d[y]={status:"fulfilled",value:v}},function(v){return d[y]={status:"rejected",reason:v}}).then(function(){return--u||l(d)})})})}),_e.any&&typeof AggregateError<"u"&&R(de,"any",function(){var o=ft.apply(null,arguments).map(Js);return new de(function(l,u){o.length===0&&u(new AggregateError([]));var d=o.length,m=new Array(d);o.forEach(function(y,v){return de.resolve(y).then(function(S){return l(S)},function(S){m[v]=S,--d||u(new AggregateError(m))})})})}),_e.withResolvers&&(de.withResolvers=_e.withResolvers));var Et={awaits:0,echoes:0,id:0},zd=0,Xs=[],Gs=0,Qs=0,Wd=0;function jn(o,l,u,d){var m=ye,y=Object.create(m);return y.parent=m,y.ref=0,y.global=!1,y.id=++Wd,Yt.env,y.env=ke?{Promise:de,PromiseProp:{value:de,configurable:!0,writable:!0},all:de.all,race:de.race,allSettled:de.allSettled,any:de.any,resolve:de.resolve,reject:de.reject}:{},l&&f(y,l),++m.ref,y.finalize=function(){--this.parent.ref||this.parent.finalize()},d=lr(y,o,u,d),y.ref===0&&y.finalize(),d}function Or(){return Et.id||(Et.id=++zd),++Et.awaits,Et.echoes+=he,Et.id}function Un(){return!!Et.awaits&&(--Et.awaits==0&&(Et.id=0),Et.echoes=Et.awaits*he,!0)}function Js(o){return Et.echoes&&o&&o.constructor===_e?(Or(),o.then(function(l){return Un(),l},function(l){return Un(),dt(l)})):o}function Yd(){var o=Xs[Xs.length-1];Xs.pop(),qn(o,!1)}function qn(o,l){var u,d=ye;(l?!Et.echoes||Gs++&&o===ye:!Gs||--Gs&&o===ye)||queueMicrotask(l?(function(m){++Qs,Et.echoes&&--Et.echoes!=0||(Et.echoes=Et.awaits=Et.id=0),Xs.push(ye),qn(m,!0)}).bind(null,o):Yd),o!==ye&&(ye=o,d===Yt&&(Yt.env=Cl()),ke&&(u=Yt.env.Promise,l=o.env,(d.global||o.global)&&(Object.defineProperty(i,"Promise",l.PromiseProp),u.all=l.all,u.race=l.race,u.resolve=l.resolve,u.reject=l.reject,l.allSettled&&(u.allSettled=l.allSettled),l.any&&(u.any=l.any))))}function Cl(){var o=i.Promise;return ke?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function lr(o,l,u,d,m){var y=ye;try{return qn(o,!0),l(u,d,m)}finally{qn(y,!1)}}function El(o,l,u,d){return typeof o!="function"?o:function(){var m=ye;u&&Or(),qn(l,!0);try{return o.apply(this,arguments)}finally{qn(m,!1),d&&queueMicrotask(Un)}}}function bo(o){Promise===_e&&Et.echoes===0?Gs===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+on).indexOf("[native code]")===-1&&(Or=Un=Se);var dt=de.reject,cr="￿",An="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Tl="String expected.",Pr=[],Zs="__dbnames",wo="readonly",_o="readwrite";function ur(o,l){return o?l?function(){return o.apply(this,arguments)&&l.apply(this,arguments)}:o:l}var Dl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ei(o){return typeof o!="string"||/\./.test(o)?function(l){return l}:function(l){return l[o]===void 0&&o in l&&delete(l=Ge(l))[o],l}}function Ol(){throw q.Type()}function Fe(o,l){try{var u=Pl(o),d=Pl(l);if(u!==d)return u==="Array"?1:d==="Array"?-1:u==="binary"?1:d==="binary"?-1:u==="string"?1:d==="string"?-1:u==="Date"?1:d!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return l<o?1:o<l?-1:0;case"binary":return function(m,y){for(var v=m.length,S=y.length,E=v<S?v:S,O=0;O<E;++O)if(m[O]!==y[O])return m[O]<y[O]?-1:1;return v===S?0:v<S?-1:1}(Al(o),Al(l));case"Array":return function(m,y){for(var v=m.length,S=y.length,E=v<S?v:S,O=0;O<E;++O){var M=Fe(m[O],y[O]);if(M!==0)return M}return v===S?0:v<S?-1:1}(o,l)}}catch{}return NaN}function Pl(o){var l=typeof o;return l!="object"?l:ArrayBuffer.isView(o)?"binary":(o=nt(o),o==="ArrayBuffer"?"binary":o)}function Al(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}var Ml=(rt.prototype._trans=function(o,l,u){var d=this._tx||ye.trans,m=this.name,y=te&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function v(O,M,C){if(!C.schema[m])throw new q.NotFound("Table "+m+" not part of transaction");return l(C.idbtrans,C)}var S=Tr();try{var E=d&&d.db._novip===this.db._novip?d===ye.trans?d._promise(o,v,u):jn(function(){return d._promise(o,v,u)},{trans:d,transless:ye.transless||ye}):function O(M,C,k,D){if(M.idbdb&&(M._state.openComplete||ye.letThrough||M._vip)){var A=M._createTransaction(C,k,M._dbSchema);try{A.create(),M._state.PR1398_maxLoop=3}catch(I){return I.name===W.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return O(M,C,k,D)})):dt(I)}return A._promise(C,function(I,P){return jn(function(){return ye.trans=A,D(I,P,A)})}).then(function(I){if(C==="readwrite")try{A.idbtrans.commit()}catch{}return C==="readonly"?I:A._completion.then(function(){return I})})}if(M._state.openComplete)return dt(new q.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return dt(new q.DatabaseClosed);M.open().catch(Se)}return M._state.dbReadyPromise.then(function(){return O(M,C,k,D)})}(this.db,o,[this.name],v);return y&&(E._consoleTask=y,E=E.catch(function(O){return console.trace(O),dt(O)})),E}finally{S&&Dr()}},rt.prototype.get=function(o,l){var u=this;return o&&o.constructor===Object?this.where(o).first(l):o==null?dt(new q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return u.core.get({trans:d,key:o}).then(function(m){return u.hook.reading.fire(m)})}).then(l)},rt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(c(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var l=a(o);if(l.length===1)return this.where(l[0]).equals(o[l[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&l.every(function(O){return 0<=S.keyPath.indexOf(O)})){for(var E=0;E<l.length;++E)if(l.indexOf(S.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(S,E){return S.keyPath.length-E.keyPath.length})[0];if(u&&this.db._maxKey!==cr){var y=u.keyPath.slice(0,l.length);return this.where(y).equals(y.map(function(E){return o[E]}))}!u&&te&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function m(S,E){return Fe(S,E)===0}var v=l.reduce(function(C,E){var O=C[0],M=C[1],C=d[E],k=o[E];return[O||C,O||!C?ur(M,C&&C.multi?function(D){return D=V(D,E),c(D)&&D.some(function(A){return m(k,A)})}:function(D){return m(k,V(D,E))}):M]},[null,null]),y=v[0],v=v[1];return y?this.where(y.name).equals(o[y.keyPath]).filter(v):u?this.filter(v):this.where(l).equals("")},rt.prototype.filter=function(o){return this.toCollection().and(o)},rt.prototype.count=function(o){return this.toCollection().count(o)},rt.prototype.offset=function(o){return this.toCollection().offset(o)},rt.prototype.limit=function(o){return this.toCollection().limit(o)},rt.prototype.each=function(o){return this.toCollection().each(o)},rt.prototype.toArray=function(o){return this.toCollection().toArray(o)},rt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},rt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,c(o)?"[".concat(o.join("+"),"]"):o))},rt.prototype.reverse=function(){return this.toCollection().reverse()},rt.prototype.mapToClass=function(o){var l,u=this.db,d=this.name;function m(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof Ol&&(function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function M(){this.constructor=E}n(E,O),E.prototype=O===null?Object.create(O):(M.prototype=O.prototype,new M)}(m,l=o),Object.defineProperty(m.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),m.prototype.table=function(){return d},o=m);for(var y=new Set,v=o.prototype;v;v=p(v))Object.getOwnPropertyNames(v).forEach(function(E){return y.add(E)});function S(E){if(!E)return E;var O,M=Object.create(o.prototype);for(O in E)if(!y.has(O))try{M[O]=E[O]}catch{}return M}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=S,this.hook("reading",S),o},rt.prototype.defineClass=function(){return this.mapToClass(function(o){f(this,o)})},rt.prototype.add=function(o,l){var u=this,d=this.schema.primKey,m=d.auto,y=d.keyPath,v=o;return y&&m&&(v=ei(y)(o)),this._trans("readwrite",function(S){return u.core.mutate({trans:S,type:"add",keys:l!=null?[l]:null,values:[v]})}).then(function(S){return S.numFailures?de.reject(S.failures[0]):S.lastResult}).then(function(S){if(y)try{ue(o,y,S)}catch{}return S})},rt.prototype.update=function(o,l){return typeof o!="object"||c(o)?this.where(":id").equals(o).modify(l):(o=V(o,this.schema.primKey.keyPath),o===void 0?dt(new q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(l))},rt.prototype.put=function(o,l){var u=this,d=this.schema.primKey,m=d.auto,y=d.keyPath,v=o;return y&&m&&(v=ei(y)(o)),this._trans("readwrite",function(S){return u.core.mutate({trans:S,type:"put",values:[v],keys:l!=null?[l]:null})}).then(function(S){return S.numFailures?de.reject(S.failures[0]):S.lastResult}).then(function(S){if(y)try{ue(o,y,S)}catch{}return S})},rt.prototype.delete=function(o){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"delete",keys:[o]})}).then(function(u){return u.numFailures?de.reject(u.failures[0]):void 0})},rt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(l){return o.core.mutate({trans:l,type:"deleteRange",range:Dl})}).then(function(l){return l.numFailures?de.reject(l.failures[0]):void 0})},rt.prototype.bulkGet=function(o){var l=this;return this._trans("readonly",function(u){return l.core.getMany({keys:o,trans:u}).then(function(d){return d.map(function(m){return l.hook.reading.fire(m)})})})},rt.prototype.bulkAdd=function(o,l,u){var d=this,m=Array.isArray(l)?l:void 0,y=(u=u||(m?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(v){var O=d.schema.primKey,S=O.auto,O=O.keyPath;if(O&&m)throw new q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(m&&m.length!==o.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var E=o.length,O=O&&S?o.map(ei(O)):o;return d.core.mutate({trans:v,type:"add",keys:m,values:O,wantResults:y}).then(function(A){var C=A.numFailures,k=A.results,D=A.lastResult,A=A.failures;if(C===0)return y?k:D;throw new wt("".concat(d.name,".bulkAdd(): ").concat(C," of ").concat(E," operations failed"),A)})})},rt.prototype.bulkPut=function(o,l,u){var d=this,m=Array.isArray(l)?l:void 0,y=(u=u||(m?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(v){var O=d.schema.primKey,S=O.auto,O=O.keyPath;if(O&&m)throw new q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(m&&m.length!==o.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var E=o.length,O=O&&S?o.map(ei(O)):o;return d.core.mutate({trans:v,type:"put",keys:m,values:O,wantResults:y}).then(function(A){var C=A.numFailures,k=A.results,D=A.lastResult,A=A.failures;if(C===0)return y?k:D;throw new wt("".concat(d.name,".bulkPut(): ").concat(C," of ").concat(E," operations failed"),A)})})},rt.prototype.bulkUpdate=function(o){var l=this,u=this.core,d=o.map(function(v){return v.key}),m=o.map(function(v){return v.changes}),y=[];return this._trans("readwrite",function(v){return u.getMany({trans:v,keys:d,cache:"clone"}).then(function(S){var E=[],O=[];o.forEach(function(C,k){var D=C.key,A=C.changes,I=S[k];if(I){for(var P=0,$=Object.keys(A);P<$.length;P++){var L=$[P],B=A[L];if(L===l.schema.primKey.keyPath){if(Fe(B,D)!==0)throw new q.Constraint("Cannot update primary key in bulkUpdate()")}else ue(I,L,B)}y.push(k),E.push(D),O.push(I)}});var M=E.length;return u.mutate({trans:v,type:"put",keys:E,values:O,updates:{keys:d,changeSpecs:m}}).then(function(C){var k=C.numFailures,D=C.failures;if(k===0)return M;for(var A=0,I=Object.keys(D);A<I.length;A++){var P,$=I[A],L=y[Number($)];L!=null&&(P=D[$],delete D[$],D[L]=P)}throw new wt("".concat(l.name,".bulkUpdate(): ").concat(k," of ").concat(M," operations failed"),D)})})})},rt.prototype.bulkDelete=function(o){var l=this,u=o.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:o})}).then(function(v){var m=v.numFailures,y=v.lastResult,v=v.failures;if(m===0)return y;throw new wt("".concat(l.name,".bulkDelete(): ").concat(m," of ").concat(u," operations failed"),v)})},rt);function rt(){}function ss(o){function l(v,S){if(S){for(var E=arguments.length,O=new Array(E-1);--E;)O[E-1]=arguments[E];return u[v].subscribe.apply(null,O),o}if(typeof v=="string")return u[v]}var u={};l.addEventType=y;for(var d=1,m=arguments.length;d<m;++d)y(arguments[d]);return l;function y(v,S,E){if(typeof v!="object"){var O;S=S||fe;var M={subscribers:[],fire:E=E||Se,subscribe:function(C){M.subscribers.indexOf(C)===-1&&(M.subscribers.push(C),M.fire=S(M.fire,C))},unsubscribe:function(C){M.subscribers=M.subscribers.filter(function(k){return k!==C}),M.fire=M.subscribers.reduce(S,E)}};return u[v]=l[v]=M}a(O=v).forEach(function(C){var k=O[C];if(c(k))y(C,O[C][0],O[C][1]);else{if(k!=="asap")throw new q.InvalidArgument("Invalid event config");var D=y(C,_,function(){for(var A=arguments.length,I=new Array(A);A--;)I[A]=arguments[A];D.subscribers.forEach(function(P){be(function(){P.apply(null,I)})})})}})}}function is(o,l){return F(l).from({prototype:o}),l}function Ar(o,l){return!(o.filter||o.algorithm||o.or)&&(l?o.justLimit:!o.replayFilter)}function So(o,l){o.filter=ur(o.filter,l)}function xo(o,l,u){var d=o.replayFilter;o.replayFilter=d?function(){return ur(d(),l())}:l,o.justLimit=u&&!d}function ti(o,l){if(o.isPrimKey)return l.primaryKey;var u=l.getIndexByKeyPath(o.index);if(!u)throw new q.Schema("KeyPath "+o.index+" on object store "+l.name+" is not indexed");return u}function Il(o,l,u){var d=ti(o,l.schema);return l.openCursor({trans:u,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:d,range:o.range}})}function ni(o,l,u,d){var m=o.replayFilter?ur(o.filter,o.replayFilter()):o.filter;if(o.or){var y={},v=function(S,E,O){var M,C;m&&!m(E,O,function(k){return E.stop(k)},function(k){return E.fail(k)})||((C=""+(M=E.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(M)),g(y,C)||(y[C]=!0,l(S,E,O)))};return Promise.all([o.or._iterate(v,u),kl(Il(o,d,u),o.algorithm,v,!o.keysOnly&&o.valueMapper)])}return kl(Il(o,d,u),ur(o.algorithm,m),l,!o.keysOnly&&o.valueMapper)}function kl(o,l,u,d){var m=it(d?function(y,v,S){return u(d(y),v,S)}:u);return o.then(function(y){if(y)return y.start(function(){var v=function(){return y.continue()};l&&!l(y,function(S){return v=S},function(S){y.stop(S),v=Se},function(S){y.fail(S),v=Se})||m(y.value,y,function(S){return v=S}),v()})})}var Mn=Symbol(),os=(Rl.prototype.execute=function(o){if(this.add!==void 0){var l=this.add;if(c(l))return s(s([],c(o)?o:[],!0),l).sort();if(typeof l=="number")return(Number(o)||0)+l;if(typeof l=="bigint")try{return BigInt(o)+l}catch{return BigInt(0)+l}throw new TypeError("Invalid term ".concat(l))}if(this.remove!==void 0){var u=this.remove;if(c(u))return c(o)?o.filter(function(d){return!u.includes(d)}).sort():[];if(typeof u=="number")return Number(o)-u;if(typeof u=="bigint")try{return BigInt(o)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return l=(l=this.replacePrefix)===null||l===void 0?void 0:l[0],l&&typeof o=="string"&&o.startsWith(l)?this.replacePrefix[1]+o.substring(l.length):o},Rl);function Rl(o){Object.assign(this,o)}var Xd=(He.prototype._read=function(o,l){var u=this._ctx;return u.error?u.table._trans(null,dt.bind(null,u.error)):u.table._trans("readonly",o).then(l)},He.prototype._write=function(o){var l=this._ctx;return l.error?l.table._trans(null,dt.bind(null,l.error)):l.table._trans("readwrite",o,"locked")},He.prototype._addAlgorithm=function(o){var l=this._ctx;l.algorithm=ur(l.algorithm,o)},He.prototype._iterate=function(o,l){return ni(this._ctx,o,l,this._ctx.table.core)},He.prototype.clone=function(o){var l=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return o&&f(u,o),l._ctx=u,l},He.prototype.raw=function(){return this._ctx.valueMapper=null,this},He.prototype.each=function(o){var l=this._ctx;return this._read(function(u){return ni(l,o,u,l.table.core)})},He.prototype.count=function(o){var l=this;return this._read(function(u){var d=l._ctx,m=d.table.core;if(Ar(d,!0))return m.count({trans:u,query:{index:ti(d,m.schema),range:d.range}}).then(function(v){return Math.min(v,d.limit)});var y=0;return ni(d,function(){return++y,!1},u,m).then(function(){return y})}).then(o)},He.prototype.sortBy=function(o,l){var u=o.split(".").reverse(),d=u[0],m=u.length-1;function y(E,O){return O?y(E[u[O]],O-1):E[d]}var v=this._ctx.dir==="next"?1:-1;function S(E,O){return Fe(y(E,m),y(O,m))*v}return this.toArray(function(E){return E.sort(S)}).then(l)},He.prototype.toArray=function(o){var l=this;return this._read(function(u){var d=l._ctx;if(d.dir==="next"&&Ar(d,!0)&&0<d.limit){var m=d.valueMapper,y=ti(d,d.table.core.schema);return d.table.core.query({trans:u,limit:d.limit,values:!0,query:{index:y,range:d.range}}).then(function(S){return S=S.result,m?S.map(m):S})}var v=[];return ni(d,function(S){return v.push(S)},u,d.table.core).then(function(){return v})},o)},He.prototype.offset=function(o){var l=this._ctx;return o<=0||(l.offset+=o,Ar(l)?xo(l,function(){var u=o;return function(d,m){return u===0||(u===1?--u:m(function(){d.advance(u),u=0}),!1)}}):xo(l,function(){var u=o;return function(){return--u<0}})),this},He.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),xo(this._ctx,function(){var l=o;return function(u,d,m){return--l<=0&&d(m),0<=l}},!0),this},He.prototype.until=function(o,l){return So(this._ctx,function(u,d,m){return!o(u.value)||(d(m),l)}),this},He.prototype.first=function(o){return this.limit(1).toArray(function(l){return l[0]}).then(o)},He.prototype.last=function(o){return this.reverse().first(o)},He.prototype.filter=function(o){var l;return So(this._ctx,function(u){return o(u.value)}),(l=this._ctx).isMatch=ur(l.isMatch,o),this},He.prototype.and=function(o){return this.filter(o)},He.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},He.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},He.prototype.desc=function(){return this.reverse()},He.prototype.eachKey=function(o){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,d){o(d.key,d)})},He.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},He.prototype.eachPrimaryKey=function(o){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,d){o(d.primaryKey,d)})},He.prototype.keys=function(o){var l=this._ctx;l.keysOnly=!l.isMatch;var u=[];return this.each(function(d,m){u.push(m.key)}).then(function(){return u}).then(o)},He.prototype.primaryKeys=function(o){var l=this._ctx;if(l.dir==="next"&&Ar(l,!0)&&0<l.limit)return this._read(function(d){var m=ti(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:m,range:l.range}})}).then(function(d){return d.result}).then(o);l.keysOnly=!l.isMatch;var u=[];return this.each(function(d,m){u.push(m.primaryKey)}).then(function(){return u}).then(o)},He.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},He.prototype.firstKey=function(o){return this.limit(1).keys(function(l){return l[0]}).then(o)},He.prototype.lastKey=function(o){return this.reverse().firstKey(o)},He.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var l={};return So(this._ctx,function(m){var d=m.primaryKey.toString(),m=g(l,d);return l[d]=!0,!m}),this},He.prototype.modify=function(o){var l=this,u=this._ctx;return this._write(function(d){var m,y,v;v=typeof o=="function"?o:(m=a(o),y=m.length,function(P){for(var $=!1,L=0;L<y;++L){var B=m[L],H=o[B],ne=V(P,B);H instanceof os?(ue(P,B,H.execute(ne)),$=!0):ne!==H&&(ue(P,B,H),$=!0)}return $});var S=u.table.core,C=S.schema.primaryKey,E=C.outbound,O=C.extractKey,M=200,C=l.db._options.modifyChunkSize;C&&(M=typeof C=="object"?C[S.name]||C["*"]||200:C);function k(P,B){var L=B.failures,B=B.numFailures;A+=P-B;for(var H=0,ne=a(L);H<ne.length;H++){var le=ne[H];D.push(L[le])}}var D=[],A=0,I=[];return l.clone().primaryKeys().then(function(P){function $(B){var H=Math.min(M,P.length-B);return S.getMany({trans:d,keys:P.slice(B,B+H),cache:"immutable"}).then(function(ne){for(var le=[],re=[],se=E?[]:null,ce=[],ae=0;ae<H;++ae){var me=ne[ae],Oe={value:Ge(me),primKey:P[B+ae]};v.call(Oe,Oe.value,Oe)!==!1&&(Oe.value==null?ce.push(P[B+ae]):E||Fe(O(me),O(Oe.value))===0?(re.push(Oe.value),E&&se.push(P[B+ae])):(ce.push(P[B+ae]),le.push(Oe.value)))}return Promise.resolve(0<le.length&&S.mutate({trans:d,type:"add",values:le}).then(function(Re){for(var Ne in Re.failures)ce.splice(parseInt(Ne),1);k(le.length,Re)})).then(function(){return(0<re.length||L&&typeof o=="object")&&S.mutate({trans:d,type:"put",keys:se,values:re,criteria:L,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<B}).then(function(Re){return k(re.length,Re)})}).then(function(){return(0<ce.length||L&&o===Co)&&S.mutate({trans:d,type:"delete",keys:ce,criteria:L,isAdditionalChunk:0<B}).then(function(Re){return k(ce.length,Re)})}).then(function(){return P.length>B+H&&$(B+M)})})}var L=Ar(u)&&u.limit===1/0&&(typeof o!="function"||o===Co)&&{index:u.index,range:u.range};return $(0).then(function(){if(0<D.length)throw new fn("Error modifying one or more objects",D,A,I);return P.length})})})},He.prototype.delete=function(){var o=this._ctx,l=o.range;return Ar(o)&&(o.isPrimKey||l.type===3)?this._write(function(u){var d=o.table.core.schema.primaryKey,m=l;return o.table.core.count({trans:u,query:{index:d,range:m}}).then(function(y){return o.table.core.mutate({trans:u,type:"deleteRange",range:m}).then(function(v){var S=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new fn("Could not delete some values",Object.keys(S).map(function(E){return S[E]}),y-v);return y-v})})}):this.modify(Co)},He);function He(){}var Co=function(o,l){return l.value=null};function Gd(o,l){return o<l?-1:o===l?0:1}function Qd(o,l){return l<o?-1:o===l?0:1}function Jt(o,l,u){return o=o instanceof $l?new o.Collection(o):o,o._ctx.error=new(u||TypeError)(l),o}function Mr(o){return new o.Collection(o,function(){return Nl("")}).limit(0)}function ri(o,l,u,d){var m,y,v,S,E,O,M,C=u.length;if(!u.every(function(A){return typeof A=="string"}))return Jt(o,Tl);function k(A){m=A==="next"?function(P){return P.toUpperCase()}:function(P){return P.toLowerCase()},y=A==="next"?function(P){return P.toLowerCase()}:function(P){return P.toUpperCase()},v=A==="next"?Gd:Qd;var I=u.map(function(P){return{lower:y(P),upper:m(P)}}).sort(function(P,$){return v(P.lower,$.lower)});S=I.map(function(P){return P.upper}),E=I.map(function(P){return P.lower}),M=(O=A)==="next"?"":d}k("next"),o=new o.Collection(o,function(){return Vn(S[0],E[C-1]+d)}),o._ondirectionchange=function(A){k(A)};var D=0;return o._addAlgorithm(function(A,I,P){var $=A.key;if(typeof $!="string")return!1;var L=y($);if(l(L,E,D))return!0;for(var B=null,H=D;H<C;++H){var ne=function(le,re,se,ce,ae,me){for(var Oe=Math.min(le.length,ce.length),Re=-1,Ne=0;Ne<Oe;++Ne){var Zt=re[Ne];if(Zt!==ce[Ne])return ae(le[Ne],se[Ne])<0?le.substr(0,Ne)+se[Ne]+se.substr(Ne+1):ae(le[Ne],ce[Ne])<0?le.substr(0,Ne)+ce[Ne]+se.substr(Ne+1):0<=Re?le.substr(0,Re)+re[Re]+se.substr(Re+1):null;ae(le[Ne],Zt)<0&&(Re=Ne)}return Oe<ce.length&&me==="next"?le+se.substr(le.length):Oe<le.length&&me==="prev"?le.substr(0,se.length):Re<0?null:le.substr(0,Re)+ce[Re]+se.substr(Re+1)}($,L,S[H],E[H],v,O);ne===null&&B===null?D=H+1:(B===null||0<v(B,ne))&&(B=ne)}return I(B!==null?function(){A.continue(B+M)}:P),!1}),o}function Vn(o,l,u,d){return{type:2,lower:o,upper:l,lowerOpen:u,upperOpen:d}}function Nl(o){return{type:1,lower:o,upper:o}}var $l=(Object.defineProperty(Tt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Tt.prototype.between=function(o,l,u,d){u=u!==!1,d=d===!0;try{return 0<this._cmp(o,l)||this._cmp(o,l)===0&&(u||d)&&(!u||!d)?Mr(this):new this.Collection(this,function(){return Vn(o,l,!u,!d)})}catch{return Jt(this,An)}},Tt.prototype.equals=function(o){return o==null?Jt(this,An):new this.Collection(this,function(){return Nl(o)})},Tt.prototype.above=function(o){return o==null?Jt(this,An):new this.Collection(this,function(){return Vn(o,void 0,!0)})},Tt.prototype.aboveOrEqual=function(o){return o==null?Jt(this,An):new this.Collection(this,function(){return Vn(o,void 0,!1)})},Tt.prototype.below=function(o){return o==null?Jt(this,An):new this.Collection(this,function(){return Vn(void 0,o,!1,!0)})},Tt.prototype.belowOrEqual=function(o){return o==null?Jt(this,An):new this.Collection(this,function(){return Vn(void 0,o)})},Tt.prototype.startsWith=function(o){return typeof o!="string"?Jt(this,Tl):this.between(o,o+cr,!0,!0)},Tt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):ri(this,function(l,u){return l.indexOf(u[0])===0},[o],cr)},Tt.prototype.equalsIgnoreCase=function(o){return ri(this,function(l,u){return l===u[0]},[o],"")},Tt.prototype.anyOfIgnoreCase=function(){var o=ft.apply(pt,arguments);return o.length===0?Mr(this):ri(this,function(l,u){return u.indexOf(l)!==-1},o,"")},Tt.prototype.startsWithAnyOfIgnoreCase=function(){var o=ft.apply(pt,arguments);return o.length===0?Mr(this):ri(this,function(l,u){return u.some(function(d){return l.indexOf(d)===0})},o,cr)},Tt.prototype.anyOf=function(){var o=this,l=ft.apply(pt,arguments),u=this._cmp;try{l.sort(u)}catch{return Jt(this,An)}if(l.length===0)return Mr(this);var d=new this.Collection(this,function(){return Vn(l[0],l[l.length-1])});d._ondirectionchange=function(y){u=y==="next"?o._ascending:o._descending,l.sort(u)};var m=0;return d._addAlgorithm(function(y,v,S){for(var E=y.key;0<u(E,l[m]);)if(++m===l.length)return v(S),!1;return u(E,l[m])===0||(v(function(){y.continue(l[m])}),!1)}),d},Tt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Tt.prototype.noneOf=function(){var o=ft.apply(pt,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Jt(this,An)}var l=o.reduce(function(u,d){return u?u.concat([[u[u.length-1][1],d]]):[[-1/0,d]]},null);return l.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},Tt.prototype.inAnyRange=function($,l){var u=this,d=this._cmp,m=this._ascending,y=this._descending,v=this._min,S=this._max;if($.length===0)return Mr(this);if(!$.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&m(L[0],L[1])<=0}))return Jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",q.InvalidArgument);var E=!l||l.includeLowers!==!1,O=l&&l.includeUppers===!0,M,C=m;function k(L,B){return C(L[0],B[0])}try{(M=$.reduce(function(L,B){for(var H=0,ne=L.length;H<ne;++H){var le=L[H];if(d(B[0],le[1])<0&&0<d(B[1],le[0])){le[0]=v(le[0],B[0]),le[1]=S(le[1],B[1]);break}}return H===ne&&L.push(B),L},[])).sort(k)}catch{return Jt(this,An)}var D=0,A=O?function(L){return 0<m(L,M[D][1])}:function(L){return 0<=m(L,M[D][1])},I=E?function(L){return 0<y(L,M[D][0])}:function(L){return 0<=y(L,M[D][0])},P=A,$=new this.Collection(this,function(){return Vn(M[0][0],M[M.length-1][1],!E,!O)});return $._ondirectionchange=function(L){C=L==="next"?(P=A,m):(P=I,y),M.sort(k)},$._addAlgorithm(function(L,B,H){for(var ne,le=L.key;P(le);)if(++D===M.length)return B(H),!1;return!A(ne=le)&&!I(ne)||(u._cmp(le,M[D][1])===0||u._cmp(le,M[D][0])===0||B(function(){C===m?L.continue(M[D][0]):L.continue(M[D][1])}),!1)}),$},Tt.prototype.startsWithAnyOf=function(){var o=ft.apply(pt,arguments);return o.every(function(l){return typeof l=="string"})?o.length===0?Mr(this):this.inAnyRange(o.map(function(l){return[l,l+cr]})):Jt(this,"startsWithAnyOf() only works with strings")},Tt);function Tt(){}function vn(o){return it(function(l){return as(l),o(l.target.error),!1})}function as(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var ls="storagemutated",Eo="x-storagemutated-1",Kn=ss(null,ls),Jd=(bn.prototype._lock=function(){return ie(!ye.global),++this._reculock,this._reculock!==1||ye.global||(ye.lockOwnerFor=this),this},bn.prototype._unlock=function(){if(ie(!ye.global),--this._reculock==0)for(ye.global||(ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{lr(o[1],o[0])}catch{}}return this},bn.prototype._locked=function(){return this._reculock&&ye.lockOwnerFor!==this},bn.prototype.create=function(o){var l=this;if(!this.mode)return this;var u=this.db.idbdb,d=this.db._state.dbOpenError;if(ie(!this.idbtrans),!o&&!u)switch(d&&d.name){case"DatabaseClosedError":throw new q.DatabaseClosed(d);case"MissingAPIError":throw new q.MissingAPI(d.message,d);default:throw new q.OpenFailed(d)}if(!this.active)throw new q.TransactionInactive;return ie(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=it(function(m){as(m),l._reject(o.error)}),o.onabort=it(function(m){as(m),l.active&&l._reject(new q.Abort(o.error)),l.active=!1,l.on("abort").fire(m)}),o.oncomplete=it(function(){l.active=!1,l._resolve(),"mutatedParts"in o&&Kn.storagemutated.fire(o.mutatedParts)}),this},bn.prototype._promise=function(o,l,u){var d=this;if(o==="readwrite"&&this.mode!=="readwrite")return dt(new q.ReadOnly("Transaction is readonly"));if(!this.active)return dt(new q.TransactionInactive);if(this._locked())return new de(function(y,v){d._blockedFuncs.push([function(){d._promise(o,l,u).then(y,v)},ye])});if(u)return jn(function(){var y=new de(function(v,S){d._lock();var E=l(v,S,d);E&&E.then&&E.then(v,S)});return y.finally(function(){return d._unlock()}),y._lib=!0,y});var m=new de(function(y,v){var S=l(y,v,d);S&&S.then&&S.then(y,v)});return m._lib=!0,m},bn.prototype._root=function(){return this.parent?this.parent._root():this},bn.prototype.waitFor=function(o){var l,u=this._root(),d=de.resolve(o);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return d}):(u._waitingFor=d,u._waitingQueue=[],l=u.idbtrans.objectStore(u.storeNames[0]),function y(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(l.get(-1/0).onsuccess=y)}());var m=u._waitingFor;return new de(function(y,v){d.then(function(S){return u._waitingQueue.push(it(y.bind(null,S)))},function(S){return u._waitingQueue.push(it(v.bind(null,S)))}).finally(function(){u._waitingFor===m&&(u._waitingFor=null)})})},bn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new q.Abort))},bn.prototype.table=function(o){var l=this._memoizedTables||(this._memoizedTables={});if(g(l,o))return l[o];var u=this.schema[o];if(!u)throw new q.NotFound("Table "+o+" not part of transaction");return u=new this.db.Table(o,u,this),u.core=this.db.core.table(o),l[o]=u},bn);function bn(){}function To(o,l,u,d,m,y,v){return{name:o,keyPath:l,unique:u,multi:d,auto:m,compound:y,src:(u&&!v?"&":"")+(d?"*":"")+(m?"++":"")+Ll(l)}}function Ll(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Do(o,l,u){return{name:o,primKey:l,indexes:u,mappedClass:null,idxByName:(d=function(m){return[m.name,m]},u.reduce(function(m,y,v){return v=d(y,v),v&&(m[v[0]]=v[1]),m},{}))};var d}var cs=function(o){try{return o.only([[]]),cs=function(){return[[]]},[[]]}catch{return cs=function(){return cr},cr}};function Oo(o){return o==null?function(){}:typeof o=="string"?(l=o).split(".").length===1?function(u){return u[l]}:function(u){return V(u,l)}:function(u){return V(u,o)};var l}function Bl(o){return[].slice.call(o)}var Zd=0;function us(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function eh(o,l,E){function d(P){if(P.type===3)return null;if(P.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=P.lower,A=P.upper,I=P.lowerOpen,P=P.upperOpen;return D===void 0?A===void 0?null:l.upperBound(A,!!P):A===void 0?l.lowerBound(D,!!I):l.bound(D,A,!!I,!!P)}function m(k){var D,A=k.name;return{name:A,schema:k,mutate:function(I){var P=I.trans,$=I.type,L=I.keys,B=I.values,H=I.range;return new Promise(function(ne,le){ne=it(ne);var re=P.objectStore(A),se=re.keyPath==null,ce=$==="put"||$==="add";if(!ce&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var ae,me=(L||B||{length:1}).length;if(L&&B&&L.length!==B.length)throw new Error("Given keys array must have same length as given values array.");if(me===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function Oe(Ht){++Zt,as(Ht)}var Re=[],Ne=[],Zt=0;if($==="deleteRange"){if(H.type===4)return ne({numFailures:Zt,failures:Ne,results:[],lastResult:void 0});H.type===3?Re.push(ae=re.clear()):Re.push(ae=re.delete(d(H)))}else{var se=ce?se?[B,L]:[B,null]:[L,null],Ee=se[0],Lt=se[1];if(ce)for(var Bt=0;Bt<me;++Bt)Re.push(ae=Lt&&Lt[Bt]!==void 0?re[$](Ee[Bt],Lt[Bt]):re[$](Ee[Bt])),ae.onerror=Oe;else for(Bt=0;Bt<me;++Bt)Re.push(ae=re[$](Ee[Bt])),ae.onerror=Oe}function gi(Ht){Ht=Ht.target.result,Re.forEach(function(hr,zo){return hr.error!=null&&(Ne[zo]=hr.error)}),ne({numFailures:Zt,failures:Ne,results:$==="delete"?L:Re.map(function(hr){return hr.result}),lastResult:Ht})}ae.onerror=function(Ht){Oe(Ht),gi(Ht)},ae.onsuccess=gi})},getMany:function(I){var P=I.trans,$=I.keys;return new Promise(function(L,B){L=it(L);for(var H,ne=P.objectStore(A),le=$.length,re=new Array(le),se=0,ce=0,ae=function(Re){Re=Re.target,re[Re._pos]=Re.result,++ce===se&&L(re)},me=vn(B),Oe=0;Oe<le;++Oe)$[Oe]!=null&&((H=ne.get($[Oe]))._pos=Oe,H.onsuccess=ae,H.onerror=me,++se);se===0&&L(re)})},get:function(I){var P=I.trans,$=I.key;return new Promise(function(L,B){L=it(L);var H=P.objectStore(A).get($);H.onsuccess=function(ne){return L(ne.target.result)},H.onerror=vn(B)})},query:(D=O,function(I){return new Promise(function(P,$){P=it(P);var L,B,H,se=I.trans,ne=I.values,le=I.limit,ae=I.query,re=le===1/0?void 0:le,ce=ae.index,ae=ae.range,se=se.objectStore(A),ce=ce.isPrimaryKey?se:se.index(ce.name),ae=d(ae);if(le===0)return P({result:[]});D?((re=ne?ce.getAll(ae,re):ce.getAllKeys(ae,re)).onsuccess=function(me){return P({result:me.target.result})},re.onerror=vn($)):(L=0,B=!ne&&"openKeyCursor"in ce?ce.openKeyCursor(ae):ce.openCursor(ae),H=[],B.onsuccess=function(me){var Oe=B.result;return Oe?(H.push(ne?Oe.value:Oe.primaryKey),++L===le?P({result:H}):void Oe.continue()):P({result:H})},B.onerror=vn($))})}),openCursor:function(I){var P=I.trans,$=I.values,L=I.query,B=I.reverse,H=I.unique;return new Promise(function(ne,le){ne=it(ne);var ce=L.index,re=L.range,se=P.objectStore(A),se=ce.isPrimaryKey?se:se.index(ce.name),ce=B?H?"prevunique":"prev":H?"nextunique":"next",ae=!$&&"openKeyCursor"in se?se.openKeyCursor(d(re),ce):se.openCursor(d(re),ce);ae.onerror=vn(le),ae.onsuccess=it(function(me){var Oe,Re,Ne,Zt,Ee=ae.result;Ee?(Ee.___id=++Zd,Ee.done=!1,Oe=Ee.continue.bind(Ee),Re=(Re=Ee.continuePrimaryKey)&&Re.bind(Ee),Ne=Ee.advance.bind(Ee),Zt=function(){throw new Error("Cursor not stopped")},Ee.trans=P,Ee.stop=Ee.continue=Ee.continuePrimaryKey=Ee.advance=function(){throw new Error("Cursor not started")},Ee.fail=it(le),Ee.next=function(){var Lt=this,Bt=1;return this.start(function(){return Bt--?Lt.continue():Lt.stop()}).then(function(){return Lt})},Ee.start=function(Lt){function Bt(){if(ae.result)try{Lt()}catch(Ht){Ee.fail(Ht)}else Ee.done=!0,Ee.start=function(){throw new Error("Cursor behind last entry")},Ee.stop()}var gi=new Promise(function(Ht,hr){Ht=it(Ht),ae.onerror=vn(hr),Ee.fail=hr,Ee.stop=function(zo){Ee.stop=Ee.continue=Ee.continuePrimaryKey=Ee.advance=Zt,Ht(zo)}});return ae.onsuccess=it(function(Ht){ae.onsuccess=Bt,Bt()}),Ee.continue=Oe,Ee.continuePrimaryKey=Re,Ee.advance=Ne,Bt(),gi},ne(Ee)):ne(null)},le)})},count:function(I){var P=I.query,$=I.trans,L=P.index,B=P.range;return new Promise(function(H,ne){var le=$.objectStore(A),re=L.isPrimaryKey?le:le.index(L.name),le=d(B),re=le?re.count(le):re.count();re.onsuccess=it(function(se){return H(se.target.result)}),re.onerror=vn(ne)})}}}var y,v,S,M=(v=E,S=Bl((y=o).objectStoreNames),{schema:{name:y.name,tables:S.map(function(k){return v.objectStore(k)}).map(function(k){var D=k.keyPath,P=k.autoIncrement,A=c(D),I={},P={name:k.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:D==null,compound:A,keyPath:D,autoIncrement:P,unique:!0,extractKey:Oo(D)},indexes:Bl(k.indexNames).map(function($){return k.index($)}).map(function(H){var L=H.name,B=H.unique,ne=H.multiEntry,H=H.keyPath,ne={name:L,compound:c(H),keyPath:H,unique:B,multiEntry:ne,extractKey:Oo(H)};return I[us(H)]=ne}),getIndexByKeyPath:function($){return I[us($)]}};return I[":id"]=P.primaryKey,D!=null&&(I[us(D)]=P.primaryKey),P})},hasGetAll:0<S.length&&"getAll"in v.objectStore(S[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),E=M.schema,O=M.hasGetAll,M=E.tables.map(m),C={};return M.forEach(function(k){return C[k.name]=k}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(k){if(!C[k])throw new Error("Table '".concat(k,"' not found"));return C[k]},MIN_KEY:-1/0,MAX_KEY:cs(l),schema:E}}function th(o,l,u,d){var m=u.IDBKeyRange;return u.indexedDB,{dbcore:(d=eh(l,m,d),o.dbcore.reduce(function(y,v){return v=v.create,r(r({},y),v(y))},d))}}function si(o,d){var u=d.db,d=th(o._middlewares,u,o._deps,d);o.core=d.dbcore,o.tables.forEach(function(m){var y=m.name;o.core.schema.tables.some(function(v){return v.name===y})&&(m.core=o.core.table(y),o[y]instanceof o.Table&&(o[y].core=m.core))})}function ii(o,l,u,d){u.forEach(function(m){var y=d[m];l.forEach(function(v){var S=function E(O,M){return U(O,M)||(O=p(O))&&E(O,M)}(v,m);(!S||"value"in S&&S.value===void 0)&&(v===o.Transaction.prototype||v instanceof o.Transaction?R(v,m,{get:function(){return this.table(m)},set:function(E){T(this,m,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):v[m]=new o.Table(m,y))})})}function Po(o,l){l.forEach(function(u){for(var d in u)u[d]instanceof o.Table&&delete u[d]})}function nh(o,l){return o._cfg.version-l._cfg.version}function rh(o,l,u,d){var m=o._dbSchema;u.objectStoreNames.contains("$meta")&&!m.$meta&&(m.$meta=Do("$meta",jl("")[0],[]),o._storeNames.push("$meta"));var y=o._createTransaction("readwrite",o._storeNames,m);y.create(u),y._completion.catch(d);var v=y._reject.bind(y),S=ye.transless||ye;jn(function(){return ye.trans=y,ye.transless=S,l!==0?(si(o,u),O=l,((E=y).storeNames.includes("$meta")?E.table("$meta").get("version").then(function(M){return M??O}):de.resolve(O)).then(function(M){return k=M,D=y,A=u,I=[],M=(C=o)._versions,P=C._dbSchema=ai(0,C.idbdb,A),(M=M.filter(function($){return $._cfg.version>=k})).length!==0?(M.forEach(function($){I.push(function(){var L=P,B=$._cfg.dbschema;li(C,L,A),li(C,B,A),P=C._dbSchema=B;var H=Ao(L,B);H.add.forEach(function(ce){Mo(A,ce[0],ce[1].primKey,ce[1].indexes)}),H.change.forEach(function(ce){if(ce.recreate)throw new q.Upgrade("Not yet support for changing primary key");var ae=A.objectStore(ce.name);ce.add.forEach(function(me){return oi(ae,me)}),ce.change.forEach(function(me){ae.deleteIndex(me.name),oi(ae,me)}),ce.del.forEach(function(me){return ae.deleteIndex(me)})});var ne=$._cfg.contentUpgrade;if(ne&&$._cfg.version>k){si(C,A),D._memoizedTables={};var le=Ie(B);H.del.forEach(function(ce){le[ce]=L[ce]}),Po(C,[C.Transaction.prototype]),ii(C,[C.Transaction.prototype],a(le),le),D.schema=le;var re,se=Pt(ne);return se&&Or(),H=de.follow(function(){var ce;(re=ne(D))&&se&&(ce=Un.bind(null,null),re.then(ce,ce))}),re&&typeof re.then=="function"?de.resolve(re):H.then(function(){return re})}}),I.push(function(L){var B,H,ne=$._cfg.dbschema;B=ne,H=L,[].slice.call(H.db.objectStoreNames).forEach(function(le){return B[le]==null&&H.db.deleteObjectStore(le)}),Po(C,[C.Transaction.prototype]),ii(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),D.schema=C._dbSchema}),I.push(function(L){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===$._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(B){return B!=="$meta"})):L.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return I.length?de.resolve(I.shift()(D.idbtrans)).then($):de.resolve()}().then(function(){Fl(P,A)})):de.resolve();var C,k,D,A,I,P}).catch(v)):(a(m).forEach(function(M){Mo(u,M,m[M].primKey,m[M].indexes)}),si(o,u),void de.follow(function(){return o.on.populate.fire(y)}).catch(v));var E,O})}function sh(o,l){Fl(o._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var u=ai(0,o.idbdb,l);li(o,o._dbSchema,l);for(var d=0,m=Ao(u,o._dbSchema).change;d<m.length;d++){var y=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var S=l.objectStore(v.name);v.add.forEach(function(E){te&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(E.src)),oi(S,E)})}(m[d]);if(typeof y=="object")return y.value}}function Ao(o,l){var u,d={del:[],add:[],change:[]};for(u in o)l[u]||d.del.push(u);for(u in l){var m=o[u],y=l[u];if(m){var v={name:u,def:y,recreate:!1,del:[],add:[],change:[]};if(""+(m.primKey.keyPath||"")!=""+(y.primKey.keyPath||"")||m.primKey.auto!==y.primKey.auto)v.recreate=!0,d.change.push(v);else{var S=m.idxByName,E=y.idxByName,O=void 0;for(O in S)E[O]||v.del.push(O);for(O in E){var M=S[O],C=E[O];M?M.src!==C.src&&v.change.push(C):v.add.push(C)}(0<v.del.length||0<v.add.length||0<v.change.length)&&d.change.push(v)}}else d.add.push([u,y])}return d}function Mo(o,l,u,d){var m=o.db.createObjectStore(l,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return d.forEach(function(y){return oi(m,y)}),m}function Fl(o,l){a(o).forEach(function(u){l.db.objectStoreNames.contains(u)||(te&&console.debug("Dexie: Creating missing table",u),Mo(l,u,o[u].primKey,o[u].indexes))})}function oi(o,l){o.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function ai(o,l,u){var d={};return G(l.objectStoreNames,0).forEach(function(m){for(var y=u.objectStore(m),v=To(Ll(O=y.keyPath),O||"",!0,!1,!!y.autoIncrement,O&&typeof O!="string",!0),S=[],E=0;E<y.indexNames.length;++E){var M=y.index(y.indexNames[E]),O=M.keyPath,M=To(M.name,O,!!M.unique,!!M.multiEntry,!1,O&&typeof O!="string",!1);S.push(M)}d[m]=Do(m,v,S)}),d}function li(o,l,u){for(var d=u.db.objectStoreNames,m=0;m<d.length;++m){var y=d[m],v=u.objectStore(y);o._hasGetAll="getAll"in v;for(var S=0;S<v.indexNames.length;++S){var E=v.indexNames[S],O=v.index(E).keyPath,M=typeof O=="string"?O:"["+G(O).join("+")+"]";!l[y]||(O=l[y].idxByName[M])&&(O.name=E,delete l[y].idxByName[M],l[y].idxByName[E]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function jl(o){return o.split(",").map(function(l,u){var d=(l=l.trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return To(d,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),c(m),u===0)})}var ih=(ci.prototype._parseStoresSpec=function(o,l){a(o).forEach(function(u){if(o[u]!==null){var d=jl(o[u]),m=d.shift();if(m.unique=!0,m.multi)throw new q.Schema("Primary key cannot be multi-valued");d.forEach(function(y){if(y.auto)throw new q.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new q.Schema("Index must have a name and cannot be an empty string")}),l[u]=Do(u,m,d)}})},ci.prototype.stores=function(u){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,u):u;var u=l._versions,d={},m={};return u.forEach(function(y){f(d,y._cfg.storesSource),m=y._cfg.dbschema={},y._parseStoresSpec(d,m)}),l._dbSchema=m,Po(l,[l._allTables,l,l.Transaction.prototype]),ii(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],a(m),m),l._storeNames=a(m),this},ci.prototype.upgrade=function(o){return this._cfg.contentUpgrade=oe(this._cfg.contentUpgrade||Se,o),this},ci);function ci(){}function Io(o,l){var u=o._dbNamesDB;return u||(u=o._dbNamesDB=new In(Zs,{addons:[],indexedDB:o,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function ko(o){return o&&typeof o.databases=="function"}function Ro(o){return jn(function(){return ye.letThrough=!0,o()})}function No(o){return!("from"in o)}var $t=function(o,l){if(!this){var u=new $t;return o&&"d"in o&&f(u,o),u}f(this,arguments.length?{d:1,from:o,to:1<arguments.length?l:o}:{d:0})};function fs(o,l,u){var d=Fe(l,u);if(!isNaN(d)){if(0<d)throw RangeError();if(No(o))return f(o,{from:l,to:u,d:1});var m=o.l,d=o.r;if(Fe(u,o.from)<0)return m?fs(m,l,u):o.l={from:l,to:u,d:1,l:null,r:null},ql(o);if(0<Fe(l,o.to))return d?fs(d,l,u):o.r={from:l,to:u,d:1,l:null,r:null},ql(o);Fe(l,o.from)<0&&(o.from=l,o.l=null,o.d=d?d.d+1:1),0<Fe(u,o.to)&&(o.to=u,o.r=null,o.d=o.l?o.l.d+1:1),u=!o.r,m&&!o.l&&ds(o,m),d&&u&&ds(o,d)}}function ds(o,l){No(l)||function u(d,E){var y=E.from,v=E.to,S=E.l,E=E.r;fs(d,y,v),S&&u(d,S),E&&u(d,E)}(o,l)}function Ul(o,l){var u=ui(l),d=u.next();if(d.done)return!1;for(var m=d.value,y=ui(o),v=y.next(m.from),S=v.value;!d.done&&!v.done;){if(Fe(S.from,m.to)<=0&&0<=Fe(S.to,m.from))return!0;Fe(m.from,S.from)<0?m=(d=u.next(S.from)).value:S=(v=y.next(m.from)).value}return!1}function ui(o){var l=No(o)?null:{s:0,n:o};return{next:function(u){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Fe(u,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Fe(u,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function ql(o){var l,u,d=(((l=o.r)===null||l===void 0?void 0:l.d)||0)-(((u=o.l)===null||u===void 0?void 0:u.d)||0),m=1<d?"r":d<-1?"l":"";m&&(l=m=="r"?"l":"r",u=r({},o),d=o[m],o.from=d.from,o.to=d.to,o[m]=d[m],u[m]=d[l],(o[l]=u).d=Vl(u)),o.d=Vl(o)}function Vl(u){var l=u.r,u=u.l;return(l?u?Math.max(l.d,u.d):l.d:u?u.d:0)+1}function fi(o,l){return a(l).forEach(function(u){o[u]?ds(o[u],l[u]):o[u]=function d(m){var y,v,S={};for(y in m)g(m,y)&&(v=m[y],S[y]=!v||typeof v!="object"||vt.has(v.constructor)?v:d(v));return S}(l[u])}),o}function $o(o,l){return o.all||l.all||Object.keys(o).some(function(u){return l[u]&&Ul(l[u],o[u])})}b($t.prototype,((on={add:function(o){return ds(this,o),this},addKey:function(o){return fs(this,o,o),this},addKeys:function(o){var l=this;return o.forEach(function(u){return fs(l,u,u)}),this},hasKey:function(o){var l=ui(this).next(o).value;return l&&Fe(l.from,o)<=0&&0<=Fe(l.to,o)}})[ze]=function(){return ui(this)},on));var fr={},Lo={},Bo=!1;function di(o){fi(Lo,o),Bo||(Bo=!0,setTimeout(function(){Bo=!1,Fo(Lo,!(Lo={}))},0))}function Fo(o,l){l===void 0&&(l=!1);var u=new Set;if(o.all)for(var d=0,m=Object.values(fr);d<m.length;d++)Kl(v=m[d],o,u,l);else for(var y in o){var v,S=/^idb\:\/\/(.*)\/(.*)\//.exec(y);S&&(y=S[1],S=S[2],(v=fr["idb://".concat(y,"/").concat(S)])&&Kl(v,o,u,l))}u.forEach(function(E){return E()})}function Kl(o,l,u,d){for(var m=[],y=0,v=Object.entries(o.queries.query);y<v.length;y++){for(var S=v[y],E=S[0],O=[],M=0,C=S[1];M<C.length;M++){var k=C[M];$o(l,k.obsSet)?k.subscribers.forEach(function(P){return u.add(P)}):d&&O.push(k)}d&&m.push([E,O])}if(d)for(var D=0,A=m;D<A.length;D++){var I=A[D],E=I[0],O=I[1];o.queries.query[E]=O}}function oh(o){var l=o._state,u=o._deps.indexedDB;if(l.isBeingOpened||o.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?dt(l.dbOpenError):o});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,m=Math.round(10*o.verno),y=!1;function v(){if(l.openCanceller!==d)throw new q.DatabaseClosed("db.open() was cancelled")}function S(){return new de(function(k,D){if(v(),!u)throw new q.MissingAPI;var A=o.name,I=l.autoSchema||!m?u.open(A):u.open(A,m);if(!I)throw new q.MissingAPI;I.onerror=vn(D),I.onblocked=it(o._fireOnBlocked),I.onupgradeneeded=it(function(P){var $;M=I.transaction,l.autoSchema&&!o._options.allowEmptyDB?(I.onerror=as,M.abort(),I.result.close(),($=u.deleteDatabase(A)).onsuccess=$.onerror=it(function(){D(new q.NoSuchDatabase("Database ".concat(A," doesnt exist")))})):(M.onerror=vn(D),P=P.oldVersion>Math.pow(2,62)?0:P.oldVersion,C=P<1,o.idbdb=I.result,y&&sh(o,M),rh(o,P/10,M,D))},D),I.onsuccess=it(function(){M=null;var P,$,L,B,H,ne=o.idbdb=I.result,le=G(ne.objectStoreNames);if(0<le.length)try{var re=ne.transaction((B=le).length===1?B[0]:B,"readonly");if(l.autoSchema)$=ne,L=re,(P=o).verno=$.version/10,L=P._dbSchema=ai(0,$,L),P._storeNames=G($.objectStoreNames,0),ii(P,[P._allTables],a(L),L);else if(li(o,o._dbSchema,re),((H=Ao(ai(0,(H=o).idbdb,re),H._dbSchema)).add.length||H.change.some(function(se){return se.add.length||se.change.length}))&&!y)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ne.close(),m=ne.version+1,y=!0,k(S());si(o,re)}catch{}Pr.push(o),ne.onversionchange=it(function(se){l.vcFired=!0,o.on("versionchange").fire(se)}),ne.onclose=it(function(se){o.on("close").fire(se)}),C&&(H=o._deps,re=A,ne=H.indexedDB,H=H.IDBKeyRange,ko(ne)||re===Zs||Io(ne,H).put({name:re}).catch(Se)),k()},D)}).catch(function(k){switch(k==null?void 0:k.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),S();break;case"VersionError":if(0<m)return m=0,S()}return de.reject(k)})}var E,O=l.dbReadyResolve,M=null,C=!1;return de.race([d,(typeof navigator>"u"?de.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(k){function D(){return indexedDB.databases().finally(k)}E=setInterval(D,100),D()}).finally(function(){return clearInterval(E)}):Promise.resolve()).then(S)]).then(function(){return v(),l.onReadyBeingFired=[],de.resolve(Ro(function(){return o.on.ready.fire(o.vip)})).then(function k(){if(0<l.onReadyBeingFired.length){var D=l.onReadyBeingFired.reduce(oe,Se);return l.onReadyBeingFired=[],de.resolve(Ro(function(){return D(o.vip)})).then(k)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(k){l.dbOpenError=k;try{M&&M.abort()}catch{}return d===l.openCanceller&&o._close(),dt(k)}).finally(function(){l.openComplete=!0,O()}).then(function(){var k;return C&&(k={},o.tables.forEach(function(D){D.schema.indexes.forEach(function(A){A.name&&(k["idb://".concat(o.name,"/").concat(D.name,"/").concat(A.name)]=new $t(-1/0,[[[]]]))}),k["idb://".concat(o.name,"/").concat(D.name,"/")]=k["idb://".concat(o.name,"/").concat(D.name,"/:dels")]=new $t(-1/0,[[[]]])}),Kn(ls).fire(k),Fo(k,!0)),o})}function jo(o){function l(y){return o.next(y)}var u=m(l),d=m(function(y){return o.throw(y)});function m(y){return function(E){var S=y(E),E=S.value;return S.done?E:E&&typeof E.then=="function"?E.then(u,d):c(E)?Promise.all(E).then(u,d):u(E)}}return m(l)()}function hi(o,l,u){for(var d=c(o)?o.slice():[o],m=0;m<u;++m)d.push(l);return d}var ah={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return r(r({},o),{table:function(l){var u=o.table(l),d=u.schema,m={},y=[];function v(C,k,D){var A=us(C),I=m[A]=m[A]||[],P=C==null?0:typeof C=="string"?1:C.length,$=0<k,$=r(r({},D),{name:$?"".concat(A,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:$,keyTail:k,keyLength:P,extractKey:Oo(C),unique:!$&&D.unique});return I.push($),$.isPrimaryKey||y.push($),1<P&&v(P===2?C[0]:C.slice(0,P-1),k+1,D),I.sort(function(L,B){return L.keyTail-B.keyTail}),$}l=v(d.primaryKey.keyPath,0,d.primaryKey),m[":id"]=[l];for(var S=0,E=d.indexes;S<E.length;S++){var O=E[S];v(O.keyPath,0,O)}function M(C){var k,D=C.query.index;return D.isVirtual?r(r({},C),{query:{index:D.lowLevelIndex,range:(k=C.query.range,D=D.keyTail,{type:k.type===1?2:k.type,lower:hi(k.lower,k.lowerOpen?o.MAX_KEY:o.MIN_KEY,D),lowerOpen:!0,upper:hi(k.upper,k.upperOpen?o.MIN_KEY:o.MAX_KEY,D),upperOpen:!0})}}):C}return r(r({},u),{schema:r(r({},d),{primaryKey:l,indexes:y,getIndexByKeyPath:function(C){return(C=m[us(C)])&&C[0]}}),count:function(C){return u.count(M(C))},query:function(C){return u.query(M(C))},openCursor:function(C){var k=C.query.index,D=k.keyTail,A=k.isVirtual,I=k.keyLength;return A?u.openCursor(M(C)).then(function($){return $&&P($)}):u.openCursor(C);function P($){return Object.create($,{continue:{value:function(L){L!=null?$.continue(hi(L,C.reverse?o.MAX_KEY:o.MIN_KEY,D)):C.unique?$.continue($.key.slice(0,I).concat(C.reverse?o.MIN_KEY:o.MAX_KEY,D)):$.continue()}},continuePrimaryKey:{value:function(L,B){$.continuePrimaryKey(hi(L,o.MAX_KEY,D),B)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var L=$.key;return I===1?L[0]:L.slice(0,I)}},value:{get:function(){return $.value}}})}}})}})}};function Uo(o,l,u,d){return u=u||{},d=d||"",a(o).forEach(function(m){var y,v,S;g(l,m)?(y=o[m],v=l[m],typeof y=="object"&&typeof v=="object"&&y&&v?(S=nt(y))!==nt(v)?u[d+m]=l[m]:S==="Object"?Uo(y,v,u,d+m+"."):y!==v&&(u[d+m]=l[m]):y!==v&&(u[d+m]=l[m])):u[d+m]=void 0}),a(l).forEach(function(m){g(o,m)||(u[d+m]=l[m])}),u}function qo(o,l){return l.type==="delete"?l.keys:l.keys||l.values.map(o.extractKey)}var lh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(l){var u=o.table(l),d=u.schema.primaryKey;return r(r({},u),{mutate:function(m){var y=ye.trans,v=y.table(l).hook,S=v.deleting,E=v.creating,O=v.updating;switch(m.type){case"add":if(E.fire===Se)break;return y._promise("readwrite",function(){return M(m)},!0);case"put":if(E.fire===Se&&O.fire===Se)break;return y._promise("readwrite",function(){return M(m)},!0);case"delete":if(S.fire===Se)break;return y._promise("readwrite",function(){return M(m)},!0);case"deleteRange":if(S.fire===Se)break;return y._promise("readwrite",function(){return function C(k,D,A){return u.query({trans:k,values:!1,query:{index:d,range:D},limit:A}).then(function(I){var P=I.result;return M({type:"delete",keys:P,trans:k}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):P.length<A?{failures:[],numFailures:0,lastResult:void 0}:C(k,r(r({},D),{lower:P[P.length-1],lowerOpen:!0}),A)})})}(m.trans,m.range,1e4)},!0)}return u.mutate(m);function M(C){var k,D,A,I=ye.trans,P=C.keys||qo(d,C);if(!P)throw new Error("Keys missing");return(C=C.type==="add"||C.type==="put"?r(r({},C),{keys:P}):r({},C)).type!=="delete"&&(C.values=s([],C.values)),C.keys&&(C.keys=s([],C.keys)),k=u,A=P,((D=C).type==="add"?Promise.resolve([]):k.getMany({trans:D.trans,keys:A,cache:"immutable"})).then(function($){var L=P.map(function(B,H){var ne,le,re,se=$[H],ce={onerror:null,onsuccess:null};return C.type==="delete"?S.fire.call(ce,B,se,I):C.type==="add"||se===void 0?(ne=E.fire.call(ce,B,C.values[H],I),B==null&&ne!=null&&(C.keys[H]=B=ne,d.outbound||ue(C.values[H],d.keyPath,B))):(ne=Uo(se,C.values[H]),(le=O.fire.call(ce,ne,B,se,I))&&(re=C.values[H],Object.keys(le).forEach(function(ae){g(re,ae)?re[ae]=le[ae]:ue(re,ae,le[ae])}))),ce});return u.mutate(C).then(function(B){for(var H=B.failures,ne=B.results,le=B.numFailures,B=B.lastResult,re=0;re<P.length;++re){var se=(ne||P)[re],ce=L[re];se==null?ce.onerror&&ce.onerror(H[re]):ce.onsuccess&&ce.onsuccess(C.type==="put"&&$[re]?C.values[re]:se)}return{failures:H,results:ne,numFailures:le,lastResult:B}}).catch(function(B){return L.forEach(function(H){return H.onerror&&H.onerror(B)}),Promise.reject(B)})})}}})}})}};function Hl(o,l,u){try{if(!l||l.keys.length<o.length)return null;for(var d=[],m=0,y=0;m<l.keys.length&&y<o.length;++m)Fe(l.keys[m],o[y])===0&&(d.push(u?Ge(l.values[m]):l.values[m]),++y);return d.length===o.length?d:null}catch{return null}}var ch={stack:"dbcore",level:-1,create:function(o){return{table:function(l){var u=o.table(l);return r(r({},u),{getMany:function(d){if(!d.cache)return u.getMany(d);var m=Hl(d.keys,d.trans._cache,d.cache==="clone");return m?de.resolve(m):u.getMany(d).then(function(y){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?Ge(y):y},y})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),u.mutate(d)}})}}}};function zl(o,l){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Wl(o,l){switch(o){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var uh={stack:"dbcore",level:0,name:"Observability",create:function(o){var l=o.schema.name,u=new $t(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(d,m,y){if(ye.subscr&&m!=="readonly")throw new q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ye.querier));return o.transaction(d,m,y)},table:function(d){var m=o.table(d),y=m.schema,v=y.primaryKey,C=y.indexes,S=v.extractKey,E=v.outbound,O=v.autoIncrement&&C.filter(function(D){return D.compound&&D.keyPath.includes(v.keyPath)}),M=r(r({},m),{mutate:function(D){function A(ae){return ae="idb://".concat(l,"/").concat(d,"/").concat(ae),B[ae]||(B[ae]=new $t)}var I,P,$,L=D.trans,B=D.mutatedParts||(D.mutatedParts={}),H=A(""),ne=A(":dels"),le=D.type,ce=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[qo(v,D).filter(function(ae){return ae}),D.values]:[],re=ce[0],se=ce[1],ce=D.trans._cache;return c(re)?(H.addKeys(re),(ce=le==="delete"||re.length===se.length?Hl(re,ce):null)||ne.addKeys(re),(ce||se)&&(I=A,P=ce,$=se,y.indexes.forEach(function(ae){var me=I(ae.name||"");function Oe(Ne){return Ne!=null?ae.extractKey(Ne):null}function Re(Ne){return ae.multiEntry&&c(Ne)?Ne.forEach(function(Zt){return me.addKey(Zt)}):me.addKey(Ne)}(P||$).forEach(function(Ne,Lt){var Ee=P&&Oe(P[Lt]),Lt=$&&Oe($[Lt]);Fe(Ee,Lt)!==0&&(Ee!=null&&Re(Ee),Lt!=null&&Re(Lt))})}))):re?(se={from:(se=re.lower)!==null&&se!==void 0?se:o.MIN_KEY,to:(se=re.upper)!==null&&se!==void 0?se:o.MAX_KEY},ne.add(se),H.add(se)):(H.add(u),ne.add(u),y.indexes.forEach(function(ae){return A(ae.name).add(u)})),m.mutate(D).then(function(ae){return!re||D.type!=="add"&&D.type!=="put"||(H.addKeys(ae.results),O&&O.forEach(function(me){for(var Oe=D.values.map(function(Ee){return me.extractKey(Ee)}),Re=me.keyPath.findIndex(function(Ee){return Ee===v.keyPath}),Ne=0,Zt=ae.results.length;Ne<Zt;++Ne)Oe[Ne][Re]=ae.results[Ne];A(me.name).addKeys(Oe)})),L.mutatedParts=fi(L.mutatedParts||{},B),ae})}}),C=function(A){var I=A.query,A=I.index,I=I.range;return[A,new $t((A=I.lower)!==null&&A!==void 0?A:o.MIN_KEY,(I=I.upper)!==null&&I!==void 0?I:o.MAX_KEY)]},k={get:function(D){return[v,new $t(D.key)]},getMany:function(D){return[v,new $t().addKeys(D.keys)]},count:C,query:C,openCursor:C};return a(k).forEach(function(D){M[D]=function(A){var I=ye.subscr,P=!!I,$=zl(ye,m)&&Wl(D,A)?A.obsSet={}:I;if(P){var L=function(se){return se="idb://".concat(l,"/").concat(d,"/").concat(se),$[se]||($[se]=new $t)},B=L(""),H=L(":dels"),I=k[D](A),P=I[0],I=I[1];if((D==="query"&&P.isPrimaryKey&&!A.values?H:L(P.name||"")).add(I),!P.isPrimaryKey){if(D!=="count"){var ne=D==="query"&&E&&A.values&&m.query(r(r({},A),{values:!1}));return m[D].apply(this,arguments).then(function(se){if(D==="query"){if(E&&A.values)return ne.then(function(Oe){return Oe=Oe.result,B.addKeys(Oe),se});var ce=A.values?se.result.map(S):se.result;(A.values?B:H).addKeys(ce)}else if(D==="openCursor"){var ae=se,me=A.values;return ae&&Object.create(ae,{key:{get:function(){return H.addKey(ae.primaryKey),ae.key}},primaryKey:{get:function(){var Oe=ae.primaryKey;return H.addKey(Oe),Oe}},value:{get:function(){return me&&B.addKey(ae.primaryKey),ae.value}}})}return se})}H.add(u)}}return m[D].apply(this,arguments)}}),M}})}};function Yl(o,l,u){if(u.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return u.numFailures===d?null:(l=r({},l),c(l.keys)&&(l.keys=l.keys.filter(function(m,y){return!(y in u.failures)})),"values"in l&&c(l.values)&&(l.values=l.values.filter(function(m,y){return!(y in u.failures)})),l)}function Vo(o,l){return u=o,((d=l).lower===void 0||(d.lowerOpen?0<Fe(u,d.lower):0<=Fe(u,d.lower)))&&(o=o,(l=l).upper===void 0||(l.upperOpen?Fe(o,l.upper)<0:Fe(o,l.upper)<=0));var u,d}function Xl(o,l,k,d,m,y){if(!k||k.length===0)return o;var v=l.query.index,S=v.multiEntry,E=l.query.range,O=d.schema.primaryKey.extractKey,M=v.extractKey,C=(v.lowLevelIndex||v).extractKey,k=k.reduce(function(D,A){var I=D,P=[];if(A.type==="add"||A.type==="put")for(var $=new $t,L=A.values.length-1;0<=L;--L){var B,H=A.values[L],ne=O(H);$.hasKey(ne)||(B=M(H),(S&&c(B)?B.some(function(ae){return Vo(ae,E)}):Vo(B,E))&&($.addKey(ne),P.push(H)))}switch(A.type){case"add":var le=new $t().addKeys(l.values?D.map(function(me){return O(me)}):D),I=D.concat(l.values?P.filter(function(me){return me=O(me),!le.hasKey(me)&&(le.addKey(me),!0)}):P.map(function(me){return O(me)}).filter(function(me){return!le.hasKey(me)&&(le.addKey(me),!0)}));break;case"put":var re=new $t().addKeys(A.values.map(function(me){return O(me)}));I=D.filter(function(me){return!re.hasKey(l.values?O(me):me)}).concat(l.values?P:P.map(function(me){return O(me)}));break;case"delete":var se=new $t().addKeys(A.keys);I=D.filter(function(me){return!se.hasKey(l.values?O(me):me)});break;case"deleteRange":var ce=A.range;I=D.filter(function(me){return!Vo(O(me),ce)})}return I},o);return k===o?o:(k.sort(function(D,A){return Fe(C(D),C(A))||Fe(O(D),O(A))}),l.limit&&l.limit<1/0&&(k.length>l.limit?k.length=l.limit:o.length===l.limit&&k.length<l.limit&&(m.dirty=!0)),y?Object.freeze(k):k)}function Gl(o,l){return Fe(o.lower,l.lower)===0&&Fe(o.upper,l.upper)===0&&!!o.lowerOpen==!!l.lowerOpen&&!!o.upperOpen==!!l.upperOpen}function fh(o,l){return function(u,d,m,y){if(u===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Fe(u,d))===0){if(m&&y)return 0;if(m)return 1;if(y)return-1}return d}(o.lower,l.lower,o.lowerOpen,l.lowerOpen)<=0&&0<=function(u,d,m,y){if(u===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Fe(u,d))===0){if(m&&y)return 0;if(m)return-1;if(y)return 1}return d}(o.upper,l.upper,o.upperOpen,l.upperOpen)}function dh(o,l,u,d){o.subscribers.add(u),d.addEventListener("abort",function(){var m,y;o.subscribers.delete(u),o.subscribers.size===0&&(m=o,y=l,setTimeout(function(){m.subscribers.size===0&&De(y,m)},3e3))})}var hh={stack:"dbcore",level:0,name:"Cache",create:function(o){var l=o.schema.name;return r(r({},o),{transaction:function(u,d,m){var y,v,S=o.transaction(u,d,m);return d==="readwrite"&&(v=(y=new AbortController).signal,m=function(E){return function(){if(y.abort(),d==="readwrite"){for(var O=new Set,M=0,C=u;M<C.length;M++){var k=C[M],D=fr["idb://".concat(l,"/").concat(k)];if(D){var A=o.table(k),I=D.optimisticOps.filter(function(me){return me.trans===S});if(S._explicit&&E&&S.mutatedParts)for(var P=0,$=Object.values(D.queries.query);P<$.length;P++)for(var L=0,B=(le=$[P]).slice();L<B.length;L++)$o((re=B[L]).obsSet,S.mutatedParts)&&(De(le,re),re.subscribers.forEach(function(me){return O.add(me)}));else if(0<I.length){D.optimisticOps=D.optimisticOps.filter(function(me){return me.trans!==S});for(var H=0,ne=Object.values(D.queries.query);H<ne.length;H++)for(var le,re,se,ce=0,ae=(le=ne[H]).slice();ce<ae.length;ce++)(re=ae[ce]).res!=null&&S.mutatedParts&&(E&&!re.dirty?(se=Object.isFrozen(re.res),se=Xl(re.res,re.req,I,A,re,se),re.dirty?(De(le,re),re.subscribers.forEach(function(me){return O.add(me)})):se!==re.res&&(re.res=se,re.promise=de.resolve({result:se}))):(re.dirty&&De(le,re),re.subscribers.forEach(function(me){return O.add(me)})))}}}O.forEach(function(me){return me()})}}},S.addEventListener("abort",m(!1),{signal:v}),S.addEventListener("error",m(!1),{signal:v}),S.addEventListener("complete",m(!0),{signal:v})),S},table:function(u){var d=o.table(u),m=d.schema.primaryKey;return r(r({},d),{mutate:function(y){var v=ye.trans;if(m.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return d.mutate(y);var S=fr["idb://".concat(l,"/").concat(u)];return S?(v=d.mutate(y),y.type!=="add"&&y.type!=="put"||!(50<=y.values.length||qo(m,y).some(function(E){return E==null}))?(S.optimisticOps.push(y),y.mutatedParts&&di(y.mutatedParts),v.then(function(E){0<E.numFailures&&(De(S.optimisticOps,y),(E=Yl(0,y,E))&&S.optimisticOps.push(E),y.mutatedParts&&di(y.mutatedParts))}),v.catch(function(){De(S.optimisticOps,y),y.mutatedParts&&di(y.mutatedParts)})):v.then(function(E){var O=Yl(0,r(r({},y),{values:y.values.map(function(M,C){var k;return E.failures[C]?M:(M=(k=m.keyPath)!==null&&k!==void 0&&k.includes(".")?Ge(M):r({},M),ue(M,m.keyPath,E.results[C]),M)})}),E);S.optimisticOps.push(O),queueMicrotask(function(){return y.mutatedParts&&di(y.mutatedParts)})}),v):d.mutate(y)},query:function(y){if(!zl(ye,d)||!Wl("query",y))return d.query(y);var v=((O=ye.trans)===null||O===void 0?void 0:O.db._options.cache)==="immutable",C=ye,S=C.requery,E=C.signal,O=function(A,I,P,$){var L=fr["idb://".concat(A,"/").concat(I)];if(!L)return[];if(!(I=L.queries[P]))return[null,!1,L,null];var B=I[($.query?$.query.index.name:null)||""];if(!B)return[null,!1,L,null];switch(P){case"query":var H=B.find(function(ne){return ne.req.limit===$.limit&&ne.req.values===$.values&&Gl(ne.req.query.range,$.query.range)});return H?[H,!0,L,B]:[B.find(function(ne){return("limit"in ne.req?ne.req.limit:1/0)>=$.limit&&(!$.values||ne.req.values)&&fh(ne.req.query.range,$.query.range)}),!1,L,B];case"count":return H=B.find(function(ne){return Gl(ne.req.query.range,$.query.range)}),[H,!!H,L,B]}}(l,u,"query",y),M=O[0],C=O[1],k=O[2],D=O[3];return M&&C?M.obsSet=y.obsSet:(C=d.query(y).then(function(A){var I=A.result;if(M&&(M.res=I),v){for(var P=0,$=I.length;P<$;++P)Object.freeze(I[P]);Object.freeze(I)}else A.result=Ge(I);return A}).catch(function(A){return D&&M&&De(D,M),Promise.reject(A)}),M={obsSet:y.obsSet,promise:C,subscribers:new Set,type:"query",req:y,dirty:!1},D?D.push(M):(D=[M],(k=k||(fr["idb://".concat(l,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[y.query.index.name||""]=D)),dh(M,D,S,E),M.promise.then(function(A){return{result:Xl(A.result,y,k==null?void 0:k.optimisticOps,d,M,v)}})}})}})}};function pi(o,l){return new Proxy(o,{get:function(u,d,m){return d==="db"?l:Reflect.get(u,d,m)}})}var In=(ht.prototype.version=function(o){if(isNaN(o)||o<.1)throw new q.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var l=this._versions,u=l.filter(function(d){return d._cfg.version===o})[0];return u||(u=new this.Version(o),l.push(u),l.sort(nh),u.stores({}),this._state.autoSchema=!1,u)},ht.prototype._whenReady=function(o){var l=this;return this.idbdb&&(this._state.openComplete||ye.letThrough||this._vip)?o():new de(function(u,d){if(l._state.openComplete)return d(new q.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new q.DatabaseClosed);l.open().catch(Se)}l._state.dbReadyPromise.then(u,d)}).then(o)},ht.prototype.use=function(o){var l=o.stack,u=o.create,d=o.level,m=o.name;return m&&this.unuse({stack:l,name:m}),o=this._middlewares[l]||(this._middlewares[l]=[]),o.push({stack:l,create:u,level:d??10,name:m}),o.sort(function(y,v){return y.level-v.level}),this},ht.prototype.unuse=function(o){var l=o.stack,u=o.name,d=o.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(m){return d?m.create!==d:!!u&&m.name!==u})),this},ht.prototype.open=function(){var o=this;return lr(Yt,function(){return oh(o)})},ht.prototype._close=function(){var o=this._state,l=Pr.indexOf(this);if(0<=l&&Pr.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new de(function(u){o.dbReadyResolve=u}),o.openCanceller=new de(function(u,d){o.cancelOpen=d}))},ht.prototype.close=function(u){var l=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;l?(u.isBeingOpened&&u.cancelOpen(new q.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new q.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},ht.prototype.delete=function(o){var l=this;o===void 0&&(o={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new de(function(m,y){function v(){l.close(o);var S=l._deps.indexedDB.deleteDatabase(l.name);S.onsuccess=it(function(){var E,O,M;E=l._deps,O=l.name,M=E.indexedDB,E=E.IDBKeyRange,ko(M)||O===Zs||Io(M,E).delete(O).catch(Se),m()}),S.onerror=vn(y),S.onblocked=l._fireOnBlocked}if(u)throw new q.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(v):v()})},ht.prototype.backendDB=function(){return this.idbdb},ht.prototype.isOpen=function(){return this.idbdb!==null},ht.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},ht.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ht.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ht.prototype,"tables",{get:function(){var o=this;return a(this._allTables).map(function(l){return o._allTables[l]})},enumerable:!1,configurable:!0}),ht.prototype.transaction=function(){var o=(function(l,u,d){var m=arguments.length;if(m<2)throw new q.InvalidArgument("Too few arguments");for(var y=new Array(m-1);--m;)y[m-1]=arguments[m];return d=y.pop(),[l,ct(y),d]}).apply(this,arguments);return this._transaction.apply(this,o)},ht.prototype._transaction=function(o,l,u){var d=this,m=ye.trans;m&&m.db===this&&o.indexOf("!")===-1||(m=null);var y,v,S=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(v=l.map(function(O){if(O=O instanceof d.Table?O.name:O,typeof O!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return O}),o=="r"||o===wo)y=wo;else{if(o!="rw"&&o!=_o)throw new q.InvalidArgument("Invalid transaction mode: "+o);y=_o}if(m){if(m.mode===wo&&y===_o){if(!S)throw new q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&v.forEach(function(O){if(m&&m.storeNames.indexOf(O)===-1){if(!S)throw new q.SubTransaction("Table "+O+" not included in parent transaction.");m=null}}),S&&m&&!m.active&&(m=null)}}catch(O){return m?m._promise(null,function(M,C){C(O)}):dt(O)}var E=(function O(M,C,k,D,A){return de.resolve().then(function(){var I=ye.transless||ye,P=M._createTransaction(C,k,M._dbSchema,D);if(P.explicit=!0,I={trans:P,transless:I},D)P.idbtrans=D.idbtrans;else try{P.create(),P.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(B){return B.name===W.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return O(M,C,k,null,A)})):dt(B)}var $,L=Pt(A);return L&&Or(),I=de.follow(function(){var B;($=A.call(P,P))&&(L?(B=Un.bind(null,null),$.then(B,B)):typeof $.next=="function"&&typeof $.throw=="function"&&($=jo($)))},I),($&&typeof $.then=="function"?de.resolve($).then(function(B){return P.active?B:dt(new q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):I.then(function(){return $})).then(function(B){return D&&P._resolve(),P._completion.then(function(){return B})}).catch(function(B){return P._reject(B),dt(B)})})}).bind(null,this,y,v,m,u);return m?m._promise(y,E,"lock"):ye.trans?lr(ye.transless,function(){return d._whenReady(E)}):this._whenReady(E)},ht.prototype.table=function(o){if(!g(this._allTables,o))throw new q.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},ht);function ht(o,l){var u=this;this._middlewares={},this.verno=0;var d=ht.dependencies;this._options=l=r({addons:ht.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m,y,v,S,E,O={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Se,dbReadyPromise:null,cancelOpen:Se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};O.dbReadyPromise=new de(function(C){O.dbReadyResolve=C}),O.openCanceller=new de(function(C,k){O.cancelOpen=k}),this._state=O,this.name=o,this.on=ss(this,"populate","blocked","versionchange","close",{ready:[oe,Se]}),this.on.ready.subscribe=ee(this.on.ready.subscribe,function(C){return function(k,D){ht.vip(function(){var A,I=u._state;I.openComplete?(I.dbOpenError||de.resolve().then(k),D&&C(k)):I.onReadyBeingFired?(I.onReadyBeingFired.push(k),D&&C(k)):(C(k),A=u,D||C(function P(){A.on.ready.unsubscribe(k),A.on.ready.unsubscribe(P)}))})}}),this.Collection=(m=this,is(Xd.prototype,function($,P){this.db=m;var D=Dl,A=null;if(P)try{D=P()}catch(L){A=L}var I=$._ctx,P=I.table,$=P.hook.reading.fire;this._ctx={table:P,index:I.index,isPrimKey:!I.index||P.schema.primKey.keyPath&&I.index===P.schema.primKey.name,range:D,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:A,or:I.or,valueMapper:$!==_?$:null}})),this.Table=(y=this,is(Ml.prototype,function(C,k,D){this.db=y,this._tx=D,this.name=C,this.schema=k,this.hook=y._allTables[C]?y._allTables[C].hook:ss(null,{creating:[X,Se],reading:[x,_],updating:[Q,Se],deleting:[z,Se]})})),this.Transaction=(v=this,is(Jd.prototype,function(C,k,D,A,I){var P=this;this.db=v,this.mode=C,this.storeNames=k,this.schema=D,this.chromeTransactionDurability=A,this.idbtrans=null,this.on=ss(this,"complete","error","abort"),this.parent=I||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new de(function($,L){P._resolve=$,P._reject=L}),this._completion.then(function(){P.active=!1,P.on.complete.fire()},function($){var L=P.active;return P.active=!1,P.on.error.fire($),P.parent?P.parent._reject($):L&&P.idbtrans&&P.idbtrans.abort(),dt($)})})),this.Version=(S=this,is(ih.prototype,function(C){this.db=S,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(E=this,is($l.prototype,function(C,k,D){if(this.db=E,this._ctx={table:C,index:k===":id"?null:k,or:D},this._cmp=this._ascending=Fe,this._descending=function(A,I){return Fe(I,A)},this._max=function(A,I){return 0<Fe(A,I)?A:I},this._min=function(A,I){return Fe(A,I)<0?A:I},this._IDBKeyRange=E._deps.IDBKeyRange,!this._IDBKeyRange)throw new q.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=cs(l.IDBKeyRange),this._createTransaction=function(C,k,D,A){return new u.Transaction(C,k,D,u._options.chromeTransactionDurability,A)},this._fireOnBlocked=function(C){u.on("blocked").fire(C),Pr.filter(function(k){return k.name===u.name&&k!==u&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(C)})},this.use(ch),this.use(hh),this.use(uh),this.use(ah),this.use(lh);var M=new Proxy(this,{get:function(C,k,D){if(k==="_vip")return!0;if(k==="table")return function(I){return pi(u.table(I),M)};var A=Reflect.get(C,k,D);return A instanceof Ml?pi(A,M):k==="tables"?A.map(function(I){return pi(I,M)}):k==="_createTransaction"?function(){return pi(A.apply(this,arguments),M)}:A}});this.vip=M,d.forEach(function(C){return C(u)})}var mi,on=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ph=(Ko.prototype.subscribe=function(o,l,u){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:l,complete:u})},Ko.prototype[on]=function(){return this},Ko);function Ko(o){this._subscribe=o}try{mi={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{mi={indexedDB:null,IDBKeyRange:null}}function Ql(o){var l,u=!1,d=new ph(function(m){var y=Pt(o),v,S=!1,E={},O={},M={get closed(){return S},unsubscribe:function(){S||(S=!0,v&&v.abort(),C&&Kn.storagemutated.unsubscribe(D))}};m.start&&m.start(M);var C=!1,k=function(){return bo(A)},D=function(I){fi(E,I),$o(O,E)&&k()},A=function(){var I,P,$;!S&&mi.indexedDB&&(E={},I={},v&&v.abort(),v=new AbortController,$=function(L){var B=Tr();try{y&&Or();var H=jn(o,L);return H=y?H.finally(Un):H}finally{B&&Dr()}}(P={subscr:I,signal:v.signal,requery:k,querier:o,trans:null}),Promise.resolve($).then(function(L){u=!0,l=L,S||P.signal.aborted||(E={},function(B){for(var H in B)if(g(B,H))return;return 1}(O=I)||C||(Kn(ls,D),C=!0),bo(function(){return!S&&m.next&&m.next(L)}))},function(L){u=!1,["DatabaseClosedError","AbortError"].includes(L==null?void 0:L.name)||S||bo(function(){S||m.error&&m.error(L)})}))};return setTimeout(k,0),M});return d.hasValue=function(){return u},d.getValue=function(){return l},d}var dr=In;function Ho(o){var l=Hn;try{Hn=!0,Kn.storagemutated.fire(o),Fo(o,!0)}finally{Hn=l}}b(dr,r(r({},je),{delete:function(o){return new dr(o,{addons:[]}).delete()},exists:function(o){return new dr(o,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return l=dr.dependencies,u=l.indexedDB,l=l.IDBKeyRange,(ko(u)?Promise.resolve(u.databases()).then(function(d){return d.map(function(m){return m.name}).filter(function(m){return m!==Zs})}):Io(u,l).toCollection().primaryKeys()).then(o)}catch{return dt(new q.MissingAPI)}var l,u},defineClass:function(){return function(o){f(this,o)}},ignoreTransaction:function(o){return ye.trans?lr(ye.transless,o):o()},vip:Ro,async:function(o){return function(){try{var l=jo(o.apply(this,arguments));return l&&typeof l.then=="function"?l:de.resolve(l)}catch(u){return dt(u)}}},spawn:function(o,l,u){try{var d=jo(o.apply(u,l||[]));return d&&typeof d.then=="function"?d:de.resolve(d)}catch(m){return dt(m)}},currentTransaction:{get:function(){return ye.trans||null}},waitFor:function(o,l){return l=de.resolve(typeof o=="function"?dr.ignoreTransaction(o):o).timeout(l||6e4),ye.trans?ye.trans.waitFor(l):l},Promise:de,debug:{get:function(){return te},set:function(o){J(o)}},derive:F,extend:f,props:b,override:ee,Events:ss,on:Kn,liveQuery:Ql,extendObservabilitySet:fi,getByKeyPath:V,setByKeyPath:ue,delByKeyPath:function(o,l){typeof l=="string"?ue(o,l,void 0):"length"in l&&[].map.call(l,function(u){ue(o,u,void 0)})},shallowClone:Ie,deepClone:Ge,getObjectDiff:Uo,cmp:Fe,asap:be,minKey:-1/0,addons:[],connections:Pr,errnames:W,dependencies:mi,cache:fr,semVer:"4.0.10",version:"4.0.10".split(".").map(function(o){return parseInt(o)}).reduce(function(o,l,u){return o+l/Math.pow(10,2*u)})})),dr.maxKey=cs(dr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Kn(ls,function(o){Hn||(o=new CustomEvent(Eo,{detail:o}),Hn=!0,dispatchEvent(o),Hn=!1)}),addEventListener(Eo,function(o){o=o.detail,Hn||Ho(o)}));var Ir,Hn=!1,Jl=function(){};return typeof BroadcastChannel<"u"&&((Jl=function(){(Ir=new BroadcastChannel(Eo)).onmessage=function(o){return o.data&&Ho(o.data)}})(),typeof Ir.unref=="function"&&Ir.unref(),Kn(ls,function(o){Hn||Ir.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!In.disableBfCache&&o.persisted){te&&console.debug("Dexie: handling persisted pagehide"),Ir!=null&&Ir.close();for(var l=0,u=Pr;l<u.length;l++)u[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!In.disableBfCache&&o.persisted&&(te&&console.debug("Dexie: handling persisted pageshow"),Jl(),Ho({all:new $t(-1/0,[[]])}))})),de.rejectionMapper=function(o,l){return!o||o instanceof Rt||o instanceof TypeError||o instanceof SyntaxError||!o.name||!ve[o.name]?o:(l=new ve[o.name](l||o.message,o),"stack"in o&&R(l,"stack",{get:function(){return this.inner.stack}}),l)},J(te),r(In,Object.freeze({__proto__:null,Dexie:In,liveQuery:Ql,Entity:Ol,cmp:Fe,PropModSymbol:Mn,PropModification:os,replacePrefix:function(o,l){return new os({replacePrefix:[o,l]})},add:function(o){return new os({add:o})},remove:function(o){return new os({remove:o})},default:In,RangeSet:$t,mergeRanges:ds,rangesOverlap:Ul}),{default:In}),In})})(Ed);var Yv=Ed.exports;const ka=Wv(Yv),uu=Symbol.for("Dexie"),Ra=globalThis[uu]||(globalThis[uu]=ka);if(ka.semVer!==Ra.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ka.semVer} and ${Ra.semVer}`);const Xv="http://localhost:8080/usluga/all",Gv=3e5,ji=new Ra("CategoryDatabase");ji.version(1).stores({categories:"id, label, timestamp"});async function Qv(e){const t=Date.now();await ji.categories.clear();const n=e.map((r,s)=>({id:s+1,label:r,timestamp:t}));await ji.categories.bulkAdd(n)}async function fu(){return await ji.categories.toArray()}function Jv(e){return Date.now()-e>Gv}async function ml(){try{const e=await fu();if(e.length>0){const{timestamp:s}=e[0];if(!Jv(s))return e.map(i=>i.label)}const t=await Me.get(Xv),n=new Set(t.data.map(s=>s.category)),r=Array.from(n);return await Qv(r),r}catch(e){console.error("Ошибка при получении категорий:",e);try{const t=await fu();if(t.length>0)return console.warn("Возвращаются устаревшие категории из IndexedDB."),t.map(n=>n.label)}catch(t){console.error("Ошибка при получении категорий из IndexedDB:",t)}throw e}}const Zv={components:{UslugaModal:zv,FiltersSearch:fv,FiltersTypeMaster:wv,Usluga:Av},data(){return{filterOptions:[],services:[],searchQuery:"",isServiceModalVisible:!1,isLoginModalVisible:!1,selectedService:null,selectedSlot:null,stubUslugas:[{name:"Услуга 1",description:"Пример описания услуги."},{name:"Услуга 2",description:"Пример описания услуги."}]}},async mounted(){await this.loadCategories()},methods:{async loadCategories(){try{const e=await ml();this.filterOptions=e.map(t=>({label:t,selected:!1})),await this.loadServices()}catch(e){const t=["Категория 1","Категория 2","Категория 3","Категория 4"];this.filterOptions=t.map(n=>({label:n,selected:!1})),console.error("Ошибка при загрузке категорий:",e)}},loadServices:async function(){const e=this.filterOptions.filter(n=>n.selected).map(n=>n.label),t=this.$route.query.location||null;try{const n=await Ey({selectedCategories:e,searchQuery:this.searchQuery,location:t,minPrice:this.minPrice,maxPrice:this.maxPrice});this.services=n.length>0?n:this.stubUslugas}catch(n){console.error("Ошибка загрузки услуг:",n)}},toggleFilter(e){this.filterOptions[e].selected=!this.filterOptions[e].selected},applyFilters(){this.updateQueryParams()},updateSearchQuery(e){this.searchQuery=e,this.updateQueryParams()},updateQueryParams(){const e={...this.$route.query},t=this.filterOptions.filter(r=>r.selected).map(r=>r.label),n={...e,filters:t.length?t.join(","):void 0,search:this.searchQuery||void 0};Object.keys(n).forEach(r=>n[r]===void 0&&delete n[r]),this.$router.push({query:n}).then(()=>{this.loadServices()})},syncFiltersAndSearch(){const e=this.$route.query;if(this.searchQuery=e.search||"",e.filters){const t=e.filters.split(",");this.filterOptions.forEach(n=>{n.selected=t.includes(n.label)})}else this.filterOptions.forEach(t=>{t.selected=!1})},showLoginModal(){this.isLoginModalVisible=!0},closeLoginModal(){this.isLoginModalVisible=!1},showServiceDetails(e){this.selectedService=e,this.isServiceModalVisible=!0},closeServiceModal(){this.isServiceModalVisible=!1,this.selectedService=null,this.selectedSlot=null}},watch:{"$route.query":{handler(){this.syncFiltersAndSearch(),this.loadServices()},immediate:!0}}},e1={class:"search-container",id:"search-id"},t1={class:"search-header-container"};function n1(e,t,n,r,s,i){const a=Ue("filters-type-master"),c=Ue("filters-search"),f=Ue("usluga"),p=Ue("usluga-modal");return K(),Y("div",e1,[w("div",t1,[t[0]||(t[0]=w("h1",{class:"search-title"},"Поиск",-1)),Ae(a),Ae(c,{"filter-options":s.filterOptions,searchQuery:s.searchQuery,onToggleFilter:i.toggleFilter,onApplyFilters:i.applyFilters,onUpdateSearchQuery:i.updateSearchQuery},null,8,["filter-options","searchQuery","onToggleFilter","onApplyFilters","onUpdateSearchQuery"])]),w("div",{class:Er(["services-list",{"single-item":s.services.length<3}])},[(K(!0),Y(Ce,null,et(s.services,(h,g)=>(K(),On(f,{key:g,service:h,onShowLoginModal:i.showLoginModal,onShowServiceDetails:i.showServiceDetails},null,8,["service","onShowLoginModal","onShowServiceDetails"]))),128))],2),s.isServiceModalVisible?(K(),On(p,{key:0,onClose:i.closeServiceModal,"selected-service":s.selectedService,"is-service-modal-visible":s.isServiceModalVisible},null,8,["onClose","selected-service","is-service-modal-visible"])):lt("",!0)])}const r1=Ve(Zv,[["render",n1],["__scopeId","data-v-87f3d53e"]]),s1={props:{text:{type:String,required:!0},image:{type:String,required:!0}}},i1={class:"highlight"},o1=["alt"],a1={class:"highlight-text"};function l1(e,t,n,r,s,i){return K(),Y("div",i1,[w("img",{class:"highlight-image",src:zr,alt:n.text},null,8,o1),w("p",a1,$e(n.text),1)])}const c1=Ve(s1,[["render",l1],["__scopeId","data-v-06854060"]]),u1={props:{text:{type:String,required:!0},image:{type:String,required:!0}}},f1={class:"category"},d1=["alt"];function h1(e,t,n,r,s,i){return K(),Y("div",f1,[w("img",{class:"category-image",src:zr,alt:n.text},null,8,d1)])}const p1=Ve(u1,[["render",h1],["__scopeId","data-v-6b458bac"]]);function m1(){return[{text:"Советы",image:"@/assets/stub.svg"},{text:"Хиты",image:"@/assets/stub.svg"},{text:"Акции",image:"@/assets/stub.svg"},{text:"Новинки",image:"@/assets/stub.svg"},{text:"Советы",image:"@/assets/stub.svg"},{text:"Хиты",image:"@/assets/stub.svg"},{text:"Акции",image:"@/assets/stub.svg"}]}const g1={components:{Header:rs,Poster:sv,Search:r1,Highlight:c1,Category:p1},data(){return{highlights:m1(),categories:[],isAuthenticated:!0}},async mounted(){try{this.categories=await ml()}catch(e){console.error("Ошибка при загрузке категорий:",e),this.categories=["Категория 5","Категория 4","Категория 3","Категория 2"]}}},y1={class:"main-page-container"},v1={class:"highlights"},b1={class:"categories-container"},w1={class:"categories-list"},_1={class:"search-container"};function S1(e,t,n,r,s,i){const a=Ue("Header"),c=Ue("Poster"),f=Ue("Highlight"),p=Ue("Category"),h=Ue("search");return K(),Y(Ce,null,[Ae(a),w("main",y1,[Ae(c,{"is-authenticated":s.isAuthenticated},null,8,["is-authenticated"]),w("div",v1,[(K(!0),Y(Ce,null,et(s.highlights,(g,b)=>(K(),On(f,{key:b,text:g.text,image:g.image},null,8,["text","image"]))),128))]),w("div",b1,[t[0]||(t[0]=w("h1",{class:"categories-title"},"Категории",-1)),w("div",w1,[(K(!0),Y(Ce,null,et(s.categories.slice(0,4),(g,b)=>(K(),On(p,{key:b,text:g,image:""},null,8,["text"]))),128))])])]),w("div",_1,[Ae(h)])],64)}const x1=Ve(g1,[["render",S1],["__scopeId","data-v-a3abd153"]]);async function Td(e,t){try{const n=await Me.post("http://localhost:8080/login",{username:e,password:t});if(console.log(n),n.status===200&&n.headers.authorization){const r=n.headers.authorization;localStorage.setItem("token",r);const s=await Me.get(`http://localhost:8080/user/email/${e}`,{headers:{Authorization:r}});if(console.log(s),s.status===200&&s.data){const i=s.data.id;return localStorage.setItem("userID",i),console.log("Пользователь успешно авторизован и данные сохранены!"),{success:!0,token:r,userId:i}}else return console.error("Не удалось получить данные пользователя."),{success:!1,message:"Не удалось получить данные пользователя."}}else return{success:!1,message:"Ошибка авторизации. Проверьте логин и пароль."}}catch(n){return console.error("Ошибка при авторизации:",n),{success:!1,message:"Ошибка подключения к серверу. Попробуйте позже.",code:500}}}async function C1(e){try{if((await Me.post("http://localhost:8080/user",{name:e.name,email:e.email,telephone_number:e.tel,password:e.password,role:e.role})).status===201){const n=await Td(e.email,e.password);return n.success?(console.log("Пользователь успешно авторизован после регистрации!"),{success:!0,message:"Регистрация и авторизация успешны."}):(console.error("Не удалось авторизовать пользователя после регистрации."),{success:!1,message:n.message})}else return{success:!1,message:"Ошибка при регистрации пользователя. Пожалуйста, попробуйте позже."}}catch(t){return console.error("Ошибка при регистрации:",t),t.response.status===403?{success:!1,message:"Пользователь с такими данными уже зарегистрирован. "}:{success:!1,message:"Ошибка подключения к серверу. Попробуйте позже."}}}const E1="/ch/assets/vk-icon-BDP6e9rj.svg",T1="/ch/assets/apple-icon-CUllQ8Jj.svg",D1="/ch/assets/google-icon-9epIK5Ds.svg",O1=Qi({name:"RegistrationPage",data(){return{email:"",password:"",errorMessage:""}},setup(){return{router:Wf()}},created(){kt(localStorage.getItem("token"))?(localStorage.removeItem("token"),localStorage.removeItem("isAuthorized"),localStorage.removeItem("userID")):this.$router.push("/")},methods:{async handleSubmit(){const e=await Td(this.email,this.password);e.success?(localStorage.setItem("isAuthorized","true"),localStorage.setItem("userID",e.userId),this.$router.push("/")):e.code===500?(localStorage.setItem("isAuthorized","true"),localStorage.setItem("userID",0),this.$router.push("/")):this.errorMessage=e.message},socialLogin(e){console.log(`Вход через ${e}`)},clearErrorMessage(){this.errorMessage=""}}}),P1={class:"login_page"},A1={class:"container"},M1={class:"form-container"},I1={key:0,class:"error-message"},k1={class:"social-buttons"},R1={class:"register-label"};function N1(e,t,n,r,s,i){const a=Ue("router-link");return K(),Y("div",P1,[w("div",A1,[w("section",M1,[t[17]||(t[17]=w("h1",{class:"heading"},"Войти",-1)),e.errorMessage?(K(),Y("p",I1,$e(e.errorMessage),1)):lt("",!0),w("form",{onSubmit:t[4]||(t[4]=Mt((...c)=>e.handleSubmit&&e.handleSubmit(...c),["prevent"]))},[t[8]||(t[8]=w("label",{for:"email",class:"visually-hidden"},"Почта",-1)),mt(w("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=c=>e.email=c),onInput:t[1]||(t[1]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"email",class:"input email",placeholder:"Почта",required:""},null,544),[[Ft,e.email]]),t[9]||(t[9]=w("label",{for:"password",class:"visually-hidden"},"Пароль",-1)),mt(w("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=c=>e.password=c),onInput:t[3]||(t[3]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"password",class:"input password",placeholder:"Пароль",required:""},null,544),[[Ft,e.password]]),t[10]||(t[10]=w("a",{href:"#",class:"forgot-password"},"Забыли пароль?",-1)),t[11]||(t[11]=w("button",{type:"submit",class:"button login-button"},"Войти",-1))],32),t[18]||(t[18]=w("div",{class:"divider"},[w("span",{class:"divider-text"},"или")],-1)),w("div",k1,[w("button",{class:"button social-button vk-button",onClick:t[5]||(t[5]=c=>e.socialLogin("vk")),"aria-label":"Войти через ВКонтакте"},t[12]||(t[12]=[w("img",{class:"social-icon vk-icon",src:E1,alt:"ВКонтакте"},null,-1),rn(" ВКонтакте ")])),w("button",{class:"button social-button apple-button",onClick:t[6]||(t[6]=c=>e.socialLogin("apple")),"aria-label":"Войти через Apple ID"},t[13]||(t[13]=[w("img",{class:"social-icon apple-icon",src:T1,alt:"Apple ID"},null,-1),rn(" Apple ID ")])),w("button",{class:"button social-button google-button",onClick:t[7]||(t[7]=c=>e.socialLogin("google")),"aria-label":"Войти через Google"},t[14]||(t[14]=[w("img",{class:"social-icon google-icon",src:D1,alt:"Google"},null,-1),rn(" Google ")]))]),w("p",R1,[t[16]||(t[16]=w("span",{class:"grey-text"},"У вас нет аккаунта?",-1)),Ae(a,{to:"/registration",class:"black-text"},{default:Gi(()=>t[15]||(t[15]=[rn(" Зарегистрируйтесь")])),_:1})])])])])}const $1=Ve(O1,[["render",N1],["__scopeId","data-v-4c968746"]]),L1=Qi({name:"LoginPage",data(){return{user:{name:"",email:"",tel:"",role:"",password:""},errorMessage:""}},setup(){return{router:Wf()}},created(){kt(localStorage.getItem("token"))?(localStorage.removeItem("token"),localStorage.removeItem("userID")):this.$router.push("/")},methods:{async handleSubmit(){console.log(this.user);const e=await C1(this.user);e.success?this.$router.push("/"):this.errorMessage=e.message},clearErrorMessage(){this.errorMessage=""}}}),B1={class:"registration_page"},F1={class:"container"},j1={class:"form-container"},U1={key:0,class:"error-message"},q1={class:"register-label"};function V1(e,t,n,r,s,i){const a=Ue("router-link");return K(),Y("div",B1,[w("div",F1,[w("section",j1,[t[21]||(t[21]=w("h1",{class:"heading"},"Регистрация",-1)),e.errorMessage?(K(),Y("p",U1,$e(e.errorMessage),1)):lt("",!0),w("form",{onSubmit:t[10]||(t[10]=Mt((...c)=>e.handleSubmit&&e.handleSubmit(...c),["prevent"]))},[w("fieldset",null,[t[13]||(t[13]=w("legend",null,"Тип регистрации:",-1)),w("label",null,[mt(w("input",{type:"radio",name:"registration_type",value:"user","onUpdate:modelValue":t[0]||(t[0]=c=>e.user.role=c),required:""},null,512),[[xa,e.user.role]]),t[11]||(t[11]=rn(" Пользователь "))]),w("label",null,[mt(w("input",{type:"radio",name:"registration_type",value:"master","onUpdate:modelValue":t[1]||(t[1]=c=>e.user.role=c),required:""},null,512),[[xa,e.user.role]]),t[12]||(t[12]=rn(" Мастер "))])]),t[14]||(t[14]=w("label",{for:"name",class:"visually-hidden"},"Ваше имя",-1)),mt(w("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=c=>e.user.name=c),onInput:t[3]||(t[3]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"name",class:"input name",placeholder:"Имя",required:""},null,544),[[Ft,e.user.name]]),t[15]||(t[15]=w("label",{for:"tel",class:"visually-hidden"},"Номер телефона",-1)),mt(w("input",{type:"tel",id:"tel","onUpdate:modelValue":t[4]||(t[4]=c=>e.user.tel=c),onInput:t[5]||(t[5]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"tel",class:"input tel",placeholder:"Номер телефона",required:""},null,544),[[Ft,e.user.tel]]),t[16]||(t[16]=w("label",{for:"email",class:"visually-hidden"},"Почта",-1)),mt(w("input",{type:"email",id:"email","onUpdate:modelValue":t[6]||(t[6]=c=>e.user.email=c),onInput:t[7]||(t[7]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"email",class:"input email",placeholder:"Почта",required:""},null,544),[[Ft,e.user.email]]),t[17]||(t[17]=w("label",{for:"password",class:"visually-hidden"},"Пароль",-1)),mt(w("input",{type:"password",id:"password","onUpdate:modelValue":t[8]||(t[8]=c=>e.user.password=c),onInput:t[9]||(t[9]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"password",class:"input password",placeholder:"Пароль",required:""},null,544),[[Ft,e.user.password]]),t[18]||(t[18]=w("button",{type:"submit",class:"button login-button"},"Зарегистрироваться",-1))],32),w("p",q1,[t[20]||(t[20]=w("span",{class:"grey-text"},"У вас уже есть аккаунт?",-1)),Ae(a,{to:"/login",class:"black-text"},{default:Gi(()=>t[19]||(t[19]=[rn(" Войдите")])),_:1})])])])])}const K1=Ve(L1,[["render",V1],["__scopeId","data-v-31b7fcfd"]]),H1={props:{today:{type:Date,required:!0},selectedDate:{type:Date,required:!0}},data(){return{currentMonth:new Date().getMonth()+1,dates:this.generateDates(),highlightedDates:[]}},async mounted(){try{this.highlightedDates=await au()}catch(e){console.error("Ошибка при получении дат с записями:",e)}},async created(){try{const e=await By(localStorage.getItem("userID"));this.highlightedDates=await au(),console.log(this.highlightedDates)}catch(e){console.error("Ошибка при получении расписания за месяц:",e)}localStorage.getItem("userID")==="0"&&(this.highlightedDates=["2024-12-18","2024-12-19","2024-12-22","2024-12-23"])},methods:{generateDates(){const e=[],t=new Date;for(let n=-6;n<=6;n++){const r=new Date(t);r.setDate(t.getDate()+n),e.push(r)}return e},selectDate(e){const t=this.formatDateToISO(e);this.$emit("date-selected",t)},scrollLeft(){const e=new Date(this.dates[0]);e.setDate(e.getDate()-1),this.dates.unshift(e),this.dates.pop()},scrollRight(){const e=new Date(this.dates[this.dates.length-1]);e.setDate(e.getDate()+1),this.dates.push(e),this.dates.shift()},formatDateToISO(e){return e.toISOString().split("T")[0]},isHighlightedDate(e){const t=this.formatDateToISO(e);return this.highlightedDates.includes(t)}}},z1={class:"slider-wrapper"},W1={class:"slider-container"},Y1={class:"slider",ref:"slider"},X1=["onClick"],G1={class:"day-item"},Q1={class:"day"};function J1(e,t,n,r,s,i){return K(),Y("div",z1,[w("div",W1,[w("button",{onClick:t[0]||(t[0]=(...a)=>i.scrollLeft&&i.scrollLeft(...a)),class:"slider-btn"},"‹"),w("ul",Y1,[(K(!0),Y(Ce,null,et(s.dates,(a,c)=>(K(),Y("li",{key:c,class:Er(["slider-item",{active:this.selectedDate===this.formatDateToISO(a),highlighted:this.isHighlightedDate(a)}]),onClick:f=>i.selectDate(a)},[w("div",G1,[w("span",Q1,$e(a.getDate()),1)])],10,X1))),128))],512),w("button",{onClick:t[1]||(t[1]=(...a)=>i.scrollRight&&i.scrollRight(...a)),class:"slider-btn"},"›")])])}const Z1=Ve(H1,[["render",J1],["__scopeId","data-v-7fc7fdfb"]]),eb="/ch/assets/content-img-mkSvMJYK.svg",tb={props:{scheduleItems:{type:Array,required:!0}},data(){return{workingHours:Array.from({length:12},(e,t)=>t+8),stubPhoto:eb}},methods:{formatHour(e){return e<10?`0${e}:00`:`${e}:00`},formatTime(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},getItemStyle(e){const t=new Date(e.startTime),n=new Date(e.endTime),r=t.getHours()+t.getMinutes()/60,s=n.getHours()+n.getMinutes()/60,i=(r-8)*60,a=(s-r)*60;return{top:`${i}px`,height:`${a}px`}},updateImageHeight(){this.$nextTick(()=>{const e=this.$refs.timelineItems,t=this.$refs.itemImages;Array.isArray(e)&&Array.isArray(t)&&e.forEach((n,r)=>{const s=n.clientHeight;t[r]&&(t[r].style.height=`${s-20}px`)})})},cancelAnAppointment(e){Iv(e)?alert("Запись успешно отменена"):alert("Удаление записи на услугу невозможно.")}},mounted(){this.updateImageHeight()},watch:{scheduleItems:{handler(){this.updateImageHeight()},deep:!0,immediate:!0}}},nb={class:"timeline-container"},rb={class:"timeline"},sb={class:"hour-label"},ib={class:"item-content"},ob=["src"],ab={class:"item-details"},lb={class:"item-title"},cb={class:"item-time"},ub={class:"btn"},fb=["onClick"];function db(e,t,n,r,s,i){return K(),Y("div",nb,[w("div",rb,[(K(!0),Y(Ce,null,et(s.workingHours,a=>(K(),Y("div",{key:a,class:"timeline-hour"},[w("span",sb,$e(i.formatHour(a)),1)]))),128)),(K(!0),Y(Ce,null,et(n.scheduleItems,(a,c)=>(K(),Y("div",{key:c,class:"timeline-item",style:Xr(i.getItemStyle(a)),ref_for:!0,ref:"timelineItems"},[w("div",ib,[w("div",{class:"item-image",ref_for:!0,ref:"itemImages"},[w("img",{src:s.stubPhoto,alt:""},null,8,ob)],512),w("div",ab,[w("div",lb,$e(a.uslugaName),1),w("div",cb,$e(i.formatTime(a.startTime))+" - "+$e(i.formatTime(a.endTime)),1)]),w("div",ub,[t[0]||(t[0]=w("button",null,null,-1)),t[1]||(t[1]=w("button",null,null,-1)),w("button",{class:"btn-cancel",type:"button",onClick:f=>i.cancelAnAppointment(a.id)},"x",8,fb)])])],4))),128))])])}const hb=Ve(tb,[["render",db],["__scopeId","data-v-0219e32a"]]),pb={components:{CalendarSlider:Z1,CalendarTimeline:hb},data(){return{today:new Date,selectedDate:new Date,scheduleItems:[],userID:null}},async created(){this.userID=localStorage.getItem("userID"),await this.fetchScheduleItems()},methods:{async fetchScheduleItems(){this.selectedDate=this.formatDateToYYYYMMDD(this.selectedDate),localStorage.getItem("userID")==="0"?["2024-12-18","2024-12-19","2024-12-22","2024-12-23"].includes(this.selectedDate)?this.scheduleItems=[{uslugaName:"услуга 1",startTime:"2024-12-23T10:37:00",endTime:"2024-12-23T09:07:00.000Z"},{uslugaName:"услуга 2",startTime:"2024-12-23T12:38:00",endTime:"2024-12-23T11:08:00.000Z"}]:this.scheduleItems=[]:this.scheduleItems=await xd(this.userID,this.selectedDate)},async onDateSelected(e){this.selectedDate=this.formatDateToYYYYMMDD(e),await this.fetchScheduleItems()},formatDateToYYYYMMDD(e){const t=new Date(e);if(isNaN(t.getTime()))return console.error("Некорректный формат даты:",e),null;const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${s}`}}},mb={class:"schedule"};function gb(e,t,n,r,s,i){const a=Ue("calendar-slider"),c=Ue("calendar-timeline");return K(),Y("div",mb,[t[0]||(t[0]=w("h1",{class:"tittle"},"Мои записи",-1)),Ae(a,{class:"calendar","selected-date":s.selectedDate,today:s.today,onDateSelected:i.onDateSelected},null,8,["selected-date","today","onDateSelected"]),Ae(c,{class:"timeline","schedule-items":s.scheduleItems},null,8,["schedule-items"])])}const yb=Ve(pb,[["render",gb],["__scopeId","data-v-6e83436d"]]),vb={data(){return{userID:null,userName:"",profilePhoto:null}},async created(){if(this.isAuthorized=localStorage.getItem("isAuthorized")==="true",this.isAuthorized=!0,this.isAuthorized)if(this.userID=localStorage.getItem("userID"),this.userID){try{const e=await hl(this.userID);console.log(e),e?this.profilePhoto=e:this.profilePhoto=Jn}catch(e){console.error("Ошибка при загрузке фотографии профиля:",e),this.profilePhoto=Jn}try{const e=await uo(this.userID);e&&(this.userName=e.name)}catch(e){console.error(e)}}else console.log("Не авторизован");else console.log("Не авторизован")}},bb={class:"profile-container"},wb=["src"],_b={class:"profile-name"};function Sb(e,t,n,r,s,i){return K(),Y("div",bb,[w("img",{src:s.profilePhoto,alt:"Аватар пользователя",class:"profile-picture"},null,8,wb),w("div",_b,$e(s.userName),1)])}const xb=Ve(vb,[["render",Sb],["__scopeId","data-v-46b1d0e1"]]),Cb={components:{ScheduleProfile:xb,Schedule:yb,Header:rs},data(){return{userID:null,isAuthenticated:!1}},async created(){if(this.userID=localStorage.getItem("userID"),this.isAuthorized="true",!this.isAuthorized)this.$router.push("/login");else try{await uo(this.userID)||localStorage.getItem("userID")==="0"&&(this.user={id:1,name:"Ирина Рыбокова",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"услуга 1 описание",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 2",description:"услуга 2 описание",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]})}catch{localStorage.getItem("userID")==="0"&&(this.user={id:1,name:"Ирина Рыбокова",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"услуга 1 описание",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 2",description:"услуга 2 описание",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]})}}},Eb={class:"profile-page"},Tb={class:"profile-content"};function Db(e,t,n,r,s,i){const a=Ue("Header"),c=Ue("Schedule"),f=Ue("ScheduleProfile");return K(),Y("div",Eb,[Ae(a),w("div",Tb,[Ae(c,{class:"schedule"}),Ae(f,{class:"profile"})])])}const Ob=Ve(Cb,[["render",Db],["__scopeId","data-v-2d45820c"]]);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?du(Object(n),!0).forEach(function(r){Ib(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pb(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Od(e){var t=Pb(e,"string");return typeof t=="symbol"?t:t+""}function Na(e){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function Ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Od(r.key),r)}}function Mb(e,t,n){return t&&hu(e.prototype,t),n&&hu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ib(e,t,n){return t=Od(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pd(e){return kb(e)||Rb(e)||Nb(e)||$b()}function kb(e){if(Array.isArray(e))return $a(e)}function Rb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nb(e,t){if(e){if(typeof e=="string")return $a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $a(e,t)}}function $a(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fo=typeof window<"u"&&typeof window.document<"u",Pn=fo?window:{},gl=fo&&Pn.document.documentElement?"ontouchstart"in Pn.document.documentElement:!1,yl=fo?"PointerEvent"in Pn:!1,ot="cropper",vl="all",Ad="crop",Md="move",Id="zoom",gr="e",yr="w",Rr="s",Wn="n",ys="ne",vs="nw",bs="se",ws="sw",La="".concat(ot,"-crop"),pu="".concat(ot,"-disabled"),Gt="".concat(ot,"-hidden"),mu="".concat(ot,"-hide"),Lb="".concat(ot,"-invisible"),Ui="".concat(ot,"-modal"),Ba="".concat(ot,"-move"),Us="".concat(ot,"Action"),wi="".concat(ot,"Preview"),bl="crop",kd="move",Rd="none",Fa="crop",ja="cropend",Ua="cropmove",qa="cropstart",gu="dblclick",Bb=gl?"touchstart":"mousedown",Fb=gl?"touchmove":"mousemove",jb=gl?"touchend touchcancel":"mouseup",yu=yl?"pointerdown":Bb,vu=yl?"pointermove":Fb,bu=yl?"pointerup pointercancel":jb,wu="ready",_u="resize",Su="wheel",Va="zoom",xu="image/jpeg",Ub=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,qb=/^data:/,Vb=/^data:image\/jpeg;base64,/,Kb=/^img|canvas$/i,Nd=200,$d=100,Cu={viewMode:0,dragMode:bl,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Nd,minContainerHeight:$d,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Hb='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',zb=Number.isNaN||Pn.isNaN;function Le(e){return typeof e=="number"&&!zb(e)}var Eu=function(t){return t>0&&t<1/0};function ua(e){return typeof e>"u"}function Cr(e){return Na(e)==="object"&&e!==null}var Wb=Object.prototype.hasOwnProperty;function Lr(e){if(!Cr(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&Wb.call(n,"isPrototypeOf")}catch{return!1}}function Xt(e){return typeof e=="function"}var Yb=Array.prototype.slice;function Ld(e){return Array.from?Array.from(e):Yb.call(e)}function gt(e,t){return e&&Xt(t)&&(Array.isArray(e)||Le(e.length)?Ld(e).forEach(function(n,r){t.call(e,n,r,e)}):Cr(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var at=Object.assign||function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Cr(t)&&r.length>0&&r.forEach(function(i){Cr(i)&&Object.keys(i).forEach(function(a){t[a]=i[a]})}),t},Xb=/\.\d*(?:0|9){12}\d*$/;function Wr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Xb.test(e)?Math.round(e*t)/t:e}var Gb=/^width|height|left|top|marginLeft|marginTop$/;function Zn(e,t){var n=e.style;gt(t,function(r,s){Gb.test(s)&&Le(r)&&(r="".concat(r,"px")),n[s]=r})}function Qb(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Dt(e,t){if(t){if(Le(e.length)){gt(e,function(r){Dt(r,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Tn(e,t){if(t){if(Le(e.length)){gt(e,function(n){Tn(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Br(e,t,n){if(t){if(Le(e.length)){gt(e,function(r){Br(r,t,n)});return}n?Dt(e,t):Tn(e,t)}}var Jb=/([a-z\d])([A-Z])/g;function wl(e){return e.replace(Jb,"$1-$2").toLowerCase()}function Ka(e,t){return Cr(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(wl(t)))}function qs(e,t,n){Cr(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(wl(t)),n)}function Zb(e,t){if(Cr(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(wl(t)))}var Bd=/\s\s*/,Fd=function(){var e=!1;if(fo){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(i){t=i}});Pn.addEventListener("test",n,r),Pn.removeEventListener("test",n,r)}return e}();function dn(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;t.trim().split(Bd).forEach(function(i){if(!Fd){var a=e.listeners;a&&a[i]&&a[i][n]&&(s=a[i][n],delete a[i][n],Object.keys(a[i]).length===0&&delete a[i],Object.keys(a).length===0&&delete e.listeners)}e.removeEventListener(i,s,r)})}function an(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;t.trim().split(Bd).forEach(function(i){if(r.once&&!Fd){var a=e.listeners,c=a===void 0?{}:a;s=function(){delete c[i][n],e.removeEventListener(i,s,r);for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];n.apply(e,h)},c[i]||(c[i]={}),c[i][n]&&e.removeEventListener(i,c[i][n],r),c[i][n]=s,e.listeners=c}e.addEventListener(i,s,r)})}function Yr(e,t,n){var r;return Xt(Event)&&Xt(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function jd(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var fa=Pn.location,e2=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Tu(e){var t=e.match(e2);return t!==null&&(t[1]!==fa.protocol||t[2]!==fa.hostname||t[3]!==fa.port)}function Du(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function As(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,s=e.translateX,i=e.translateY,a=[];Le(s)&&s!==0&&a.push("translateX(".concat(s,"px)")),Le(i)&&i!==0&&a.push("translateY(".concat(i,"px)")),Le(t)&&t!==0&&a.push("rotate(".concat(t,"deg)")),Le(n)&&n!==1&&a.push("scaleX(".concat(n,")")),Le(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var c=a.length?a.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function t2(e){var t=Dd({},e),n=0;return gt(e,function(r,s){delete t[s],gt(t,function(i){var a=Math.abs(r.startX-i.startX),c=Math.abs(r.startY-i.startY),f=Math.abs(r.endX-i.endX),p=Math.abs(r.endY-i.endY),h=Math.sqrt(a*a+c*c),g=Math.sqrt(f*f+p*p),b=(g-h)/h;Math.abs(b)>Math.abs(n)&&(n=b)})}),n}function _i(e,t){var n=e.pageX,r=e.pageY,s={endX:n,endY:r};return t?s:Dd({startX:n,startY:r},s)}function n2(e){var t=0,n=0,r=0;return gt(e,function(s){var i=s.startX,a=s.startY;t+=i,n+=a,r+=1}),t/=r,n/=r,{pageX:t,pageY:n}}function er(e){var t=e.aspectRatio,n=e.height,r=e.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=Eu(r),a=Eu(n);if(i&&a){var c=n*t;s==="contain"&&c>r||s==="cover"&&c<r?n=r/t:r=n*t}else i?n=r/t:a&&(r=n*t);return{width:r,height:n}}function r2(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:t};var s=r%90*Math.PI/180,i=Math.sin(s),a=Math.cos(s),c=t*a+n*i,f=t*i+n*a;return r>90?{width:f,height:c}:{width:c,height:f}}function s2(e,t,n,r){var s=t.aspectRatio,i=t.naturalWidth,a=t.naturalHeight,c=t.rotate,f=c===void 0?0:c,p=t.scaleX,h=p===void 0?1:p,g=t.scaleY,b=g===void 0?1:g,T=n.aspectRatio,R=n.naturalWidth,F=n.naturalHeight,U=r.fillColor,Z=U===void 0?"transparent":U,G=r.imageSmoothingEnabled,ee=G===void 0?!0:G,ie=r.imageSmoothingQuality,be=ie===void 0?"low":ie,V=r.maxWidth,ue=V===void 0?1/0:V,Ie=r.maxHeight,Je=Ie===void 0?1/0:Ie,ct=r.minWidth,vt=ct===void 0?0:ct,ut=r.minHeight,Ge=ut===void 0?0:ut,St=document.createElement("canvas"),nt=St.getContext("2d"),ze=er({aspectRatio:T,width:ue,height:Je}),Be=er({aspectRatio:T,width:vt,height:Ge},"cover"),De=Math.min(ze.width,Math.max(Be.width,R)),pt=Math.min(ze.height,Math.max(Be.height,F)),ft=er({aspectRatio:s,width:ue,height:Je}),Pt=er({aspectRatio:s,width:vt,height:Ge},"cover"),bt=Math.min(ft.width,Math.max(Pt.width,i)),Rt=Math.min(ft.height,Math.max(Pt.height,a)),un=[-bt/2,-Rt/2,bt,Rt];return St.width=Wr(De),St.height=Wr(pt),nt.fillStyle=Z,nt.fillRect(0,0,De,pt),nt.save(),nt.translate(De/2,pt/2),nt.rotate(f*Math.PI/180),nt.scale(h,b),nt.imageSmoothingEnabled=ee,nt.imageSmoothingQuality=be,nt.drawImage.apply(nt,[e].concat(Pd(un.map(function(fn){return Math.floor(Wr(fn))})))),nt.restore(),St}var Ud=String.fromCharCode;function i2(e,t,n){var r="";n+=t;for(var s=t;s<n;s+=1)r+=Ud(e.getUint8(s));return r}var o2=/^data:.*,/;function a2(e){var t=e.replace(o2,""),n=atob(t),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return gt(s,function(i,a){s[a]=n.charCodeAt(a)}),r}function l2(e,t){for(var n=[],r=8192,s=new Uint8Array(e);s.length>0;)n.push(Ud.apply(null,Ld(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function c2(e){var t=new DataView(e),n;try{var r,s,i;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var a=t.byteLength,c=2;c+1<a;){if(t.getUint8(c)===255&&t.getUint8(c+1)===225){s=c;break}c+=1}if(s){var f=s+4,p=s+10;if(i2(t,f,4)==="Exif"){var h=t.getUint16(p);if(r=h===18761,(r||h===19789)&&t.getUint16(p+2,r)===42){var g=t.getUint32(p+4,r);g>=8&&(i=p+g)}}}if(i){var b=t.getUint16(i,r),T,R;for(R=0;R<b;R+=1)if(T=i+R*12+2,t.getUint16(T,r)===274){T+=8,n=t.getUint16(T,r),t.setUint16(T,1,r);break}}}catch{n=1}return n}function u2(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var f2={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),a=Number(n.minContainerHeight);Dt(s,Gt),Tn(t,Gt);var c={width:Math.max(r.offsetWidth,i>=0?i:Nd),height:Math.max(r.offsetHeight,a>=0?a:$d)};this.containerData=c,Zn(s,{width:c.width,height:c.height}),Dt(t,Gt),Tn(s,Gt)},initCanvas:function(){var t=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,a=s?n.naturalWidth:n.naturalHeight,c=i/a,f=t.width,p=t.height;t.height*c>t.width?r===3?f=t.height*c:p=t.width/c:r===3?p=t.width/c:f=t.height*c;var h={aspectRatio:c,naturalWidth:i,naturalHeight:a,width:f,height:p};this.canvasData=h,this.limited=r===1||r===2,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(t.width-h.width)/2,h.top=(t.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=at({},h)},limitCanvas:function(t,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,c=r.viewMode,f=i.aspectRatio,p=this.cropped&&a;if(t){var h=Number(r.minCanvasWidth)||0,g=Number(r.minCanvasHeight)||0;c>1?(h=Math.max(h,s.width),g=Math.max(g,s.height),c===3&&(g*f>h?h=g*f:g=h/f)):c>0&&(h?h=Math.max(h,p?a.width:0):g?g=Math.max(g,p?a.height:0):p&&(h=a.width,g=a.height,g*f>h?h=g*f:g=h/f));var b=er({aspectRatio:f,width:h,height:g});h=b.width,g=b.height,i.minWidth=h,i.minHeight=g,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(c>(p?0:1)){var T=s.width-i.width,R=s.height-i.height;i.minLeft=Math.min(0,T),i.minTop=Math.min(0,R),i.maxLeft=Math.max(0,T),i.maxTop=Math.max(0,R),p&&this.limited&&(i.minLeft=Math.min(a.left,a.left+(a.width-i.width)),i.minTop=Math.min(a.top,a.top+(a.height-i.height)),i.maxLeft=a.left,i.maxTop=a.top,c===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,T),i.maxLeft=Math.max(0,T)),i.height>=s.height&&(i.minTop=Math.min(0,R),i.maxTop=Math.max(0,R))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(t,n){var r=this.canvasData,s=this.imageData;if(n){var i=r2({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),a=i.width,c=i.height,f=r.width*(a/r.naturalWidth),p=r.height*(c/r.naturalHeight);r.left-=(f-r.width)/2,r.top-=(p-r.height)/2,r.width=f,r.height=p,r.aspectRatio=a/c,r.naturalWidth=a,r.naturalHeight=c,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Zn(this.canvas,at({width:r.width,height:r.height},As({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);at(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),Zn(this.image,at({width:r.width,height:r.height},As(at({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,s=Number(t.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=at({},i)},limitCropBox:function(t,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,c=this.limited,f=r.aspectRatio;if(t){var p=Number(r.minCropBoxWidth)||0,h=Number(r.minCropBoxHeight)||0,g=c?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,b=c?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;p=Math.min(p,s.width),h=Math.min(h,s.height),f&&(p&&h?h*f>p?h=p/f:p=h*f:p?h=p/f:h&&(p=h*f),b*f>g?b=g/f:g=b*f),a.minWidth=Math.min(p,g),a.minHeight=Math.min(h,b),a.maxWidth=g,a.maxHeight=b}n&&(c?(a.minLeft=Math.max(0,i.left),a.minTop=Math.max(0,i.top),a.maxLeft=Math.min(s.width,i.left+i.width)-a.width,a.maxTop=Math.min(s.height,i.top+i.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=s.width-a.width,a.maxTop=s.height-a.height))},renderCropBox:function(){var t=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&qs(this.face,Us,r.width>=n.width&&r.height>=n.height?Md:vl),Zn(this.cropBox,at({width:r.width,height:r.height},As({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Yr(this.element,Fa,this.getData())}},d2={initPreview:function(){var t=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=t.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=s,a.alt=i,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var c=r;typeof r=="string"?c=t.ownerDocument.querySelectorAll(r):r.querySelector&&(c=[r]),this.previews=c,gt(c,function(f){var p=document.createElement("img");qs(f,wi,{width:f.offsetWidth,height:f.offsetHeight,html:f.innerHTML}),n&&(p.crossOrigin=n),p.src=s,p.alt=i,p.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',f.innerHTML="",f.appendChild(p)})}},resetPreview:function(){gt(this.previews,function(t){var n=Ka(t,wi);Zn(t,{width:n.width,height:n.height}),t.innerHTML=n.html,Zb(t,wi)})},preview:function(){var t=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,a=t.width,c=t.height,f=r.left-n.left-t.left,p=r.top-n.top-t.top;!this.cropped||this.disabled||(Zn(this.viewBoxImage,at({width:a,height:c},As(at({translateX:-f,translateY:-p},t)))),gt(this.previews,function(h){var g=Ka(h,wi),b=g.width,T=g.height,R=b,F=T,U=1;s&&(U=b/s,F=i*U),i&&F>T&&(U=T/i,R=s*U,F=T),Zn(h,{width:R,height:F}),Zn(h.getElementsByTagName("img")[0],at({width:a*U,height:c*U},As(at({translateX:-f*U,translateY:-p*U},t))))}))}},h2={bind:function(){var t=this.element,n=this.options,r=this.cropper;Xt(n.cropstart)&&an(t,qa,n.cropstart),Xt(n.cropmove)&&an(t,Ua,n.cropmove),Xt(n.cropend)&&an(t,ja,n.cropend),Xt(n.crop)&&an(t,Fa,n.crop),Xt(n.zoom)&&an(t,Va,n.zoom),an(r,yu,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&an(r,Su,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&an(r,gu,this.onDblclick=this.dblclick.bind(this)),an(t.ownerDocument,vu,this.onCropMove=this.cropMove.bind(this)),an(t.ownerDocument,bu,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&an(window,_u,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,r=this.cropper;Xt(n.cropstart)&&dn(t,qa,n.cropstart),Xt(n.cropmove)&&dn(t,Ua,n.cropmove),Xt(n.cropend)&&dn(t,ja,n.cropend),Xt(n.crop)&&dn(t,Fa,n.crop),Xt(n.zoom)&&dn(t,Va,n.zoom),dn(r,yu,this.onCropStart),n.zoomable&&n.zoomOnWheel&&dn(r,Su,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&dn(r,gu,this.onDblclick),dn(t.ownerDocument,vu,this.onCropMove),dn(t.ownerDocument,bu,this.onCropEnd),n.responsive&&dn(window,_u,this.onResize)}},p2={resize:function(){if(!this.disabled){var t=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,a=Math.abs(s-1)>Math.abs(i-1)?s:i;if(a!==1){var c,f;t.restore&&(c=this.getCanvasData(),f=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(gt(c,function(p,h){c[h]=p*a})),this.setCropBoxData(gt(f,function(p,h){f[h]=p*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===Rd||this.setDragMode(Qb(this.dragBox,La)?kd:bl)},wheel:function(t){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?s=t.deltaY>0?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=t.detail>0?1:-1),this.zoom(-s*r,t)))},cropStart:function(t){var n=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(Le(n)&&n!==1||Le(r)&&r!==0||t.ctrlKey))){var s=this.options,i=this.pointers,a;t.changedTouches?gt(t.changedTouches,function(c){i[c.identifier]=_i(c)}):i[t.pointerId||0]=_i(t),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?a=Id:a=Ka(t.target,Us),Ub.test(a)&&Yr(this.element,qa,{originalEvent:t,action:a})!==!1&&(t.preventDefault(),this.action=a,this.cropping=!1,a===Ad&&(this.cropping=!0,Dt(this.dragBox,Ui)))}},cropMove:function(t){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;t.preventDefault(),Yr(this.element,Ua,{originalEvent:t,action:n})!==!1&&(t.changedTouches?gt(t.changedTouches,function(s){at(r[s.identifier]||{},_i(s,!0))}):at(r[t.pointerId||0]||{},_i(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,r=this.pointers;t.changedTouches?gt(t.changedTouches,function(s){delete r[s.identifier]}):delete r[t.pointerId||0],n&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Br(this.dragBox,Ui,this.cropped&&this.options.modal)),Yr(this.element,ja,{originalEvent:t,action:n}))}}},m2={change:function(t){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,a=this.pointers,c=this.action,f=n.aspectRatio,p=i.left,h=i.top,g=i.width,b=i.height,T=p+g,R=h+b,F=0,U=0,Z=s.width,G=s.height,ee=!0,ie;!f&&t.shiftKey&&(f=g&&b?g/b:1),this.limited&&(F=i.minLeft,U=i.minTop,Z=F+Math.min(s.width,r.width,r.left+r.width),G=U+Math.min(s.height,r.height,r.top+r.height));var be=a[Object.keys(a)[0]],V={x:be.endX-be.startX,y:be.endY-be.startY},ue=function(Je){switch(Je){case gr:T+V.x>Z&&(V.x=Z-T);break;case yr:p+V.x<F&&(V.x=F-p);break;case Wn:h+V.y<U&&(V.y=U-h);break;case Rr:R+V.y>G&&(V.y=G-R);break}};switch(c){case vl:p+=V.x,h+=V.y;break;case gr:if(V.x>=0&&(T>=Z||f&&(h<=U||R>=G))){ee=!1;break}ue(gr),g+=V.x,g<0&&(c=yr,g=-g,p-=g),f&&(b=g/f,h+=(i.height-b)/2);break;case Wn:if(V.y<=0&&(h<=U||f&&(p<=F||T>=Z))){ee=!1;break}ue(Wn),b-=V.y,h+=V.y,b<0&&(c=Rr,b=-b,h-=b),f&&(g=b*f,p+=(i.width-g)/2);break;case yr:if(V.x<=0&&(p<=F||f&&(h<=U||R>=G))){ee=!1;break}ue(yr),g-=V.x,p+=V.x,g<0&&(c=gr,g=-g,p-=g),f&&(b=g/f,h+=(i.height-b)/2);break;case Rr:if(V.y>=0&&(R>=G||f&&(p<=F||T>=Z))){ee=!1;break}ue(Rr),b+=V.y,b<0&&(c=Wn,b=-b,h-=b),f&&(g=b*f,p+=(i.width-g)/2);break;case ys:if(f){if(V.y<=0&&(h<=U||T>=Z)){ee=!1;break}ue(Wn),b-=V.y,h+=V.y,g=b*f}else ue(Wn),ue(gr),V.x>=0?T<Z?g+=V.x:V.y<=0&&h<=U&&(ee=!1):g+=V.x,V.y<=0?h>U&&(b-=V.y,h+=V.y):(b-=V.y,h+=V.y);g<0&&b<0?(c=ws,b=-b,g=-g,h-=b,p-=g):g<0?(c=vs,g=-g,p-=g):b<0&&(c=bs,b=-b,h-=b);break;case vs:if(f){if(V.y<=0&&(h<=U||p<=F)){ee=!1;break}ue(Wn),b-=V.y,h+=V.y,g=b*f,p+=i.width-g}else ue(Wn),ue(yr),V.x<=0?p>F?(g-=V.x,p+=V.x):V.y<=0&&h<=U&&(ee=!1):(g-=V.x,p+=V.x),V.y<=0?h>U&&(b-=V.y,h+=V.y):(b-=V.y,h+=V.y);g<0&&b<0?(c=bs,b=-b,g=-g,h-=b,p-=g):g<0?(c=ys,g=-g,p-=g):b<0&&(c=ws,b=-b,h-=b);break;case ws:if(f){if(V.x<=0&&(p<=F||R>=G)){ee=!1;break}ue(yr),g-=V.x,p+=V.x,b=g/f}else ue(Rr),ue(yr),V.x<=0?p>F?(g-=V.x,p+=V.x):V.y>=0&&R>=G&&(ee=!1):(g-=V.x,p+=V.x),V.y>=0?R<G&&(b+=V.y):b+=V.y;g<0&&b<0?(c=ys,b=-b,g=-g,h-=b,p-=g):g<0?(c=bs,g=-g,p-=g):b<0&&(c=vs,b=-b,h-=b);break;case bs:if(f){if(V.x>=0&&(T>=Z||R>=G)){ee=!1;break}ue(gr),g+=V.x,b=g/f}else ue(Rr),ue(gr),V.x>=0?T<Z?g+=V.x:V.y>=0&&R>=G&&(ee=!1):g+=V.x,V.y>=0?R<G&&(b+=V.y):b+=V.y;g<0&&b<0?(c=vs,b=-b,g=-g,h-=b,p-=g):g<0?(c=ws,g=-g,p-=g):b<0&&(c=ys,b=-b,h-=b);break;case Md:this.move(V.x,V.y),ee=!1;break;case Id:this.zoom(t2(a),t),ee=!1;break;case Ad:if(!V.x||!V.y){ee=!1;break}ie=jd(this.cropper),p=be.startX-ie.left,h=be.startY-ie.top,g=i.minWidth,b=i.minHeight,V.x>0?c=V.y>0?bs:ys:V.x<0&&(p-=g,c=V.y>0?ws:vs),V.y<0&&(h-=b),this.cropped||(Tn(this.cropBox,Gt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}ee&&(i.width=g,i.height=b,i.left=p,i.top=h,this.action=c,this.renderCropBox()),gt(a,function(Ie){Ie.startX=Ie.endX,Ie.startY=Ie.endY})}},g2={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Dt(this.dragBox,Ui),Tn(this.cropBox,Gt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=at({},this.initialImageData),this.canvasData=at({},this.initialCanvasData),this.cropBoxData=at({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(at(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Tn(this.dragBox,Ui),Dt(this.cropBox,Gt)),this},replace:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,gt(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Tn(this.cropper,pu)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Dt(this.cropper,pu)),this},destroy:function(){var t=this.element;return t[ot]?(t[ot]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(ua(t)?t:s+Number(t),ua(n)?n:i+Number(n))},moveTo:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,s=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(Le(t)&&(r.left=t,s=!0),Le(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(t,n){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,n)},zoomTo:function(t,n,r){var s=this.options,i=this.canvasData,a=i.width,c=i.height,f=i.naturalWidth,p=i.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&s.zoomable){var h=f*t,g=p*t;if(Yr(this.element,Va,{ratio:t,oldRatio:a/f,originalEvent:r})===!1)return this;if(r){var b=this.pointers,T=jd(this.cropper),R=b&&Object.keys(b).length?n2(b):{pageX:r.pageX,pageY:r.pageY};i.left-=(h-a)*((R.pageX-T.left-i.left)/a),i.top-=(g-c)*((R.pageY-T.top-i.top)/c)}else Lr(n)&&Le(n.x)&&Le(n.y)?(i.left-=(h-a)*((n.x-i.left)/a),i.top-=(g-c)*((n.y-i.top)/c)):(i.left-=(h-a)/2,i.top-=(g-c)/2);i.width=h,i.height=g,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),Le(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,Le(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(Le(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,s=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(Le(t)&&(r.scaleX=t,s=!0),Le(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var c=r.width/r.naturalWidth;if(gt(a,function(h,g){a[g]=h/c}),t){var f=Math.round(a.y+a.height),p=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=p-a.x,a.height=f-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(t){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&Lr(t)){var a=!1;n.rotatable&&Le(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,a=!0),n.scalable&&(Le(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,a=!0),Le(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var c=r.width/r.naturalWidth;Le(t.x)&&(i.left=t.x*c+s.left),Le(t.y)&&(i.top=t.y*c+s.top),Le(t.width)&&(i.width=t.width*c),Le(t.height)&&(i.height=t.height*c),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?at({},this.containerData):{}},getImageData:function(){return this.sized?at({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&gt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=t[r]}),n},setCanvasData:function(t){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Lr(t)&&(Le(t.left)&&(n.left=t.left),Le(t.top)&&(n.top=t.top),Le(t.width)?(n.width=t.width,n.height=t.width/r):Le(t.height)&&(n.height=t.height,n.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(t){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&Lr(t)&&(Le(t.left)&&(n.left=t.left),Le(t.top)&&(n.top=t.top),Le(t.width)&&t.width!==n.width&&(s=!0,n.width=t.width),Le(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=s2(this.image,this.imageData,n,t);if(!this.cropped)return r;var s=this.getData(t.rounded),i=s.x,a=s.y,c=s.width,f=s.height,p=r.width/Math.floor(n.naturalWidth);p!==1&&(i*=p,a*=p,c*=p,f*=p);var h=c/f,g=er({aspectRatio:h,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),b=er({aspectRatio:h,width:t.minWidth||0,height:t.minHeight||0},"cover"),T=er({aspectRatio:h,width:t.width||(p!==1?r.width:c),height:t.height||(p!==1?r.height:f)}),R=T.width,F=T.height;R=Math.min(g.width,Math.max(b.width,R)),F=Math.min(g.height,Math.max(b.height,F));var U=document.createElement("canvas"),Z=U.getContext("2d");U.width=Wr(R),U.height=Wr(F),Z.fillStyle=t.fillColor||"transparent",Z.fillRect(0,0,R,F);var G=t.imageSmoothingEnabled,ee=G===void 0?!0:G,ie=t.imageSmoothingQuality;Z.imageSmoothingEnabled=ee,ie&&(Z.imageSmoothingQuality=ie);var be=r.width,V=r.height,ue=i,Ie=a,Je,ct,vt,ut,Ge,St;ue<=-c||ue>be?(ue=0,Je=0,vt=0,Ge=0):ue<=0?(vt=-ue,ue=0,Je=Math.min(be,c+ue),Ge=Je):ue<=be&&(vt=0,Je=Math.min(c,be-ue),Ge=Je),Je<=0||Ie<=-f||Ie>V?(Ie=0,ct=0,ut=0,St=0):Ie<=0?(ut=-Ie,Ie=0,ct=Math.min(V,f+Ie),St=ct):Ie<=V&&(ut=0,ct=Math.min(f,V-Ie),St=ct);var nt=[ue,Ie,Je,ct];if(Ge>0&&St>0){var ze=R/c;nt.push(vt*ze,ut*ze,Ge*ze,St*ze)}return Z.drawImage.apply(Z,[r].concat(Pd(nt.map(function(Be){return Math.floor(Wr(Be))})))),U},setAspectRatio:function(t){var n=this.options;return!this.disabled&&!ua(t)&&(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=t===bl,a=n.movable&&t===kd;t=i||a?t:Rd,n.dragMode=t,qs(r,Us,t),Br(r,La,i),Br(r,Ba,a),n.cropBoxMovable||(qs(s,Us,t),Br(s,La,i),Br(s,Ba,a))}return this}},y2=Pn.Cropper,ho=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ab(this,e),!t||!Kb.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=at({},Cu,Lr(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Mb(e,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[ot]){if(n[ot]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(qb.test(n)){Vb.test(n)?this.read(a2(n)):this.clone();return}var a=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=c,a.onerror=c,a.ontimeout=c,a.onprogress=function(){a.getResponseHeader("content-type")!==xu&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&Tu(n)&&s.crossOrigin&&(n=Du(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=s.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=c2(n),a=0,c=1,f=1;if(i>1){this.url=l2(n,xu);var p=u2(i);a=p.rotate,c=p.scaleX,f=p.scaleY}r.rotatable&&(s.rotate=a),r.scalable&&(s.scaleX=c,s.scaleY=f),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&Tu(r)&&(s||(s="anonymous"),i=Du(r)),this.crossOrigin=s,this.crossOriginUrl=i;var a=document.createElement("img");s&&(a.crossOrigin=s),a.src=i||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),Dt(a,mu),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Pn.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Pn.navigator.userAgent),i=function(p,h){at(n.imageData,{naturalWidth:p,naturalHeight:h,aspectRatio:p/h}),n.initialImageData=at({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),c=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){i(a.width,a.height),s||c.removeChild(a)},a.src=r.src,s||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",c.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,a=document.createElement("div");a.innerHTML=Hb;var c=a.querySelector(".".concat(ot,"-container")),f=c.querySelector(".".concat(ot,"-canvas")),p=c.querySelector(".".concat(ot,"-drag-box")),h=c.querySelector(".".concat(ot,"-crop-box")),g=h.querySelector(".".concat(ot,"-face"));this.container=i,this.cropper=c,this.canvas=f,this.dragBox=p,this.cropBox=h,this.viewBox=c.querySelector(".".concat(ot,"-view-box")),this.face=g,f.appendChild(s),Dt(n,Gt),i.insertBefore(c,n.nextSibling),Tn(s,mu),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Dt(h,Gt),r.guides||Dt(h.getElementsByClassName("".concat(ot,"-dashed")),Gt),r.center||Dt(h.getElementsByClassName("".concat(ot,"-center")),Gt),r.background&&Dt(c,"".concat(ot,"-bg")),r.highlight||Dt(g,Lb),r.cropBoxMovable&&(Dt(g,Ba),qs(g,Us,vl)),r.cropBoxResizable||(Dt(h.getElementsByClassName("".concat(ot,"-line")),Gt),Dt(h.getElementsByClassName("".concat(ot,"-point")),Gt)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),Xt(r.ready)&&an(n,wu,r.ready,{once:!0}),Yr(n,wu)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Tn(this.element,Gt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=y2,e}},{key:"setDefaults",value:function(n){at(Cu,Lr(n)&&n)}}])}();at(ho.prototype,f2,d2,h2,p2,m2,g2);const v2="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0116%203.49694L14.9696%202.54772C15.4443%202.07311%2015.4618%201.55456%2015.0312%201.11511L14.6884%200.763544C14.2577%200.33288%2013.7216%200.376825%2013.2558%200.842646L12.2978%201.78308L14.0116%203.49694ZM3.24504%2014.246L13.1679%204.32311L11.4628%202.62683L1.53996%2012.5321L0.67863%2014.6063C0.58195%2014.87%200.854411%2015.16%201.11808%2015.0633L3.24504%2014.246Z'%20fill='%23E3E3E3'/%3e%3c/svg%3e",b2={name:"UserData",props:{user:{type:Object,required:!0}},data(){return{userRole:null,userPhoto:null,isEditModalVisible:!1,showCropModal:!1,cropper:null,currentPhoto:null,croppedPhotoBase64:null}},async created(){this.userRole=this.user.role==="master"?"мастер":"пользователь";try{const e=await hl(this.user.id);this.userPhoto=e||Jn}catch(e){console.error("Ошибка при загрузке фотографии профиля:",e),this.userPhoto=Jn}},methods:{openEditModal(){this.isEditModalVisible=!0},closeEditModal(){this.isEditModalVisible=!1},openCropModal(e){const t=e.target.files[0];t&&(this.currentPhoto=URL.createObjectURL(t),this.showCropModal=!0,this.$nextTick(()=>{const n=this.$refs.cropImage;this.cropper=new ho(n,{aspectRatio:1,viewMode:2})}))},confirmCrop(){const e=this.cropper.getCroppedCanvas();this.croppedPhotoBase64=e.toDataURL("image/png"),this.closeCropModal(),this.saveProfile()},closeCropModal(){this.showCropModal=!1,this.currentPhoto=null,this.cropper&&(this.cropper.destroy(),this.cropper=null),this.closeEditModal()},async saveProfile(){try{if(this.croppedPhotoBase64){const e=this.croppedPhotoBase64.replace(/^data:image\/png;base64,/,"");await Iy(this.user.id,e)}window.location.reload()}catch(e){console.error("Ошибка при обновлении профиля:",e),alert("Не удалось обновить профиль. Попробуйте попытку позже.")}}}},w2={class:"user-info-container"},_2=["src"],S2={class:"user-info"},x2={class:"user-name"},C2={key:0,class:"edit-modal"},E2={class:"modal-content"},T2={key:0,class:"crop-modal"},D2={class:"crop-container"},O2=["src"],P2={class:"modal-buttons"};function A2(e,t,n,r,s,i){return K(),Y("div",w2,[w("img",{src:s.userPhoto,alt:"Аватар пользователя",class:"profile-picture"},null,8,_2),w("div",S2,[w("h2",x2,$e(n.user.name),1),t[6]||(t[6]=w("div",{class:"divider"},null,-1))]),w("button",{class:"edit-button",onClick:t[0]||(t[0]=(...a)=>i.openEditModal&&i.openEditModal(...a))},t[7]||(t[7]=[w("img",{src:v2,alt:"Редактировать профиль"},null,-1)])),s.isEditModalVisible?(K(),Y("div",C2,[w("div",E2,[t[10]||(t[10]=w("h2",null,"Обновить фотографию профиля",-1)),w("form",{onSubmit:t[5]||(t[5]=Mt((...a)=>i.saveProfile&&i.saveProfile(...a),["prevent"]))},[w("label",null,[t[8]||(t[8]=rn(" Фотография: ")),w("input",{type:"file",onChange:t[1]||(t[1]=(...a)=>i.openCropModal&&i.openCropModal(...a))},null,32)]),s.showCropModal?(K(),Y("div",T2,[w("div",D2,[w("img",{ref:"cropImage",src:s.currentPhoto,alt:"To Crop"},null,8,O2),w("button",{type:"button",onClick:t[2]||(t[2]=(...a)=>i.confirmCrop&&i.confirmCrop(...a))},"Обрезать и сохранить"),w("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.closeCropModal&&i.closeCropModal(...a))},"Отменить")])])):lt("",!0),w("div",P2,[t[9]||(t[9]=w("button",{type:"submit"},"Сохранить",-1)),w("button",{type:"button",onClick:t[4]||(t[4]=(...a)=>i.closeEditModal&&i.closeEditModal(...a))},"Отмена")])],32)])])):lt("",!0)])}const M2=Ve(b2,[["render",A2],["__scopeId","data-v-8086485e"]]),I2={props:{usluga:{type:Object,required:!0}}},k2={class:"usluga-card"},R2={class:"usluga-card-buttons"};function N2(e,t,n,r,s,i){return K(),Y("div",k2,[w("h3",null,$e(n.usluga.name),1),w("p",null,"Описание: "+$e(n.usluga.description),1),w("p",null,"Локация: "+$e(n.usluga.location),1),w("p",null,"Цена: "+$e(n.usluga.price)+" руб.",1),w("div",R2,[w("button",{class:"btn-edit",onClick:t[0]||(t[0]=a=>e.$emit("edit"))},"Редактировать"),w("button",{class:"btn-del",onClick:t[1]||(t[1]=a=>e.$emit("delete"))},"Удалить услугу")])])}const $2=Ve(I2,[["render",N2],["__scopeId","data-v-f70d1fbf"]]),L2={props:{isVisible:{type:Boolean,required:!0},modalType:{type:String,required:!0}},methods:{closeModal(){this.$emit("update:isVisible",!1)}}},B2={class:"modal-content"};function F2(e,t,n,r,s,i){return n.isVisible?(K(),Y("div",{key:0,class:"modal",onClick:t[1]||(t[1]=Mt((...a)=>i.closeModal&&i.closeModal(...a),["self"]))},[w("div",B2,[xp(e.$slots,"default",{},void 0),w("button",{onClick:t[0]||(t[0]=(...a)=>i.closeModal&&i.closeModal(...a)),class:"close-btn"},"Закрыть")])])):lt("",!0)}const j2=Ve(L2,[["render",F2],["__scopeId","data-v-11a218b5"]]),U2={props:{usluga:{type:Object,required:!0},categories:{type:Array,required:!0}},methods:{addSlot(){this.usluga.slots.push({date:"",time:""})},removeSlot(e){this.usluga.slots.splice(e,1)},formatDateForInput(e){return e?new Date(e).toISOString().split("T")[0]:""},updateSlotDate(e,t){this.usluga.slots[e].date=t.target.value},validateForm(){const e=this.usluga.name&&this.usluga.description&&this.usluga.location&&this.usluga.price&&this.usluga.durationMinutes&&this.usluga.category,t=this.usluga.slots.every(n=>n.date&&n.time);return e&&t},notifyFormValidity(){this.$emit("formValid",this.validateForm())}},watch:{usluga:{handler(){this.notifyFormValidity()},deep:!0}}},q2=["value"],V2={class:"usluga-slots"},K2=["for"],H2=["onUpdate:modelValue","value"],z2=["for"],W2=["onUpdate:modelValue"],Y2=["onClick"];function X2(e,t,n,r,s,i){return K(),Y("div",null,[t[7]||(t[7]=w("label",{for:"category"},"Категория",-1)),mt(w("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.usluga.category=a),required:""},[(K(!0),Y(Ce,null,et(n.categories,(a,c)=>(K(),Y("option",{key:c,value:a},$e(a),9,q2))),128))],512),[[I0,n.usluga.category]]),t[8]||(t[8]=w("label",{for:"name"},"Название",-1)),mt(w("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>n.usluga.name=a),required:""},null,512),[[Ft,n.usluga.name]]),t[9]||(t[9]=w("label",{for:"description"},"Описание",-1)),mt(w("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.usluga.description=a),required:""},null,512),[[Ft,n.usluga.description]]),t[10]||(t[10]=w("label",{for:"location"},"Локация",-1)),mt(w("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>n.usluga.location=a),required:""},null,512),[[Ft,n.usluga.location]]),t[11]||(t[11]=w("label",{for:"price"},"Цена",-1)),mt(w("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=a=>n.usluga.price=a),required:""},null,512),[[Ft,n.usluga.price]]),t[12]||(t[12]=w("label",{for:"duration"},"Длительность",-1)),mt(w("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=a=>n.usluga.durationMinutes=a),required:""},null,512),[[Ft,n.usluga.durationMinutes]]),w("div",V2,[(K(!0),Y(Ce,null,et(n.usluga.slots,(a,c)=>(K(),Y("div",{key:c},[w("label",{for:"slot-date-"+c},"Дата",8,K2),mt((K(),Y("input",{type:"date","onUpdate:modelValue":f=>a.date=f,key:"slot-date-"+c,value:i.formatDateForInput(a.date),required:""},null,8,H2)),[[Ft,a.date]]),w("label",{for:"slot-time-"+c},"Время",8,z2),mt((K(),Y("input",{type:"time","onUpdate:modelValue":f=>a.time=f,key:"slot-time-"+c,required:""},null,8,W2)),[[Ft,a.time]]),w("button",{onClick:f=>i.removeSlot(c),type:"button"},"Удалить слот",8,Y2)]))),128)),w("button",{onClick:t[6]||(t[6]=(...a)=>i.addSlot&&i.addSlot(...a)),type:"button"},"Добавить слот")])])}const G2=Ve(U2,[["render",X2],["__scopeId","data-v-3892fb6d"]]),Q2={components:{UslugaCard:$2,Modal:j2,UslugaForm:G2},data(){return{uslugas:[],isModalOpen:!1,modalType:"create",newUsluga:{id:null,name:"",description:"",location:"",price:0,durationMinutes:0,slots:[],category:""},categories:["Категория 1","Категория 2","Категория 3","Категория 4"],isFormValid:!1}},methods:{async fetchUslugas(){const e=localStorage.getItem("userID");try{this.uslugas=await Ty(e)}catch(t){console.error("Ошибка при получении услуг:",t)}console.log(this.uslugas)},openModal(e){this.modalType=e,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1,this.resetUsluga()},editUsluga(e){this.newUsluga={...e},this.newUsluga.slots.forEach(t=>{if(t.date){const n=new Date(t.date);t.date=n.toISOString().split("T")[0]}}),this.openModal("edit")},editSlots(e){this.newUsluga={...e},this.newUsluga.slots.forEach(t=>{if(t.date){const n=new Date(t.date);t.date=n.toISOString().split("T")[0]}}),this.openModal("edit-slots")},async createUsluga(){if(this.isFormValid){this.formatTimeForServer(this.newUsluga.slots);const e=localStorage.getItem("userID");try{console.log(this.newUsluga);const t=await Dy(e,this.newUsluga);this.uslugas.push(t),this.closeModal()}catch(t){console.error(t)}}},async updateUsluga(){if(this.isFormValid){this.formatTimeForServer(this.newUsluga.slots);try{console.log("update: ",this.newUsluga),await Oy(this.newUsluga),await this.fetchUslugas(),this.closeModal()}catch(e){console.log(e)}}},async deleteUsluga(e){const t=localStorage.getItem("token");try{await Me.delete(`http://localhost:8080/usluga/${e}`,{headers:{Authorization:`Bearer ${t}`}}),await this.fetchUslugas()}catch(n){console.error("Ошибка при удалении услуги:",n),alert("Удаление услуги невозможно: существуют активные записи!")}},resetUsluga(){this.newUsluga={id:null,name:"",description:"",location:"",price:0,durationMinutes:0,slots:[],category:""},this.isFormValid=!1},handleFormValidation(e){this.isFormValid=e},formatTimeForServer(e){e.forEach(t=>{t.time&&(t.time=`${t.time}:00`)})}},created(){this.fetchUslugas(),ml().then(e=>{const t=this.categories;this.categories=Array.from(new Set([...t,...e])),console.log(this.categories)}).catch(e=>{console.error("Ошибка при загрузке категорий:",e)})}},J2={class:"my-uslugas-container"},Z2=["disabled"],ew=["disabled"],tw={key:0,class:"uslugas-grid"},nw={key:1};function rw(e,t,n,r,s,i){const a=Ue("UslugaForm"),c=Ue("Modal"),f=Ue("UslugaCard");return K(),Y("div",J2,[t[5]||(t[5]=w("h1",{class:"my-uslugas-title"},"Мои услуги",-1)),w("button",{onClick:t[0]||(t[0]=p=>i.openModal("create"))},"Добавить услугу"),Ae(c,{isVisible:s.isModalOpen,"onUpdate:isVisible":t[3]||(t[3]=p=>s.isModalOpen=p),modalType:s.modalType},{default:Gi(()=>[Ae(a,{usluga:s.newUsluga,categories:s.categories,onFormValid:i.handleFormValidation},null,8,["usluga","categories","onFormValid"]),s.modalType==="create"?(K(),Y("button",{key:0,onClick:t[1]||(t[1]=(...p)=>i.createUsluga&&i.createUsluga(...p)),disabled:!s.isFormValid}," Создать услугу ",8,Z2)):(K(),Y("button",{key:1,onClick:t[2]||(t[2]=(...p)=>i.updateUsluga&&i.updateUsluga(...p)),disabled:!s.isFormValid}," Сохранить обновления ",8,ew))]),_:1},8,["isVisible","modalType"]),s.uslugas.length>0?(K(),Y("div",tw,[(K(!0),Y(Ce,null,et(s.uslugas,p=>(K(),Y("div",{key:p.id,class:"my-usluga-item"},[Ae(f,{usluga:p,onDelete:h=>i.deleteUsluga(p.id),onEdit:h=>i.editUsluga(p),onEditSlots:h=>i.editSlots(p)},null,8,["usluga","onDelete","onEdit","onEditSlots"])]))),128))])):(K(),Y("div",nw,t[4]||(t[4]=[w("p",null,"Вы еще не добавили ни одной услуги!",-1)])))])}const _l=Ve(Q2,[["render",rw],["__scopeId","data-v-544d1f5d"]]),sw={props:{userId:{type:Number,required:!0},isVisible:{type:Boolean,default:!1}},data(){return{portfolioData:{description:"",photos:[]},previewPhotos:[],currentPhoto:null,showCropModal:!1,cropper:null,isSubmitting:!1,errorMessage:"",isSuccessMessage:!1}},methods:{closeModal(){this.$emit("close")},openCropModal(e){const t=e.target.files[0];t&&(this.currentPhoto=URL.createObjectURL(t),this.showCropModal=!0,this.$nextTick(()=>{const n=this.$refs.cropImage;this.cropper=new ho(n,{aspectRatio:1,viewMode:2})}))},confirmCrop(){const t=this.cropper.getCroppedCanvas().toDataURL("image/png"),n=t.replace(/^data:image\/png;base64,/,"");this.portfolioData.photos.push(n),this.previewPhotos.push(t),this.closeCropModal()},closeCropModal(){this.showCropModal=!1,this.currentPhoto=null,this.cropper&&(this.cropper.destroy(),this.cropper=null)},async submitForm(){this.isSubmitting=!0,this.errorMessage="",this.isSuccessMessage=!1;try{if(!this.portfolioData.description.trim()){this.errorMessage="Пожалуйста, заполните поле описания.",this.isSubmitting=!1;return}const e={description:this.portfolioData.description,photos:this.portfolioData.photos};await Ay(this.userId,e),this.$emit("portfolioCreated"),this.isSuccessMessage=!0,setTimeout(()=>{this.closeModal()},2e3)}catch(e){console.error("Ошибка при создании портфолио:",e),this.errorMessage="Произошла ошибка при создании портфолио. Попробуйте снова."}finally{this.isSubmitting=!1}}}},iw={key:0,class:"modal-overlay"},ow={class:"modal-content"},aw={class:"form-group"},lw={class:"form-group"},cw={class:"form-group"},uw={class:"photo-preview"},fw=["src"],dw={key:0,class:"crop-modal"},hw={class:"crop-container"},pw=["src"],mw={class:"form-actions"},gw=["disabled"],yw={key:0,class:"error-message"},vw={key:1,class:"success-message"};function bw(e,t,n,r,s,i){return n.isVisible?(K(),Y("div",iw,[w("div",ow,[t[9]||(t[9]=w("h2",null,"Создать новое портфолио",-1)),w("form",{onSubmit:t[5]||(t[5]=Mt((...a)=>i.submitForm&&i.submitForm(...a),["prevent"]))},[w("div",aw,[t[6]||(t[6]=w("label",{for:"description"},"Описание:",-1)),mt(w("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>s.portfolioData.description=a),required:""},null,512),[[Ft,s.portfolioData.description]])]),w("div",lw,[t[7]||(t[7]=w("label",{for:"photo"},"Фото (PNG, одно фото за раз):",-1)),w("input",{type:"file",onChange:t[1]||(t[1]=(...a)=>i.openCropModal&&i.openCropModal(...a)),accept:"image/png"},null,32)]),w("div",cw,[t[8]||(t[8]=w("label",null,"Добавленные фотографии:",-1)),w("div",uw,[(K(!0),Y(Ce,null,et(s.previewPhotos,(a,c)=>(K(),Y("div",{key:c,class:"photo-item"},[w("img",{src:a,alt:"Photo Preview"},null,8,fw)]))),128))])]),s.showCropModal?(K(),Y("div",dw,[w("div",hw,[w("img",{ref:"cropImage",src:s.currentPhoto,alt:"To Crop"},null,8,pw),w("button",{type:"button",onClick:t[2]||(t[2]=(...a)=>i.confirmCrop&&i.confirmCrop(...a))},"Обрезать и сохранить"),w("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.closeCropModal&&i.closeCropModal(...a))},"Отменить")])])):lt("",!0),w("div",mw,[w("button",{type:"submit",disabled:s.isSubmitting},"Создать",8,gw),w("button",{type:"button",onClick:t[4]||(t[4]=(...a)=>i.closeModal&&i.closeModal(...a))},"Отменить")])],32),s.errorMessage?(K(),Y("div",yw,$e(s.errorMessage),1)):lt("",!0),s.isSuccessMessage?(K(),Y("div",vw,"Портфолио успешно создано!")):lt("",!0)])])):lt("",!0)}const ww=Ve(sw,[["render",bw],["__scopeId","data-v-99e2b860"]]),_w={components:{CreatePortfolioModal:ww},props:{userId:{type:Number,required:!0},hasAccess:{type:Boolean,default:!1}},data(){return{portfolioItem:null,isModalVisible:!1}},async created(){await this.fetchPortfolio(),console.log(this.portfolioItem)},methods:{async handlePortfolioDeleted(){const e=this.portfolioItem.id;try{await My(e),this.portfolioItem=null,console.log("Портфолио удалено")}catch(t){console.error(t)}},goToUpdatePortfolio(){this.portfolioItem&&this.portfolioItem.id?this.$router.push(`/my-portfolio/update/${Number(this.portfolioItem.id)}`):console.error("Portfolio ID отсутствует!")},openModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},handlePortfolioCreated(){this.fetchPortfolio()},async fetchPortfolio(){try{this.portfolioItem=await _d(this.userId)}catch(e){this.portfolioItem=null,console.error("Ошибка при получении портфолио:",e)}},getImageUrl(e){return typeof e=="string"?`data:image/png;base64,${e}`:(console.error("Invalid data format for image:",e),"")}}},Sw={class:"profile-page"},xw={key:1,class:"portfolio-item"},Cw={key:0},Ew={class:"portfolio-photos"},Tw=["src"];function Dw(e,t,n,r,s,i){const a=Ue("CreatePortfolioModal");return K(),Y("div",Sw,[t[4]||(t[4]=w("h1",{class:"title-portfolio"}," Портфолио мастера ",-1)),n.hasAccess&&!s.portfolioItem?(K(),Y("button",{key:0,class:"create-portfolio-button",onClick:t[0]||(t[0]=(...c)=>i.openModal&&i.openModal(...c))}," Создать портфолио ")):(K(),Y("div",xw,[s.portfolioItem?(K(),Y("div",Cw,[w("p",null,[t[3]||(t[3]=w("strong",null,"Описание:",-1)),rn(" "+$e(s.portfolioItem.description),1)]),w("div",Ew,[(K(!0),Y(Ce,null,et(s.portfolioItem.photosAsList,(c,f)=>(K(),Y("img",{key:f,src:i.getImageUrl(c),alt:"Portfolio Image"},null,8,Tw))),128))])])):lt("",!0)])),s.isModalVisible?(K(),On(a,{key:2,userId:n.userId,isVisible:s.isModalVisible,onClose:i.closeModal,onPortfolioCreated:i.handlePortfolioCreated},null,8,["userId","isVisible","onClose","onPortfolioCreated"])):lt("",!0),this.portfolioItem!=null?(K(),Y("button",{key:3,class:"create-portfolio-button",onClick:t[1]||(t[1]=(...c)=>i.handlePortfolioDeleted&&i.handlePortfolioDeleted(...c))}," Удалить портфолио ")):lt("",!0),s.portfolioItem!=null?(K(),Y("button",{key:4,class:"update-portfolio-button",onClick:t[2]||(t[2]=(...c)=>i.goToUpdatePortfolio&&i.goToUpdatePortfolio(...c))}," Обновить портфолио ")):lt("",!0)])}const qd=Ve(_w,[["render",Dw],["__scopeId","data-v-b07c1732"]]),Ow={name:"ProfileMenu",data(){return{links:[{title:"Главная",route:"/"},{title:"Сообщения",route:"/messages"},{title:"Отзывы",route:"/reviews"},{title:"Статистика",route:"/statistics"},{title:"Услуги",route:"/my-uslugas"},{title:"Портфолио",route:"/my-portfolio"},{title:"Настройки",route:"/settings"},{title:"Поддержка",route:"/support"},{title:"Избранное",route:"/favorite"}]}},methods:{goToRoute(e){this.$router.push(e)},logout(){localStorage.removeItem("token"),localStorage.removeItem("userID"),this.$router.push("/login")}}},Pw={class:"profile-menu"},Aw={class:"menu-list"},Mw=["onClick"];function Iw(e,t,n,r,s,i){return K(),Y("div",Pw,[w("ul",Aw,[(K(!0),Y(Ce,null,et(s.links,(a,c)=>(K(),Y("li",{class:"menu-item",key:c,onClick:f=>i.goToRoute(a.route)},$e(a.title),9,Mw))),128))]),w("button",{class:"logout-btn",onClick:t[0]||(t[0]=(...a)=>i.logout&&i.logout(...a))},"Выйти")])}const po=Ve(Ow,[["render",Iw],["__scopeId","data-v-f6b06dcb"]]),kw={name:"StatisticsInfo",data(){return{data:[20,25,30,10,28,22],months:["янв","фев","мар","апр","май","июн"],yTicks:[0,5,10,15,20,25,30]}}},Rw={class:"statistics-container"},Nw={class:"chart"},$w={class:"y-axis"},Lw={class:"horizontal-lines"},Bw={class:"bars-container"},Fw={class:"bar-months"},jw={class:"month-label"};function Uw(e,t,n,r,s,i){return K(),Y("div",Rw,[t[0]||(t[0]=w("h2",{class:"title"},"Статистика",-1)),w("div",Nw,[w("div",$w,[(K(!0),Y(Ce,null,et(s.yTicks,(a,c)=>(K(),Y("div",{key:c,class:"y-tick",style:Xr({top:`calc(${100-c/(s.yTicks.length-1)*100}% - 6px)`})},$e(a),5))),128))]),w("div",Lw,[(K(!0),Y(Ce,null,et(s.yTicks,a=>(K(),Y("div",{key:"line-"+a,class:"line"}))),128))]),w("div",Bw,[(K(!0),Y(Ce,null,et(s.data,(a,c)=>(K(),Y("div",{key:c,class:"bar-wrapper"},[w("div",{class:"bar",style:Xr({height:a*6.66+"px"})},null,4)]))),128))]),w("div",Fw,[(K(!0),Y(Ce,null,et(s.months,(a,c)=>(K(),Y("div",{key:c,class:"month-wrapper"},[w("span",jw,$e(a),1)]))),128))])])])}const qw=Ve(kw,[["render",Uw],["__scopeId","data-v-3917cf34"]]),Vw={name:"ScheduleComponent",data(){return{count:20,timeLabels:["09:00","12:00","15:00","18:00","21:00","09:00","12:00","15:00","18:00","21:00"]}}},Kw={class:"schedule-container"},Hw={class:"schedule-grid"},zw={class:"schedule-time"};function Ww(e,t,n,r,s,i){return K(),Y("div",Kw,[t[0]||(t[0]=w("h2",{class:"schedule-title"},"Расписание",-1)),w("div",Hw,[(K(!0),Y(Ce,null,et(s.count,(a,c)=>(K(),Y("div",{key:c,class:"schedule-line"}))),128))]),w("div",zw,[(K(!0),Y(Ce,null,et(s.timeLabels,(a,c)=>(K(),Y("span",{key:c,class:"time-label"},$e(a),1))),128))])])}const Yw=Ve(Vw,[["render",Ww],["__scopeId","data-v-1ea8b047"]]),Xw={components:{Portfolio:qd,UserData:M2,myUslugas:_l,Header:rs,ProfileMenu:po,StatisticsInfo:qw,ScheduleProfile:Yw},data(){return{user:null,userID:null}},async created(){this.userID=Number(localStorage.getItem("userID"));try{const e=await uo(this.userID);e&&(this.user=e)}catch(e){localStorage.getItem("userID")==="0"&&(this.user={id:1,name:"Ирина Рыбокова",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"услуга 1 описание",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 2",description:"услуга 2 описание",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]}),console.error(e)}}},Gw={class:"container"},Qw={class:"menu"},Jw={class:"content-rows"},Zw={class:"content"},e_={class:"user-data"},t_={class:"statistics"},n_={class:"content-schedule"};function r_(e,t,n,r,s,i){const a=Ue("Header"),c=Ue("ProfileMenu"),f=Ue("UserData"),p=Ue("StatisticsInfo"),h=Ue("ScheduleProfile");return K(),Y(Ce,null,[Ae(a),w("div",Gw,[w("aside",Qw,[Ae(c)]),w("div",Jw,[w("main",Zw,[w("div",e_,[s.user?(K(),On(f,{key:0,user:this.user},null,8,["user"])):lt("",!0)]),w("div",t_,[Ae(p)])]),t[0]||(t[0]=Pf('<div class="content-info" data-v-006241c3><div class="content-block" data-v-006241c3><img src="'+zr+'" alt="icon-block" data-v-006241c3></div><div class="content-block" data-v-006241c3><img src="'+zr+'" alt="icon-block" data-v-006241c3></div><div class="content-block" data-v-006241c3><img src="'+zr+'" alt="icon-block" data-v-006241c3></div></div>',1)),w("div",n_,[Ae(h)])])])],64)}const s_=Ve(Xw,[["render",r_],["__scopeId","data-v-006241c3"]]),i_={name:"NotFoundPage",methods:{goToHome(){this.$router.push("/")}}},o_={class:"not-found-page"};function a_(e,t,n,r,s,i){return K(),Y("div",o_,[t[1]||(t[1]=w("h1",null,"Страница не найдена",-1)),t[2]||(t[2]=w("p",null,"К сожалению, запрашиваемая страница находится в разработке или не существует.",-1)),w("button",{onClick:t[0]||(t[0]=(...a)=>i.goToHome&&i.goToHome(...a))},"На главную")])}const l_=Ve(i_,[["render",a_],["__scopeId","data-v-0611591c"]]),c_={components:{myUslugas:_l,Header:rs,ProfileMenu:po},data(){return{user:null,userID:null}},async created(){this.userID=Number(localStorage.getItem("userID"));try{const e=await uo(this.userID);e&&(this.user=e)}catch(e){console.error(e)}}},u_={class:"container"},f_={class:"menu"},d_={class:"content"};function h_(e,t,n,r,s,i){const a=Ue("Header"),c=Ue("ProfileMenu"),f=Ue("my-uslugas");return K(),Y(Ce,null,[Ae(a),w("div",u_,[w("aside",f_,[Ae(c)]),w("main",d_,[Ae(f)])])],64)}const p_=Ve(c_,[["render",h_],["__scopeId","data-v-0b27d1f8"]]),m_={name:"Portfolio-block",components:{myUslugas:_l,portfolio:qd,Header:rs,ProfileMenu:po},data(){return{userID:null,hasAccess:!0}},created(){this.userID=Number(localStorage.getItem("userID"))}},g_={class:"container"},y_={class:"menu"},v_={class:"content"};function b_(e,t,n,r,s,i){const a=Ue("Header"),c=Ue("ProfileMenu"),f=Ue("portfolio");return K(),Y(Ce,null,[Ae(a),w("div",g_,[w("aside",y_,[Ae(c)]),w("main",v_,[Ae(f,{"user-id":this.userID,"has-access":s.hasAccess},null,8,["user-id","has-access"])])])],64)}const w_=Ve(m_,[["render",b_],["__scopeId","data-v-6e11ea05"]]),__={components:{Header:rs,ProfileMenu:po},props:{portfolioId:{type:Number,required:!0}},data(){return{portfolioData:{description:"",photosAsList:[],newPhotos:[]},previewNewPhotos:[],showCropModal:!1,cropper:null,currentPhoto:null}},async created(){await this.fetchPortfolio()},methods:{async fetchPortfolio(){try{const e=await _d(Number(localStorage.getItem("userID")));this.portfolioData.description=e.description,this.portfolioData.photosAsList=e.photosAsList||[]}catch(e){console.error("Ошибка при загрузке портфолио:",e)}},getImageUrl(e){return`data:image/png;base64,${e}`},removePhoto(e){this.portfolioData.photosAsList.splice(e,1)},removeNewPhoto(e){this.portfolioData.newPhotos.splice(e,1),this.previewNewPhotos.splice(e,1)},openCropModal(e){const t=e.target.files[0];t&&(this.currentPhoto=URL.createObjectURL(t),this.showCropModal=!0,this.$nextTick(()=>{const n=this.$refs.cropImage;this.cropper=new ho(n,{aspectRatio:1,viewMode:2})}))},confirmCrop(){const t=this.cropper.getCroppedCanvas().toDataURL("image/png"),n=t.replace(/^data:image\/png;base64,/,"");this.previewNewPhotos.push(t),this.portfolioData.newPhotos.push(n),this.closeCropModal()},closeCropModal(){this.showCropModal=!1,this.currentPhoto=null,this.cropper&&(this.cropper.destroy(),this.cropper=null)},async handleSubmit(){try{const e=[...this.portfolioData.photosAsList,...this.portfolioData.newPhotos];console.log(e);const t={description:this.portfolioData.description,photos:e};await bd(this.portfolioId,t),alert("Портфолио успешно обновлено!")}catch(e){console.error("Ошибка при обновлении портфолио:",e),alert("Не удалось обновить портфолио. Попробуйте снова.")}},handleCancel(){this.$router.push("/my-portfolio")}}},S_={class:"container"},x_={class:"menu"},C_={class:"update-portfolio-page"},E_={class:"form-group"},T_={class:"form-group"},D_={class:"photos-list"},O_=["src"],P_={class:"photo-actions"},A_=["onClick"],M_={class:"form-group"},I_={class:"new-photos-preview"},k_=["src"],R_={class:"photo-actions"},N_=["onClick"],$_={class:"form-group"},L_={key:0,class:"crop-modal"},B_={class:"crop-container"},F_=["src"],j_={class:"form-actions"};function U_(e,t,n,r,s,i){const a=Ue("Header"),c=Ue("ProfileMenu");return K(),Y(Ce,null,[Ae(a),w("div",S_,[w("aside",x_,[Ae(c)]),w("main",null,[w("div",C_,[t[11]||(t[11]=w("h1",null,"Редактирование портфолио",-1)),w("form",{onSubmit:t[5]||(t[5]=Mt((...f)=>i.handleSubmit&&i.handleSubmit(...f),["prevent"]))},[w("div",E_,[t[6]||(t[6]=w("label",{for:"description"},"Описание",-1)),mt(w("textarea",{id:"description","onUpdate:modelValue":t[0]||(t[0]=f=>s.portfolioData.description=f),placeholder:"Введите описание портфолио",rows:"4"},null,512),[[Ft,s.portfolioData.description]])]),w("div",T_,[t[7]||(t[7]=w("label",null,"Фотографии",-1)),w("div",D_,[(K(!0),Y(Ce,null,et(s.portfolioData.photosAsList,(f,p)=>(K(),Y("div",{key:p,class:"photo-item"},[w("img",{src:i.getImageUrl(f),alt:"Portfolio Photo"},null,8,O_),w("div",P_,[w("button",{type:"button",onClick:h=>i.removePhoto(p)},"Удалить",8,A_)])]))),128))])]),w("div",M_,[t[8]||(t[8]=w("label",null,"Предпросмотр новых фотографий",-1)),w("div",I_,[(K(!0),Y(Ce,null,et(s.previewNewPhotos,(f,p)=>(K(),Y("div",{key:p,class:"photo-item"},[w("img",{src:f,alt:"New Photo Preview"},null,8,k_),w("div",R_,[w("button",{type:"button",onClick:h=>i.removeNewPhoto(p)},"Удалить",8,N_)])]))),128))])]),w("div",$_,[t[9]||(t[9]=w("label",{for:"newPhotos",class:"add-file"},"Добавить фотографию",-1)),w("input",{id:"newPhotos",type:"file",accept:"image/png",onChange:t[1]||(t[1]=(...f)=>i.openCropModal&&i.openCropModal(...f))},null,32)]),s.showCropModal?(K(),Y("div",L_,[w("div",B_,[w("img",{ref:"cropImage",src:s.currentPhoto,alt:"To Crop"},null,8,F_),w("button",{type:"button",onClick:t[2]||(t[2]=(...f)=>i.confirmCrop&&i.confirmCrop(...f))},"Обрезать и сохранить"),w("button",{type:"button",onClick:t[3]||(t[3]=(...f)=>i.closeCropModal&&i.closeCropModal(...f))},"Отменить")])])):lt("",!0),w("div",j_,[t[10]||(t[10]=w("button",{type:"submit",class:"save-button"},"Сохранить изменения",-1)),w("button",{type:"button",class:"cancel-button",onClick:t[4]||(t[4]=(...f)=>i.handleCancel&&i.handleCancel(...f))},"Назад к портфолио")])],32)])])])],64)}const q_=Ve(__,[["render",U_],["__scopeId","data-v-2f5c3701"]]),V_=[{path:"/",component:x1},{path:"/login",component:$1},{path:"/registration",component:K1},{path:"/schedule",component:Ob},{path:"/profile",component:s_,meta:{requiresAuth:!0}},{path:"/my-uslugas",component:p_,meta:{requiresAuth:!0}},{path:"/my-portfolio",component:w_,meta:{requiresAuth:!0}},{path:"/my-portfolio/update/:portfolioId",component:q_,meta:{requiresAuth:!0},props:!0},{path:"/:pathMatch(.*)*",component:l_}],Vd=zm({history:_m("/ch"),routes:V_});Vd.beforeEach((e,t,n)=>{e.meta.requiresAuth&&!Cy()?n("/"):n()});F0(K0).use(Vd).mount("#app");
