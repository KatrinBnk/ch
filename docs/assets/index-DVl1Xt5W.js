(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function za(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Qe={},Ur=[],En=()=>{},yh=()=>!1,Ki=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Wa=e=>e.startsWith("onUpdate:"),Mt=Object.assign,Ya=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},bh=Object.prototype.hasOwnProperty,Xe=(e,t)=>bh.call(e,t),xe=Array.isArray,jr=e=>Vs(e)==="[object Map]",Hi=e=>Vs(e)==="[object Set]",Zl=e=>Vs(e)==="[object Date]",Te=e=>typeof e=="function",vt=e=>typeof e=="string",mn=e=>typeof e=="symbol",tt=e=>e!==null&&typeof e=="object",Pu=e=>(tt(e)||Te(e))&&Te(e.then)&&Te(e.catch),Mu=Object.prototype.toString,Vs=e=>Mu.call(e),wh=e=>Vs(e).slice(8,-1),Iu=e=>Vs(e)==="[object Object]",Xa=e=>vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ss=za(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_h=/-(\w)/g,cn=zi(e=>e.replace(_h,(t,n)=>n?n.toUpperCase():"")),Sh=/\B([A-Z])/g,sr=zi(e=>e.replace(Sh,"-$1").toLowerCase()),Wi=zi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wo=zi(e=>e?`on${Wi(e)}`:""),nr=(e,t)=>!Object.is(e,t),xi=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Au=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Ai=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ec;const Yi=()=>ec||(ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gr(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=vt(r)?Dh(r):Gr(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(vt(e)||tt(e))return e}const xh=/;(?![^(]*\))/g,Ch=/:([^]+)/,Eh=/\/\*[^]*?\*\//g;function Dh(e){const t={};return e.replace(Eh,"").split(xh).forEach(n=>{if(n){const r=n.split(Ch);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Bn(e){let t="";if(vt(e))t=e;else if(xe(e))for(let n=0;n<e.length;n++){const r=Bn(e[n]);r&&(t+=r+" ")}else if(tt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Th="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oh=za(Th);function ku(e){return!!e||e===""}function Ph(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Qr(e[r],t[r]);return n}function Qr(e,t){if(e===t)return!0;let n=Zl(e),r=Zl(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=mn(e),r=mn(t),n||r)return e===t;if(n=xe(e),r=xe(t),n||r)return n&&r?Ph(e,t):!1;if(n=tt(e),r=tt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const c=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(c&&!f||!c&&f||!Qr(e[a],t[a]))return!1}}return String(e)===String(t)}function Mh(e,t){return e.findIndex(n=>Qr(n,t))}const Ru=e=>!!(e&&e.__v_isRef===!0),Fe=e=>vt(e)?e:e==null?"":xe(e)||tt(e)&&(e.toString===Mu||!Te(e.toString))?Ru(e)?Fe(e.value):JSON.stringify(e,Nu,2):String(e),Nu=(e,t)=>Ru(t)?Nu(e,t.value):jr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Yo(r,i)+" =>"]=s,n),{})}:Hi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Yo(n))}:mn(t)?Yo(t):tt(t)&&!xe(t)&&!Iu(t)?String(t):t,Yo=(e,t="")=>{var n;return mn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nn;class Ih{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nn,!t&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=nn;try{return nn=this,t()}finally{nn=n}}}on(){nn=this}off(){nn=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ah(){return nn}let et;const Xo=new WeakSet;class $u{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nn&&nn.active&&nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xo.has(this)&&(Xo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Lu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tc(this),Bu(this);const t=et,n=pn;et=this,pn=!0;try{return this.fn()}finally{Uu(this),et=t,pn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ja(t);this.deps=this.depsTail=void 0,tc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){da(this)&&this.run()}get dirty(){return da(this)}}let Fu=0,xs,Cs;function Lu(e,t=!1){if(e.flags|=8,t){e.next=Cs,Cs=e;return}e.next=xs,xs=e}function Ga(){Fu++}function Qa(){if(--Fu>0)return;if(Cs){let t=Cs;for(Cs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xs;){let t=xs;for(xs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Bu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Uu(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Ja(r),kh(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function da(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ju(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ju(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Is))return;e.globalVersion=Is;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!da(e)){e.flags&=-3;return}const n=et,r=pn;et=e,pn=!0;try{Bu(e);const s=e.fn(e._value);(t.version===0||nr(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{et=n,pn=r,Uu(e),e.flags&=-3}}function Ja(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ja(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function kh(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let pn=!0;const qu=[];function ir(){qu.push(pn),pn=!1}function or(){const e=qu.pop();pn=e===void 0?!0:e}function tc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=et;et=void 0;try{t()}finally{et=n}}}let Is=0;class Rh{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Za{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!et||!pn||et===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==et)n=this.activeLink=new Rh(et,this),et.deps?(n.prevDep=et.depsTail,et.depsTail.nextDep=n,et.depsTail=n):et.deps=et.depsTail=n,Vu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=et.depsTail,n.nextDep=void 0,et.depsTail.nextDep=n,et.depsTail=n,et.deps===n&&(et.deps=r)}return n}trigger(t){this.version++,Is++,this.notify(t)}notify(t){Ga();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Qa()}}}function Vu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Vu(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ha=new WeakMap,wr=Symbol(""),pa=Symbol(""),As=Symbol("");function Ut(e,t,n){if(pn&&et){let r=ha.get(e);r||ha.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Za),s.map=r,s.key=n),s.track()}}function $n(e,t,n,r,s,i){const a=ha.get(e);if(!a){Is++;return}const c=f=>{f&&f.trigger()};if(Ga(),t==="clear")a.forEach(c);else{const f=xe(e),p=f&&Xa(n);if(f&&n==="length"){const h=Number(r);a.forEach((g,w)=>{(w==="length"||w===As||!mn(w)&&w>=h)&&c(g)})}else switch((n!==void 0||a.has(void 0))&&c(a.get(n)),p&&c(a.get(As)),t){case"add":f?p&&c(a.get("length")):(c(a.get(wr)),jr(e)&&c(a.get(pa)));break;case"delete":f||(c(a.get(wr)),jr(e)&&c(a.get(pa)));break;case"set":jr(e)&&c(a.get(wr));break}}Qa()}function Rr(e){const t=Ye(e);return t===e?t:(Ut(t,"iterate",As),ln(e)?t:t.map(jt))}function Xi(e){return Ut(e=Ye(e),"iterate",As),e}const Nh={__proto__:null,[Symbol.iterator](){return Go(this,Symbol.iterator,jt)},concat(...e){return Rr(this).concat(...e.map(t=>xe(t)?Rr(t):t))},entries(){return Go(this,"entries",e=>(e[1]=jt(e[1]),e))},every(e,t){return kn(this,"every",e,t,void 0,arguments)},filter(e,t){return kn(this,"filter",e,t,n=>n.map(jt),arguments)},find(e,t){return kn(this,"find",e,t,jt,arguments)},findIndex(e,t){return kn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return kn(this,"findLast",e,t,jt,arguments)},findLastIndex(e,t){return kn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return kn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Qo(this,"includes",e)},indexOf(...e){return Qo(this,"indexOf",e)},join(e){return Rr(this).join(e)},lastIndexOf(...e){return Qo(this,"lastIndexOf",e)},map(e,t){return kn(this,"map",e,t,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...t){return nc(this,"reduce",e,t)},reduceRight(e,...t){return nc(this,"reduceRight",e,t)},shift(){return hs(this,"shift")},some(e,t){return kn(this,"some",e,t,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return Rr(this).toReversed()},toSorted(e){return Rr(this).toSorted(e)},toSpliced(...e){return Rr(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return Go(this,"values",jt)}};function Go(e,t,n){const r=Xi(e),s=r[t]();return r!==e&&!ln(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const $h=Array.prototype;function kn(e,t,n,r,s,i){const a=Xi(e),c=a!==e&&!ln(e),f=a[t];if(f!==$h[t]){const g=f.apply(e,i);return c?jt(g):g}let p=n;a!==e&&(c?p=function(g,w){return n.call(this,jt(g),w,e)}:n.length>2&&(p=function(g,w){return n.call(this,g,w,e)}));const h=f.call(a,p,r);return c&&s?s(h):h}function nc(e,t,n,r){const s=Xi(e);let i=n;return s!==e&&(ln(e)?n.length>3&&(i=function(a,c,f){return n.call(this,a,c,f,e)}):i=function(a,c,f){return n.call(this,a,jt(c),f,e)}),s[t](i,...r)}function Qo(e,t,n){const r=Ye(e);Ut(r,"iterate",As);const s=r[t](...n);return(s===-1||s===!1)&&nl(n[0])?(n[0]=Ye(n[0]),r[t](...n)):s}function hs(e,t,n=[]){ir(),Ga();const r=Ye(e)[t].apply(e,n);return Qa(),or(),r}const Fh=za("__proto__,__v_isRef,__isVue"),Ku=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mn));function Lh(e){mn(e)||(e=String(e));const t=Ye(this);return Ut(t,"has",e),t.hasOwnProperty(e)}class Hu{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Yh:Xu:i?Yu:Wu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=xe(t);if(!s){let f;if(a&&(f=Nh[n]))return f;if(n==="hasOwnProperty")return Lh}const c=Reflect.get(t,n,Kt(t)?t:r);return(mn(n)?Ku.has(n):Fh(n))||(s||Ut(t,"get",n),i)?c:Kt(c)?a&&Xa(n)?c:c.value:tt(c)?s?Qu(c):Gi(c):c}}class zu extends Hu{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const f=Sr(i);if(!ln(r)&&!Sr(r)&&(i=Ye(i),r=Ye(r)),!xe(t)&&Kt(i)&&!Kt(r))return f?!1:(i.value=r,!0)}const a=xe(t)&&Xa(n)?Number(n)<t.length:Xe(t,n),c=Reflect.set(t,n,r,Kt(t)?t:s);return t===Ye(s)&&(a?nr(r,i)&&$n(t,"set",n,r):$n(t,"add",n,r)),c}deleteProperty(t,n){const r=Xe(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&$n(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!mn(n)||!Ku.has(n))&&Ut(t,"has",n),r}ownKeys(t){return Ut(t,"iterate",xe(t)?"length":wr),Reflect.ownKeys(t)}}class Bh extends Hu{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Uh=new zu,jh=new Bh,qh=new zu(!0);const ma=e=>e,yi=e=>Reflect.getPrototypeOf(e);function Vh(e,t,n){return function(...r){const s=this.__v_raw,i=Ye(s),a=jr(i),c=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,p=s[e](...r),h=n?ma:t?ga:jt;return!t&&Ut(i,"iterate",f?pa:wr),{next(){const{value:g,done:w}=p.next();return w?{value:g,done:w}:{value:c?[h(g[0]),h(g[1])]:h(g),done:w}},[Symbol.iterator](){return this}}}}function bi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Kh(e,t){const n={get(s){const i=this.__v_raw,a=Ye(i),c=Ye(s);e||(nr(s,c)&&Ut(a,"get",s),Ut(a,"get",c));const{has:f}=yi(a),p=t?ma:e?ga:jt;if(f.call(a,s))return p(i.get(s));if(f.call(a,c))return p(i.get(c));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Ut(Ye(s),"iterate",wr),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=Ye(i),c=Ye(s);return e||(nr(s,c)&&Ut(a,"has",s),Ut(a,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const a=this,c=a.__v_raw,f=Ye(c),p=t?ma:e?ga:jt;return!e&&Ut(f,"iterate",wr),c.forEach((h,g)=>s.call(i,p(h),p(g),a))}};return Mt(n,e?{add:bi("add"),set:bi("set"),delete:bi("delete"),clear:bi("clear")}:{add(s){!t&&!ln(s)&&!Sr(s)&&(s=Ye(s));const i=Ye(this);return yi(i).has.call(i,s)||(i.add(s),$n(i,"add",s,s)),this},set(s,i){!t&&!ln(i)&&!Sr(i)&&(i=Ye(i));const a=Ye(this),{has:c,get:f}=yi(a);let p=c.call(a,s);p||(s=Ye(s),p=c.call(a,s));const h=f.call(a,s);return a.set(s,i),p?nr(i,h)&&$n(a,"set",s,i):$n(a,"add",s,i),this},delete(s){const i=Ye(this),{has:a,get:c}=yi(i);let f=a.call(i,s);f||(s=Ye(s),f=a.call(i,s)),c&&c.call(i,s);const p=i.delete(s);return f&&$n(i,"delete",s,void 0),p},clear(){const s=Ye(this),i=s.size!==0,a=s.clear();return i&&$n(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Vh(s,e,t)}),n}function el(e,t){const n=Kh(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Xe(n,s)&&s in r?n:r,s,i)}const Hh={get:el(!1,!1)},zh={get:el(!1,!0)},Wh={get:el(!0,!1)};const Wu=new WeakMap,Yu=new WeakMap,Xu=new WeakMap,Yh=new WeakMap;function Xh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gh(e){return e.__v_skip||!Object.isExtensible(e)?0:Xh(wh(e))}function Gi(e){return Sr(e)?e:tl(e,!1,Uh,Hh,Wu)}function Gu(e){return tl(e,!1,qh,zh,Yu)}function Qu(e){return tl(e,!0,jh,Wh,Xu)}function tl(e,t,n,r,s){if(!tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=Gh(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return s.set(e,c),c}function qr(e){return Sr(e)?qr(e.__v_raw):!!(e&&e.__v_isReactive)}function Sr(e){return!!(e&&e.__v_isReadonly)}function ln(e){return!!(e&&e.__v_isShallow)}function nl(e){return e?!!e.__v_raw:!1}function Ye(e){const t=e&&e.__v_raw;return t?Ye(t):e}function Qh(e){return!Xe(e,"__v_skip")&&Object.isExtensible(e)&&Au(e,"__v_skip",!0),e}const jt=e=>tt(e)?Gi(e):e,ga=e=>tt(e)?Qu(e):e;function Kt(e){return e?e.__v_isRef===!0:!1}function Jh(e){return Ju(e,!1)}function Zh(e){return Ju(e,!0)}function Ju(e,t){return Kt(e)?e:new ep(e,t)}class ep{constructor(t,n){this.dep=new Za,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ye(t),this._value=n?t:jt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ln(t)||Sr(t);t=r?t:Ye(t),nr(t,n)&&(this._rawValue=t,this._value=r?t:jt(t),this.dep.trigger())}}function Vr(e){return Kt(e)?e.value:e}const tp={get:(e,t,n)=>t==="__v_raw"?e:Vr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Kt(s)&&!Kt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Zu(e){return qr(e)?e:new Proxy(e,tp)}class np{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Za(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&et!==this)return Lu(this,!0),!0}get value(){const t=this.dep.track();return ju(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function rp(e,t,n=!1){let r,s;return Te(e)?r=e:(r=e.get,s=e.set),new np(r,s,n)}const wi={},ki=new WeakMap;let yr;function sp(e,t=!1,n=yr){if(n){let r=ki.get(n);r||ki.set(n,r=[]),r.push(e)}}function ip(e,t,n=Qe){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:c,call:f}=n,p=ie=>s?ie:ln(ie)||s===!1||s===0?Fn(ie,1):Fn(ie);let h,g,w,D,R=!1,B=!1;if(Kt(e)?(g=()=>e.value,R=ln(e)):qr(e)?(g=()=>p(e),R=!0):xe(e)?(B=!0,R=e.some(ie=>qr(ie)||ln(ie)),g=()=>e.map(ie=>{if(Kt(ie))return ie.value;if(qr(ie))return p(ie);if(Te(ie))return f?f(ie,2):ie()})):Te(e)?t?g=f?()=>f(e,2):e:g=()=>{if(w){ir();try{w()}finally{or()}}const ie=yr;yr=h;try{return f?f(e,3,[D]):e(D)}finally{yr=ie}}:g=En,t&&s){const ie=g,be=s===!0?1/0:s;g=()=>Fn(ie(),be)}const j=Ah(),Z=()=>{h.stop(),j&&j.active&&Ya(j.effects,h)};if(i&&t){const ie=t;t=(...be)=>{ie(...be),Z()}}let G=B?new Array(e.length).fill(wi):wi;const ee=ie=>{if(!(!(h.flags&1)||!h.dirty&&!ie))if(t){const be=h.run();if(s||R||(B?be.some((K,ue)=>nr(K,G[ue])):nr(be,G))){w&&w();const K=yr;yr=h;try{const ue=[be,G===wi?void 0:B&&G[0]===wi?[]:G,D];f?f(t,3,ue):t(...ue),G=be}finally{yr=K}}}else h.run()};return c&&c(ee),h=new $u(g),h.scheduler=a?()=>a(ee,!1):ee,D=ie=>sp(ie,!1,h),w=h.onStop=()=>{const ie=ki.get(h);if(ie){if(f)f(ie,4);else for(const be of ie)be();ki.delete(h)}},t?r?ee(!0):G=h.run():a?a(ee.bind(null,!0),!0):h.run(),Z.pause=h.pause.bind(h),Z.resume=h.resume.bind(h),Z.stop=Z,Z}function Fn(e,t=1/0,n){if(t<=0||!tt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Kt(e))Fn(e.value,t,n);else if(xe(e))for(let r=0;r<e.length;r++)Fn(e[r],t,n);else if(Hi(e)||jr(e))e.forEach(r=>{Fn(r,t,n)});else if(Iu(e)){for(const r in e)Fn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Fn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ks(e,t,n,r){try{return r?e(...r):e()}catch(s){Qi(s,t,n)}}function On(e,t,n,r){if(Te(e)){const s=Ks(e,t,n,r);return s&&Pu(s)&&s.catch(i=>{Qi(i,t,n)}),s}if(xe(e)){const s=[];for(let i=0;i<e.length;i++)s.push(On(e[i],t,n,r));return s}}function Qi(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Qe;if(t){let c=t.parent;const f=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const h=c.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](e,f,p)===!1)return}c=c.parent}if(i){ir(),Ks(i,null,10,[e,f,p]),or();return}}op(e,n,s,r,a)}function op(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Wt=[];let xn=-1;const Kr=[];let Xn=null,$r=0;const ef=Promise.resolve();let Ri=null;function rl(e){const t=Ri||ef;return e?t.then(this?e.bind(this):e):t}function ap(e){let t=xn+1,n=Wt.length;for(;t<n;){const r=t+n>>>1,s=Wt[r],i=ks(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function sl(e){if(!(e.flags&1)){const t=ks(e),n=Wt[Wt.length-1];!n||!(e.flags&2)&&t>=ks(n)?Wt.push(e):Wt.splice(ap(t),0,e),e.flags|=1,tf()}}function tf(){Ri||(Ri=ef.then(rf))}function lp(e){xe(e)?Kr.push(...e):Xn&&e.id===-1?Xn.splice($r+1,0,e):e.flags&1||(Kr.push(e),e.flags|=1),tf()}function rc(e,t,n=xn+1){for(;n<Wt.length;n++){const r=Wt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Wt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function nf(e){if(Kr.length){const t=[...new Set(Kr)].sort((n,r)=>ks(n)-ks(r));if(Kr.length=0,Xn){Xn.push(...t);return}for(Xn=t,$r=0;$r<Xn.length;$r++){const n=Xn[$r];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xn=null,$r=0}}const ks=e=>e.id==null?e.flags&2?-1:1/0:e.id;function rf(e){try{for(xn=0;xn<Wt.length;xn++){const t=Wt[xn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ks(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xn<Wt.length;xn++){const t=Wt[xn];t&&(t.flags&=-2)}xn=-1,Wt.length=0,nf(),Ri=null,(Wt.length||Kr.length)&&rf()}}let Rt=null,sf=null;function Ni(e){const t=Rt;return Rt=e,sf=e&&e.type.__scopeId||null,t}function Ji(e,t=Rt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&dc(-1);const i=Ni(t);let a;try{a=e(...s)}finally{Ni(i),r._d&&dc(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function ut(e,t){if(Rt===null)return e;const n=ro(Rt),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,c,f=Qe]=t[s];i&&(Te(i)&&(i={mounted:i,updated:i}),i.deep&&Fn(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:c,modifiers:f}))}return e}function pr(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const c=s[a];i&&(c.oldValue=i[a].value);let f=c.dir[r];f&&(ir(),On(f,n,8,[e.el,c,e,t]),or())}}const cp=Symbol("_vte"),up=e=>e.__isTeleport;function il(e,t){e.shapeFlag&6&&e.component?(e.transition=t,il(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Zi(e,t){return Te(e)?Mt({name:e.name},t,{setup:e}):e}function of(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function $i(e,t,n,r,s=!1){if(xe(e)){e.forEach((R,B)=>$i(R,t&&(xe(t)?t[B]:t),n,r,s));return}if(Hr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&$i(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?ro(r.component):r.el,a=s?null:i,{i:c,r:f}=e,p=t&&t.r,h=c.refs===Qe?c.refs={}:c.refs,g=c.setupState,w=Ye(g),D=g===Qe?()=>!1:R=>Xe(w,R);if(p!=null&&p!==f&&(vt(p)?(h[p]=null,D(p)&&(g[p]=null)):Kt(p)&&(p.value=null)),Te(f))Ks(f,c,12,[a,h]);else{const R=vt(f),B=Kt(f);if(R||B){const j=()=>{if(e.f){const Z=R?D(f)?g[f]:h[f]:f.value;s?xe(Z)&&Ya(Z,i):xe(Z)?Z.includes(i)||Z.push(i):R?(h[f]=[i],D(f)&&(g[f]=h[f])):(f.value=[i],e.k&&(h[e.k]=f.value))}else R?(h[f]=a,D(f)&&(g[f]=a)):B&&(f.value=a,e.k&&(h[e.k]=a))};a?(j.id=-1,tn(j,n)):j()}}}Yi().requestIdleCallback;Yi().cancelIdleCallback;const Hr=e=>!!e.type.__asyncLoader,af=e=>e.type.__isKeepAlive;function fp(e,t){lf(e,"a",t)}function dp(e,t){lf(e,"da",t)}function lf(e,t,n=qt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(eo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)af(s.parent.vnode)&&hp(r,t,n,s),s=s.parent}}function hp(e,t,n,r){const s=eo(t,e,r,!0);cf(()=>{Ya(r[t],s)},n)}function eo(e,t,n=qt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{ir();const c=Hs(n),f=On(t,n,e,a);return c(),or(),f});return r?s.unshift(i):s.push(i),i}}const Un=e=>(t,n=qt)=>{(!$s||e==="sp")&&eo(e,(...r)=>t(...r),n)},pp=Un("bm"),mp=Un("m"),gp=Un("bu"),vp=Un("u"),yp=Un("bum"),cf=Un("um"),bp=Un("sp"),wp=Un("rtg"),_p=Un("rtc");function Sp(e,t=qt){eo("ec",e,t)}const xp="components";function $e(e,t){return Ep(xp,e,!0,t)||e}const Cp=Symbol.for("v-ndc");function Ep(e,t,n=!0,r=!1){const s=Rt||qt;if(s){const i=s.type;{const c=dm(i,!1);if(c&&(c===t||c===cn(t)||c===Wi(cn(t))))return i}const a=sc(s[e]||i[e],t)||sc(s.appContext[e],t);return!a&&r?i:a}}function sc(e,t){return e&&(e[t]||e[cn(t)]||e[Wi(cn(t))])}function Je(e,t,n,r){let s;const i=n,a=xe(e);if(a||vt(e)){const c=a&&qr(e);let f=!1;c&&(f=!ln(e),e=Xi(e)),s=new Array(e.length);for(let p=0,h=e.length;p<h;p++)s[p]=t(f?jt(e[p]):e[p],p,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let c=0;c<e;c++)s[c]=t(c+1,c,void 0,i)}else if(tt(e))if(e[Symbol.iterator])s=Array.from(e,(c,f)=>t(c,f,void 0,i));else{const c=Object.keys(e);s=new Array(c.length);for(let f=0,p=c.length;f<p;f++){const h=c[f];s[f]=t(e[h],h,f,i)}}else s=[];return s}function Dp(e,t,n={},r,s){if(Rt.ce||Rt.parent&&Hr(Rt.parent)&&Rt.parent.ce)return q(),gn(Ce,null,[Ee("slot",n,r)],64);let i=e[t];i&&i._c&&(i._d=!1),q();const a=i&&uf(i(n)),c=n.key||a&&a.key,f=gn(Ce,{key:(c&&!mn(c)?c:`_${t}`)+(!a&&r?"_fb":"")},a||[],a&&e._===1?64:-2);return i&&i._c&&(i._d=!0),f}function uf(e){return e.some(t=>Ns(t)?!(t.type===rr||t.type===Ce&&!uf(t.children)):!0)?e:null}const va=e=>e?If(e)?ro(e):va(e.parent):null,Es=Mt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>va(e.parent),$root:e=>va(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ol(e),$forceUpdate:e=>e.f||(e.f=()=>{sl(e.update)}),$nextTick:e=>e.n||(e.n=rl.bind(e.proxy)),$watch:e=>Wp.bind(e)}),Jo=(e,t)=>e!==Qe&&!e.__isScriptSetup&&Xe(e,t),Tp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:c,appContext:f}=e;let p;if(t[0]!=="$"){const D=a[t];if(D!==void 0)switch(D){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Jo(r,t))return a[t]=1,r[t];if(s!==Qe&&Xe(s,t))return a[t]=2,s[t];if((p=e.propsOptions[0])&&Xe(p,t))return a[t]=3,i[t];if(n!==Qe&&Xe(n,t))return a[t]=4,n[t];ya&&(a[t]=0)}}const h=Es[t];let g,w;if(h)return t==="$attrs"&&Ut(e.attrs,"get",""),h(e);if((g=c.__cssModules)&&(g=g[t]))return g;if(n!==Qe&&Xe(n,t))return a[t]=4,n[t];if(w=f.config.globalProperties,Xe(w,t))return w[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Jo(s,t)?(s[t]=n,!0):r!==Qe&&Xe(r,t)?(r[t]=n,!0):Xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let c;return!!n[a]||e!==Qe&&Xe(e,a)||Jo(t,a)||(c=i[0])&&Xe(c,a)||Xe(r,a)||Xe(Es,a)||Xe(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Xe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ic(e){return xe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ya=!0;function Op(e){const t=ol(e),n=e.proxy,r=e.ctx;ya=!1,t.beforeCreate&&oc(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:c,provide:f,inject:p,created:h,beforeMount:g,mounted:w,beforeUpdate:D,updated:R,activated:B,deactivated:j,beforeDestroy:Z,beforeUnmount:G,destroyed:ee,unmounted:ie,render:be,renderTracked:K,renderTriggered:ue,errorCaptured:Ae,serverPrefetch:Ze,expose:ct,inheritAttrs:yt,components:ft,directives:Ge,filters:xt}=t;if(p&&Pp(p,r,null),a)for(const Be in a){const Oe=a[Be];Te(Oe)&&(r[Be]=Oe.bind(n))}if(s){const Be=s.call(n,n);tt(Be)&&(e.data=Gi(Be))}if(ya=!0,i)for(const Be in i){const Oe=i[Be],mt=Te(Oe)?Oe.bind(n,n):Te(Oe.get)?Oe.get.bind(n,n):En,dt=!Te(Oe)&&Te(Oe.set)?Oe.set.bind(n):En,It=hn({get:mt,set:dt});Object.defineProperty(r,Be,{enumerable:!0,configurable:!0,get:()=>It.value,set:bt=>It.value=bt})}if(c)for(const Be in c)ff(c[Be],r,n,Be);if(f){const Be=Te(f)?f.call(n):f;Reflect.ownKeys(Be).forEach(Oe=>{Ci(Oe,Be[Oe])})}h&&oc(h,e,"c");function ze(Be,Oe){xe(Oe)?Oe.forEach(mt=>Be(mt.bind(n))):Oe&&Be(Oe.bind(n))}if(ze(pp,g),ze(mp,w),ze(gp,D),ze(vp,R),ze(fp,B),ze(dp,j),ze(Sp,Ae),ze(_p,K),ze(wp,ue),ze(yp,G),ze(cf,ie),ze(bp,Ze),xe(ct))if(ct.length){const Be=e.exposed||(e.exposed={});ct.forEach(Oe=>{Object.defineProperty(Be,Oe,{get:()=>n[Oe],set:mt=>n[Oe]=mt})})}else e.exposed||(e.exposed={});be&&e.render===En&&(e.render=be),yt!=null&&(e.inheritAttrs=yt),ft&&(e.components=ft),Ge&&(e.directives=Ge),Ze&&of(e)}function Pp(e,t,n=En){xe(e)&&(e=ba(e));for(const r in e){const s=e[r];let i;tt(s)?"default"in s?i=Dn(s.from||r,s.default,!0):i=Dn(s.from||r):i=Dn(s),Kt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function oc(e,t,n){On(xe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ff(e,t,n,r){let s=r.includes(".")?Ef(n,r):()=>n[r];if(vt(e)){const i=t[e];Te(i)&&Ei(s,i)}else if(Te(e))Ei(s,e.bind(n));else if(tt(e))if(xe(e))e.forEach(i=>ff(i,t,n,r));else{const i=Te(e.handler)?e.handler.bind(n):t[e.handler];Te(i)&&Ei(s,i,e)}}function ol(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,c=i.get(t);let f;return c?f=c:!s.length&&!n&&!r?f=t:(f={},s.length&&s.forEach(p=>Fi(f,p,a,!0)),Fi(f,t,a)),tt(t)&&i.set(t,f),f}function Fi(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Fi(e,i,n,!0),s&&s.forEach(a=>Fi(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const c=Mp[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const Mp={data:ac,props:lc,emits:lc,methods:_s,computed:_s,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:_s,directives:_s,watch:Ap,provide:ac,inject:Ip};function ac(e,t){return t?e?function(){return Mt(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function Ip(e,t){return _s(ba(e),ba(t))}function ba(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function zt(e,t){return e?[...new Set([].concat(e,t))]:t}function _s(e,t){return e?Mt(Object.create(null),e,t):t}function lc(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:Mt(Object.create(null),ic(e),ic(t??{})):t}function Ap(e,t){if(!e)return t;if(!t)return e;const n=Mt(Object.create(null),e);for(const r in t)n[r]=zt(e[r],t[r]);return n}function df(){return{app:null,config:{isNativeTag:yh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kp=0;function Rp(e,t){return function(r,s=null){Te(r)||(r=Mt({},r)),s!=null&&!tt(s)&&(s=null);const i=df(),a=new WeakSet,c=[];let f=!1;const p=i.app={_uid:kp++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:pm,get config(){return i.config},set config(h){},use(h,...g){return a.has(h)||(h&&Te(h.install)?(a.add(h),h.install(p,...g)):Te(h)&&(a.add(h),h(p,...g))),p},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),p},component(h,g){return g?(i.components[h]=g,p):i.components[h]},directive(h,g){return g?(i.directives[h]=g,p):i.directives[h]},mount(h,g,w){if(!f){const D=p._ceVNode||Ee(r,s);return D.appContext=i,w===!0?w="svg":w===!1&&(w=void 0),g&&t?t(D,h):e(D,h,w),f=!0,p._container=h,h.__vue_app__=p,ro(D.component)}},onUnmount(h){c.push(h)},unmount(){f&&(On(c,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(h,g){return i.provides[h]=g,p},runWithContext(h){const g=zr;zr=p;try{return h()}finally{zr=g}}};return p}}let zr=null;function Ci(e,t){if(qt){let n=qt.provides;const r=qt.parent&&qt.parent.provides;r===n&&(n=qt.provides=Object.create(r)),n[e]=t}}function Dn(e,t,n=!1){const r=qt||Rt;if(r||zr){const s=zr?zr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Te(t)?t.call(r&&r.proxy):t}}const hf={},pf=()=>Object.create(hf),mf=e=>Object.getPrototypeOf(e)===hf;function Np(e,t,n,r=!1){const s={},i=pf();e.propsDefaults=Object.create(null),gf(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Gu(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function $p(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,c=Ye(s),[f]=e.propsOptions;let p=!1;if((r||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let g=0;g<h.length;g++){let w=h[g];if(to(e.emitsOptions,w))continue;const D=t[w];if(f)if(Xe(i,w))D!==i[w]&&(i[w]=D,p=!0);else{const R=cn(w);s[R]=wa(f,c,R,D,e,!1)}else D!==i[w]&&(i[w]=D,p=!0)}}}else{gf(e,t,s,i)&&(p=!0);let h;for(const g in c)(!t||!Xe(t,g)&&((h=sr(g))===g||!Xe(t,h)))&&(f?n&&(n[g]!==void 0||n[h]!==void 0)&&(s[g]=wa(f,c,g,void 0,e,!0)):delete s[g]);if(i!==c)for(const g in i)(!t||!Xe(t,g))&&(delete i[g],p=!0)}p&&$n(e.attrs,"set","")}function gf(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,c;if(t)for(let f in t){if(Ss(f))continue;const p=t[f];let h;s&&Xe(s,h=cn(f))?!i||!i.includes(h)?n[h]=p:(c||(c={}))[h]=p:to(e.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,a=!0)}if(i){const f=Ye(n),p=c||Qe;for(let h=0;h<i.length;h++){const g=i[h];n[g]=wa(s,f,g,p[g],e,!Xe(p,g))}}return a}function wa(e,t,n,r,s,i){const a=e[n];if(a!=null){const c=Xe(a,"default");if(c&&r===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Te(f)){const{propsDefaults:p}=s;if(n in p)r=p[n];else{const h=Hs(s);r=p[n]=f.call(null,t),h()}}else r=f;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!c?r=!1:a[1]&&(r===""||r===sr(n))&&(r=!0))}return r}const Fp=new WeakMap;function vf(e,t,n=!1){const r=n?Fp:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},c=[];let f=!1;if(!Te(e)){const h=g=>{f=!0;const[w,D]=vf(g,t,!0);Mt(a,w),D&&c.push(...D)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!f)return tt(e)&&r.set(e,Ur),Ur;if(xe(i))for(let h=0;h<i.length;h++){const g=cn(i[h]);cc(g)&&(a[g]=Qe)}else if(i)for(const h in i){const g=cn(h);if(cc(g)){const w=i[h],D=a[g]=xe(w)||Te(w)?{type:w}:Mt({},w),R=D.type;let B=!1,j=!0;if(xe(R))for(let Z=0;Z<R.length;++Z){const G=R[Z],ee=Te(G)&&G.name;if(ee==="Boolean"){B=!0;break}else ee==="String"&&(j=!1)}else B=Te(R)&&R.name==="Boolean";D[0]=B,D[1]=j,(B||Xe(D,"default"))&&c.push(g)}}const p=[a,c];return tt(e)&&r.set(e,p),p}function cc(e){return e[0]!=="$"&&!Ss(e)}const yf=e=>e[0]==="_"||e==="$stable",al=e=>xe(e)?e.map(Cn):[Cn(e)],Lp=(e,t,n)=>{if(t._n)return t;const r=Ji((...s)=>al(t(...s)),n);return r._c=!1,r},bf=(e,t,n)=>{const r=e._ctx;for(const s in e){if(yf(s))continue;const i=e[s];if(Te(i))t[s]=Lp(s,i,r);else if(i!=null){const a=al(i);t[s]=()=>a}}},wf=(e,t)=>{const n=al(t);e.slots.default=()=>n},_f=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Bp=(e,t,n)=>{const r=e.slots=pf();if(e.vnode.shapeFlag&32){const s=t._;s?(_f(r,t,n),n&&Au(r,"_",s,!0)):bf(t,r)}else t&&wf(e,t)},Up=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=Qe;if(r.shapeFlag&32){const c=t._;c?n&&c===1?i=!1:_f(s,t,n):(i=!t.$stable,bf(t,s)),a=t}else t&&(wf(e,t),a={default:1});if(i)for(const c in s)!yf(c)&&a[c]==null&&delete s[c]},tn=em;function jp(e){return qp(e)}function qp(e,t){const n=Yi();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:c,createComment:f,setText:p,setElementText:h,parentNode:g,nextSibling:w,setScopeId:D=En,insertStaticContent:R}=e,B=(_,x,N,X=null,z=null,Q=null,fe=void 0,oe=null,te=!!x.dynamicChildren)=>{if(_===x)return;_&&!ps(_,x)&&(X=Y(_),bt(_,z,Q,!0),_=null),x.patchFlag===-2&&(te=!1,x.dynamicChildren=null);const{type:J,ref:we,shapeFlag:he}=x;switch(J){case no:j(_,x,N,X);break;case rr:Z(_,x,N,X);break;case Di:_==null&&G(x,N,X,fe);break;case Ce:ft(_,x,N,X,z,Q,fe,oe,te);break;default:he&1?be(_,x,N,X,z,Q,fe,oe,te):he&6?Ge(_,x,N,X,z,Q,fe,oe,te):(he&64||he&128)&&J.process(_,x,N,X,z,Q,fe,oe,te,ye)}we!=null&&z&&$i(we,_&&_.ref,Q,x||_,!x)},j=(_,x,N,X)=>{if(_==null)r(x.el=c(x.children),N,X);else{const z=x.el=_.el;x.children!==_.children&&p(z,x.children)}},Z=(_,x,N,X)=>{_==null?r(x.el=f(x.children||""),N,X):x.el=_.el},G=(_,x,N,X)=>{[_.el,_.anchor]=R(_.children,x,N,X,_.el,_.anchor)},ee=({el:_,anchor:x},N,X)=>{let z;for(;_&&_!==x;)z=w(_),r(_,N,X),_=z;r(x,N,X)},ie=({el:_,anchor:x})=>{let N;for(;_&&_!==x;)N=w(_),s(_),_=N;s(x)},be=(_,x,N,X,z,Q,fe,oe,te)=>{x.type==="svg"?fe="svg":x.type==="math"&&(fe="mathml"),_==null?K(x,N,X,z,Q,fe,oe,te):Ze(_,x,z,Q,fe,oe,te)},K=(_,x,N,X,z,Q,fe,oe)=>{let te,J;const{props:we,shapeFlag:he,transition:ge,dirs:_e}=_;if(te=_.el=a(_.type,Q,we&&we.is,we),he&8?h(te,_.children):he&16&&Ae(_.children,te,null,X,z,Zo(_,Q),fe,oe),_e&&pr(_,null,X,"created"),ue(te,_,_.scopeId,fe,X),we){for(const Ke in we)Ke!=="value"&&!Ss(Ke)&&i(te,Ke,null,we[Ke],Q,X);"value"in we&&i(te,"value",null,we.value,Q),(J=we.onVnodeBeforeMount)&&_n(J,X,_)}_e&&pr(_,null,X,"beforeMount");const ke=Vp(z,ge);ke&&ge.beforeEnter(te),r(te,x,N),((J=we&&we.onVnodeMounted)||ke||_e)&&tn(()=>{J&&_n(J,X,_),ke&&ge.enter(te),_e&&pr(_,null,X,"mounted")},z)},ue=(_,x,N,X,z)=>{if(N&&D(_,N),X)for(let Q=0;Q<X.length;Q++)D(_,X[Q]);if(z){let Q=z.subTree;if(x===Q||Tf(Q.type)&&(Q.ssContent===x||Q.ssFallback===x)){const fe=z.vnode;ue(_,fe,fe.scopeId,fe.slotScopeIds,z.parent)}}},Ae=(_,x,N,X,z,Q,fe,oe,te=0)=>{for(let J=te;J<_.length;J++){const we=_[J]=oe?Gn(_[J]):Cn(_[J]);B(null,we,x,N,X,z,Q,fe,oe)}},Ze=(_,x,N,X,z,Q,fe)=>{const oe=x.el=_.el;let{patchFlag:te,dynamicChildren:J,dirs:we}=x;te|=_.patchFlag&16;const he=_.props||Qe,ge=x.props||Qe;let _e;if(N&&mr(N,!1),(_e=ge.onVnodeBeforeUpdate)&&_n(_e,N,x,_),we&&pr(x,_,N,"beforeUpdate"),N&&mr(N,!0),(he.innerHTML&&ge.innerHTML==null||he.textContent&&ge.textContent==null)&&h(oe,""),J?ct(_.dynamicChildren,J,oe,N,X,Zo(x,z),Q):fe||Oe(_,x,oe,null,N,X,Zo(x,z),Q,!1),te>0){if(te&16)yt(oe,he,ge,N,z);else if(te&2&&he.class!==ge.class&&i(oe,"class",null,ge.class,z),te&4&&i(oe,"style",he.style,ge.style,z),te&8){const ke=x.dynamicProps;for(let Ke=0;Ke<ke.length;Ke++){const Ve=ke[Ke],Ct=he[Ve],st=ge[Ve];(st!==Ct||Ve==="value")&&i(oe,Ve,Ct,st,z,N)}}te&1&&_.children!==x.children&&h(oe,x.children)}else!fe&&J==null&&yt(oe,he,ge,N,z);((_e=ge.onVnodeUpdated)||we)&&tn(()=>{_e&&_n(_e,N,x,_),we&&pr(x,_,N,"updated")},X)},ct=(_,x,N,X,z,Q,fe)=>{for(let oe=0;oe<x.length;oe++){const te=_[oe],J=x[oe],we=te.el&&(te.type===Ce||!ps(te,J)||te.shapeFlag&70)?g(te.el):N;B(te,J,we,null,X,z,Q,fe,!0)}},yt=(_,x,N,X,z)=>{if(x!==N){if(x!==Qe)for(const Q in x)!Ss(Q)&&!(Q in N)&&i(_,Q,x[Q],null,z,X);for(const Q in N){if(Ss(Q))continue;const fe=N[Q],oe=x[Q];fe!==oe&&Q!=="value"&&i(_,Q,oe,fe,z,X)}"value"in N&&i(_,"value",x.value,N.value,z)}},ft=(_,x,N,X,z,Q,fe,oe,te)=>{const J=x.el=_?_.el:c(""),we=x.anchor=_?_.anchor:c("");let{patchFlag:he,dynamicChildren:ge,slotScopeIds:_e}=x;_e&&(oe=oe?oe.concat(_e):_e),_==null?(r(J,N,X),r(we,N,X),Ae(x.children||[],N,we,z,Q,fe,oe,te)):he>0&&he&64&&ge&&_.dynamicChildren?(ct(_.dynamicChildren,ge,N,z,Q,fe,oe),(x.key!=null||z&&x===z.subTree)&&Sf(_,x,!0)):Oe(_,x,N,we,z,Q,fe,oe,te)},Ge=(_,x,N,X,z,Q,fe,oe,te)=>{x.slotScopeIds=oe,_==null?x.shapeFlag&512?z.ctx.activate(x,N,X,fe,te):xt(x,N,X,z,Q,fe,te):nt(_,x,te)},xt=(_,x,N,X,z,Q,fe)=>{const oe=_.component=am(_,X,z);if(af(_)&&(oe.ctx.renderer=ye),lm(oe,!1,fe),oe.asyncDep){if(z&&z.registerDep(oe,ze,fe),!_.el){const te=oe.subTree=Ee(rr);Z(null,te,x,N)}}else ze(oe,_,x,N,z,Q,fe)},nt=(_,x,N)=>{const X=x.component=_.component;if(Jp(_,x,N))if(X.asyncDep&&!X.asyncResolved){Be(X,x,N);return}else X.next=x,X.update();else x.el=_.el,X.vnode=x},ze=(_,x,N,X,z,Q,fe)=>{const oe=()=>{if(_.isMounted){let{next:he,bu:ge,u:_e,parent:ke,vnode:Ke}=_;{const At=xf(_);if(At){he&&(he.el=Ke.el,Be(_,he,fe)),At.asyncDep.then(()=>{_.isUnmounted||oe()});return}}let Ve=he,Ct;mr(_,!1),he?(he.el=Ke.el,Be(_,he,fe)):he=Ke,ge&&xi(ge),(Ct=he.props&&he.props.onVnodeBeforeUpdate)&&_n(Ct,ke,he,Ke),mr(_,!0);const st=ea(_),$t=_.subTree;_.subTree=st,B($t,st,g($t.el),Y($t),_,z,Q),he.el=st.el,Ve===null&&Zp(_,st.el),_e&&tn(_e,z),(Ct=he.props&&he.props.onVnodeUpdated)&&tn(()=>_n(Ct,ke,he,Ke),z)}else{let he;const{el:ge,props:_e}=x,{bm:ke,m:Ke,parent:Ve,root:Ct,type:st}=_,$t=Hr(x);if(mr(_,!1),ke&&xi(ke),!$t&&(he=_e&&_e.onVnodeBeforeMount)&&_n(he,Ve,x),mr(_,!0),ge&&Se){const At=()=>{_.subTree=ea(_),Se(ge,_.subTree,_,z,null)};$t&&st.__asyncHydrate?st.__asyncHydrate(ge,_,At):At()}else{Ct.ce&&Ct.ce._injectChildStyle(st);const At=_.subTree=ea(_);B(null,At,N,X,_,z,Q),x.el=At.el}if(Ke&&tn(Ke,z),!$t&&(he=_e&&_e.onVnodeMounted)){const At=x;tn(()=>_n(he,Ve,At),z)}(x.shapeFlag&256||Ve&&Hr(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&_.a&&tn(_.a,z),_.isMounted=!0,x=N=X=null}};_.scope.on();const te=_.effect=new $u(oe);_.scope.off();const J=_.update=te.run.bind(te),we=_.job=te.runIfDirty.bind(te);we.i=_,we.id=_.uid,te.scheduler=()=>sl(we),mr(_,!0),J()},Be=(_,x,N)=>{x.component=_;const X=_.vnode.props;_.vnode=x,_.next=null,$p(_,x.props,X,N),Up(_,x.children,N),ir(),rc(_),or()},Oe=(_,x,N,X,z,Q,fe,oe,te=!1)=>{const J=_&&_.children,we=_?_.shapeFlag:0,he=x.children,{patchFlag:ge,shapeFlag:_e}=x;if(ge>0){if(ge&128){dt(J,he,N,X,z,Q,fe,oe,te);return}else if(ge&256){mt(J,he,N,X,z,Q,fe,oe,te);return}}_e&8?(we&16&&wt(J,z,Q),he!==J&&h(N,he)):we&16?_e&16?dt(J,he,N,X,z,Q,fe,oe,te):wt(J,z,Q,!0):(we&8&&h(N,""),_e&16&&Ae(he,N,X,z,Q,fe,oe,te))},mt=(_,x,N,X,z,Q,fe,oe,te)=>{_=_||Ur,x=x||Ur;const J=_.length,we=x.length,he=Math.min(J,we);let ge;for(ge=0;ge<he;ge++){const _e=x[ge]=te?Gn(x[ge]):Cn(x[ge]);B(_[ge],_e,N,null,z,Q,fe,oe,te)}J>we?wt(_,z,Q,!0,!1,he):Ae(x,N,X,z,Q,fe,oe,te,he)},dt=(_,x,N,X,z,Q,fe,oe,te)=>{let J=0;const we=x.length;let he=_.length-1,ge=we-1;for(;J<=he&&J<=ge;){const _e=_[J],ke=x[J]=te?Gn(x[J]):Cn(x[J]);if(ps(_e,ke))B(_e,ke,N,null,z,Q,fe,oe,te);else break;J++}for(;J<=he&&J<=ge;){const _e=_[he],ke=x[ge]=te?Gn(x[ge]):Cn(x[ge]);if(ps(_e,ke))B(_e,ke,N,null,z,Q,fe,oe,te);else break;he--,ge--}if(J>he){if(J<=ge){const _e=ge+1,ke=_e<we?x[_e].el:X;for(;J<=ge;)B(null,x[J]=te?Gn(x[J]):Cn(x[J]),N,ke,z,Q,fe,oe,te),J++}}else if(J>ge)for(;J<=he;)bt(_[J],z,Q,!0),J++;else{const _e=J,ke=J,Ke=new Map;for(J=ke;J<=ge;J++){const _t=x[J]=te?Gn(x[J]):Cn(x[J]);_t.key!=null&&Ke.set(_t.key,J)}let Ve,Ct=0;const st=ge-ke+1;let $t=!1,At=0;const Xt=new Array(st);for(J=0;J<st;J++)Xt[J]=0;for(J=_e;J<=he;J++){const _t=_[J];if(Ct>=st){bt(_t,z,Q,!0);continue}let Et;if(_t.key!=null)Et=Ke.get(_t.key);else for(Ve=ke;Ve<=ge;Ve++)if(Xt[Ve-ke]===0&&ps(_t,x[Ve])){Et=Ve;break}Et===void 0?bt(_t,z,Q,!0):(Xt[Et-ke]=J+1,Et>=At?At=Et:$t=!0,B(_t,x[Et],N,null,z,Q,fe,oe,te),Ct++)}const ve=$t?Kp(Xt):Ur;for(Ve=ve.length-1,J=st-1;J>=0;J--){const _t=ke+J,Et=x[_t],ar=_t+1<we?x[_t+1].el:X;Xt[J]===0?B(null,Et,N,ar,z,Q,fe,oe,te):$t&&(Ve<0||J!==ve[Ve]?It(Et,N,ar,2):Ve--)}}},It=(_,x,N,X,z=null)=>{const{el:Q,type:fe,transition:oe,children:te,shapeFlag:J}=_;if(J&6){It(_.component.subTree,x,N,X);return}if(J&128){_.suspense.move(x,N,X);return}if(J&64){fe.move(_,x,N,ye);return}if(fe===Ce){r(Q,x,N);for(let he=0;he<te.length;he++)It(te[he],x,N,X);r(_.anchor,x,N);return}if(fe===Di){ee(_,x,N);return}if(X!==2&&J&1&&oe)if(X===0)oe.beforeEnter(Q),r(Q,x,N),tn(()=>oe.enter(Q),z);else{const{leave:he,delayLeave:ge,afterLeave:_e}=oe,ke=()=>r(Q,x,N),Ke=()=>{he(Q,()=>{ke(),_e&&_e()})};ge?ge(Q,ke,Ke):Ke()}else r(Q,x,N)},bt=(_,x,N,X=!1,z=!1)=>{const{type:Q,props:fe,ref:oe,children:te,dynamicChildren:J,shapeFlag:we,patchFlag:he,dirs:ge,cacheIndex:_e}=_;if(he===-2&&(z=!1),oe!=null&&$i(oe,null,N,_,!0),_e!=null&&(x.renderCache[_e]=void 0),we&256){x.ctx.deactivate(_);return}const ke=we&1&&ge,Ke=!Hr(_);let Ve;if(Ke&&(Ve=fe&&fe.onVnodeBeforeUnmount)&&_n(Ve,x,_),we&6)fn(_.component,N,X);else{if(we&128){_.suspense.unmount(N,X);return}ke&&pr(_,null,x,"beforeUnmount"),we&64?_.type.remove(_,x,N,ye,X):J&&!J.hasOnce&&(Q!==Ce||he>0&&he&64)?wt(J,x,N,!1,!0):(Q===Ce&&he&384||!z&&we&16)&&wt(te,x,N),X&&Nt(_)}(Ke&&(Ve=fe&&fe.onVnodeUnmounted)||ke)&&tn(()=>{Ve&&_n(Ve,x,_),ke&&pr(_,null,x,"unmounted")},N)},Nt=_=>{const{type:x,el:N,anchor:X,transition:z}=_;if(x===Ce){un(N,X);return}if(x===Di){ie(_);return}const Q=()=>{s(N),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(_.shapeFlag&1&&z&&!z.persisted){const{leave:fe,delayLeave:oe}=z,te=()=>fe(N,Q);oe?oe(_.el,Q,te):te()}else Q()},un=(_,x)=>{let N;for(;_!==x;)N=w(_),s(_),_=N;s(x)},fn=(_,x,N)=>{const{bum:X,scope:z,job:Q,subTree:fe,um:oe,m:te,a:J}=_;uc(te),uc(J),X&&xi(X),z.stop(),Q&&(Q.flags|=8,bt(fe,_,x,N)),oe&&tn(oe,x),tn(()=>{_.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},wt=(_,x,N,X=!1,z=!1,Q=0)=>{for(let fe=Q;fe<_.length;fe++)bt(_[fe],x,N,X,z)},Y=_=>{if(_.shapeFlag&6)return Y(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const x=w(_.anchor||_.el),N=x&&x[cp];return N?w(N):x};let pe=!1;const V=(_,x,N)=>{_==null?x._vnode&&bt(x._vnode,null,null,!0):B(x._vnode||null,_,x,null,null,null,N),x._vnode=_,pe||(pe=!0,rc(),nf(),pe=!1)},ye={p:B,um:bt,m:It,r:Nt,mt:xt,mc:Ae,pc:Oe,pbc:ct,n:Y,o:e};let qe,Se;return{render:V,hydrate:qe,createApp:Rp(V,qe)}}function Zo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function mr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Vp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Sf(e,t,n=!1){const r=e.children,s=t.children;if(xe(r)&&xe(s))for(let i=0;i<r.length;i++){const a=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=Gn(s[i]),c.el=a.el),!n&&c.patchFlag!==-2&&Sf(a,c)),c.type===no&&(c.el=a.el)}}function Kp(e){const t=e.slice(),n=[0];let r,s,i,a,c;const f=e.length;for(r=0;r<f;r++){const p=e[r];if(p!==0){if(s=n[n.length-1],e[s]<p){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)c=i+a>>1,e[n[c]]<p?i=c+1:a=c;p<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function xf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:xf(t)}function uc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Hp=Symbol.for("v-scx"),zp=()=>Dn(Hp);function Ei(e,t,n){return Cf(e,t,n)}function Cf(e,t,n=Qe){const{immediate:r,deep:s,flush:i,once:a}=n,c=Mt({},n),f=t&&r||!t&&i!=="post";let p;if($s){if(i==="sync"){const D=zp();p=D.__watcherHandles||(D.__watcherHandles=[])}else if(!f){const D=()=>{};return D.stop=En,D.resume=En,D.pause=En,D}}const h=qt;c.call=(D,R,B)=>On(D,h,R,B);let g=!1;i==="post"?c.scheduler=D=>{tn(D,h&&h.suspense)}:i!=="sync"&&(g=!0,c.scheduler=(D,R)=>{R?D():sl(D)}),c.augmentJob=D=>{t&&(D.flags|=4),g&&(D.flags|=2,h&&(D.id=h.uid,D.i=h))};const w=ip(e,t,c);return $s&&(p?p.push(w):f&&w()),w}function Wp(e,t,n){const r=this.proxy,s=vt(e)?e.includes(".")?Ef(r,e):()=>r[e]:e.bind(r,r);let i;Te(t)?i=t:(i=t.handler,n=t);const a=Hs(this),c=Cf(s,i.bind(r),n);return a(),c}function Ef(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Yp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${cn(t)}Modifiers`]||e[`${sr(t)}Modifiers`];function Xp(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Qe;let s=n;const i=t.startsWith("update:"),a=i&&Yp(r,t.slice(7));a&&(a.trim&&(s=n.map(h=>vt(h)?h.trim():h)),a.number&&(s=n.map(Ai)));let c,f=r[c=Wo(t)]||r[c=Wo(cn(t))];!f&&i&&(f=r[c=Wo(sr(t))]),f&&On(f,e,6,s);const p=r[c+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,On(p,e,6,s)}}function Df(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},c=!1;if(!Te(e)){const f=p=>{const h=Df(p,t,!0);h&&(c=!0,Mt(a,h))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!i&&!c?(tt(e)&&r.set(e,null),null):(xe(i)?i.forEach(f=>a[f]=null):Mt(a,i),tt(e)&&r.set(e,a),a)}function to(e,t){return!e||!Ki(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xe(e,t[0].toLowerCase()+t.slice(1))||Xe(e,sr(t))||Xe(e,t))}function ea(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:c,emit:f,render:p,renderCache:h,props:g,data:w,setupState:D,ctx:R,inheritAttrs:B}=e,j=Ni(e);let Z,G;try{if(n.shapeFlag&4){const ie=s||r,be=ie;Z=Cn(p.call(be,ie,h,g,D,w,R)),G=c}else{const ie=t;Z=Cn(ie.length>1?ie(g,{attrs:c,slots:a,emit:f}):ie(g,null)),G=t.props?c:Gp(c)}}catch(ie){Ds.length=0,Qi(ie,e,1),Z=Ee(rr)}let ee=Z;if(G&&B!==!1){const ie=Object.keys(G),{shapeFlag:be}=ee;ie.length&&be&7&&(i&&ie.some(Wa)&&(G=Qp(G,i)),ee=Jr(ee,G,!1,!0))}return n.dirs&&(ee=Jr(ee,null,!1,!0),ee.dirs=ee.dirs?ee.dirs.concat(n.dirs):n.dirs),n.transition&&il(ee,n.transition),Z=ee,Ni(j),Z}const Gp=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ki(n))&&((t||(t={}))[n]=e[n]);return t},Qp=(e,t)=>{const n={};for(const r in e)(!Wa(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Jp(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:c,patchFlag:f}=t,p=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?fc(r,a,p):!!a;if(f&8){const h=t.dynamicProps;for(let g=0;g<h.length;g++){const w=h[g];if(a[w]!==r[w]&&!to(p,w))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?fc(r,a,p):!0:!!a;return!1}function fc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!to(n,i))return!0}return!1}function Zp({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Tf=e=>e.__isSuspense;function em(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):lp(e)}const Ce=Symbol.for("v-fgt"),no=Symbol.for("v-txt"),rr=Symbol.for("v-cmt"),Di=Symbol.for("v-stc"),Ds=[];let rn=null;function q(e=!1){Ds.push(rn=e?null:[])}function tm(){Ds.pop(),rn=Ds[Ds.length-1]||null}let Rs=1;function dc(e,t=!1){Rs+=e,e<0&&rn&&t&&(rn.hasOnce=!0)}function Of(e){return e.dynamicChildren=Rs>0?rn||Ur:null,tm(),Rs>0&&rn&&rn.push(e),e}function W(e,t,n,r,s,i){return Of(b(e,t,n,r,s,i,!0))}function gn(e,t,n,r,s){return Of(Ee(e,t,n,r,s,!0))}function Ns(e){return e?e.__v_isVNode===!0:!1}function ps(e,t){return e.type===t.type&&e.key===t.key}const Pf=({key:e})=>e??null,Ti=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?vt(e)||Kt(e)||Te(e)?{i:Rt,r:e,k:t,f:!!n}:e:null);function b(e,t=null,n=null,r=0,s=null,i=e===Ce?0:1,a=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Pf(t),ref:t&&Ti(t),scopeId:sf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Rt};return c?(ll(f,n),i&128&&e.normalize(f)):n&&(f.shapeFlag|=vt(n)?8:16),Rs>0&&!a&&rn&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&rn.push(f),f}const Ee=nm;function nm(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Cp)&&(e=rr),Ns(e)){const c=Jr(e,t,!0);return n&&ll(c,n),Rs>0&&!i&&rn&&(c.shapeFlag&6?rn[rn.indexOf(e)]=c:rn.push(c)),c.patchFlag=-2,c}if(hm(e)&&(e=e.__vccOpts),t){t=rm(t);let{class:c,style:f}=t;c&&!vt(c)&&(t.class=Bn(c)),tt(f)&&(nl(f)&&!xe(f)&&(f=Mt({},f)),t.style=Gr(f))}const a=vt(e)?1:Tf(e)?128:up(e)?64:tt(e)?4:Te(e)?2:0;return b(e,t,n,r,s,a,i,!0)}function rm(e){return e?nl(e)||mf(e)?Mt({},e):e:null}function Jr(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:c,transition:f}=e,p=t?sm(s||{},t):s,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Pf(p),ref:t&&t.ref?n&&i?xe(i)?i.concat(Ti(t)):[i,Ti(t)]:Ti(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jr(e.ssContent),ssFallback:e.ssFallback&&Jr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&r&&il(h,f.clone(h)),h}function Yt(e=" ",t=0){return Ee(no,null,e,t)}function Mf(e,t){const n=Ee(Di,null,e);return n.staticCount=t,n}function lt(e="",t=!1){return t?(q(),gn(rr,null,e)):Ee(rr,null,e)}function Cn(e){return e==null||typeof e=="boolean"?Ee(rr):xe(e)?Ee(Ce,null,e.slice()):Ns(e)?Gn(e):Ee(no,null,String(e))}function Gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jr(e)}function ll(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(xe(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),ll(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!mf(t)?t._ctx=Rt:s===3&&Rt&&(Rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:Rt},n=32):(t=String(t),r&64?(n=16,t=[Yt(t)]):n=8);e.children=t,e.shapeFlag|=n}function sm(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Bn([t.class,r.class]));else if(s==="style")t.style=Gr([t.style,r.style]);else if(Ki(s)){const i=t[s],a=r[s];a&&i!==a&&!(xe(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function _n(e,t,n,r=null){On(e,t,7,[n,r])}const im=df();let om=0;function am(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||im,i={uid:om++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ih(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vf(r,s),emitsOptions:Df(r,s),emit:null,emitted:null,propsDefaults:Qe,inheritAttrs:r.inheritAttrs,ctx:Qe,data:Qe,props:Qe,attrs:Qe,slots:Qe,refs:Qe,setupState:Qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Xp.bind(null,i),e.ce&&e.ce(i),i}let qt=null,Li,_a;{const e=Yi(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};Li=t("__VUE_INSTANCE_SETTERS__",n=>qt=n),_a=t("__VUE_SSR_SETTERS__",n=>$s=n)}const Hs=e=>{const t=qt;return Li(e),e.scope.on(),()=>{e.scope.off(),Li(t)}},hc=()=>{qt&&qt.scope.off(),Li(null)};function If(e){return e.vnode.shapeFlag&4}let $s=!1;function lm(e,t=!1,n=!1){t&&_a(t);const{props:r,children:s}=e.vnode,i=If(e);Np(e,r,i,t),Bp(e,s,n);const a=i?cm(e,t):void 0;return t&&_a(!1),a}function cm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Tp);const{setup:r}=n;if(r){ir();const s=e.setupContext=r.length>1?fm(e):null,i=Hs(e),a=Ks(r,e,0,[e.props,s]),c=Pu(a);if(or(),i(),(c||e.sp)&&!Hr(e)&&of(e),c){if(a.then(hc,hc),t)return a.then(f=>{pc(e,f,t)}).catch(f=>{Qi(f,e,0)});e.asyncDep=a}else pc(e,a,t)}else Af(e,t)}function pc(e,t,n){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:tt(t)&&(e.setupState=Zu(t)),Af(e,n)}let mc;function Af(e,t,n){const r=e.type;if(!e.render){if(!t&&mc&&!r.render){const s=r.template||ol(e).template;if(s){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:f}=r,p=Mt(Mt({isCustomElement:i,delimiters:c},a),f);r.render=mc(s,p)}}e.render=r.render||En}{const s=Hs(e);ir();try{Op(e)}finally{or(),s()}}}const um={get(e,t){return Ut(e,"get",""),e[t]}};function fm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,um),slots:e.slots,emit:e.emit,expose:t}}function ro(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Zu(Qh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Es)return Es[n](e)},has(t,n){return n in t||n in Es}})):e.proxy}function dm(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function hm(e){return Te(e)&&"__vccOpts"in e}const hn=(e,t)=>rp(e,t,$s);function kf(e,t,n){const r=arguments.length;return r===2?tt(t)&&!xe(t)?Ns(t)?Ee(e,null,[t]):Ee(e,t):Ee(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ns(n)&&(n=[n]),Ee(e,t,n))}const pm="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sa;const gc=typeof window<"u"&&window.trustedTypes;if(gc)try{Sa=gc.createPolicy("vue",{createHTML:e=>e})}catch{}const Rf=Sa?e=>Sa.createHTML(e):e=>e,mm="http://www.w3.org/2000/svg",gm="http://www.w3.org/1998/Math/MathML",Nn=typeof document<"u"?document:null,vc=Nn&&Nn.createElement("template"),vm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Nn.createElementNS(mm,e):t==="mathml"?Nn.createElementNS(gm,e):n?Nn.createElement(e,{is:n}):Nn.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Nn.createTextNode(e),createComment:e=>Nn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{vc.innerHTML=Rf(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const c=vc.content;if(r==="svg"||r==="mathml"){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ym=Symbol("_vtc");function bm(e,t,n){const r=e[ym];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const yc=Symbol("_vod"),wm=Symbol("_vsh"),_m=Symbol(""),Sm=/(^|;)\s*display\s*:/;function xm(e,t,n){const r=e.style,s=vt(n);let i=!1;if(n&&!s){if(t)if(vt(t))for(const a of t.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&Oi(r,c,"")}else for(const a in t)n[a]==null&&Oi(r,a,"");for(const a in n)a==="display"&&(i=!0),Oi(r,a,n[a])}else if(s){if(t!==n){const a=r[_m];a&&(n+=";"+a),r.cssText=n,i=Sm.test(n)}}else t&&e.removeAttribute("style");yc in e&&(e[yc]=i?r.display:"",e[wm]&&(r.display="none"))}const bc=/\s*!important$/;function Oi(e,t,n){if(xe(n))n.forEach(r=>Oi(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Cm(e,t);bc.test(n)?e.setProperty(sr(r),n.replace(bc,""),"important"):e[r]=n}}const wc=["Webkit","Moz","ms"],ta={};function Cm(e,t){const n=ta[t];if(n)return n;let r=cn(t);if(r!=="filter"&&r in e)return ta[t]=r;r=Wi(r);for(let s=0;s<wc.length;s++){const i=wc[s]+r;if(i in e)return ta[t]=i}return t}const _c="http://www.w3.org/1999/xlink";function Sc(e,t,n,r,s,i=Oh(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(_c,t.slice(6,t.length)):e.setAttributeNS(_c,t,n):n==null||i&&!ku(n)?e.removeAttribute(t):e.setAttribute(t,i?"":mn(n)?String(n):n)}function xc(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Rf(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?e.getAttribute("value")||"":e.value,f=n==null?e.type==="checkbox"?"on":"":String(n);(c!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=ku(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function Jn(e,t,n,r){e.addEventListener(t,n,r)}function Em(e,t,n,r){e.removeEventListener(t,n,r)}const Cc=Symbol("_vei");function Dm(e,t,n,r,s=null){const i=e[Cc]||(e[Cc]={}),a=i[t];if(r&&a)a.value=r;else{const[c,f]=Tm(t);if(r){const p=i[t]=Mm(r,s);Jn(e,c,p,f)}else a&&(Em(e,c,a,f),i[t]=void 0)}}const Ec=/(?:Once|Passive|Capture)$/;function Tm(e){let t;if(Ec.test(e)){t={};let r;for(;r=e.match(Ec);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sr(e.slice(2)),t]}let na=0;const Om=Promise.resolve(),Pm=()=>na||(Om.then(()=>na=0),na=Date.now());function Mm(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;On(Im(r,n.value),t,5,[r])};return n.value=e,n.attached=Pm(),n}function Im(e,t){if(xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Dc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Am=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?bm(e,r,a):t==="style"?xm(e,n,r):Ki(t)?Wa(t)||Dm(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):km(e,t,r,a))?(xc(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Sc(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!vt(r))?xc(e,cn(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Sc(e,t,r,a))};function km(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Dc(t)&&Te(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Dc(t)&&vt(n)?!1:t in e}const Zr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?n=>xi(t,n):t};function Rm(e){e.target.composing=!0}function Tc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ln=Symbol("_assign"),Pt={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Ln]=Zr(s);const i=r||s.props&&s.props.type==="number";Jn(e,t?"change":"input",a=>{if(a.target.composing)return;let c=e.value;n&&(c=c.trim()),i&&(c=Ai(c)),e[Ln](c)}),n&&Jn(e,"change",()=>{e.value=e.value.trim()}),t||(Jn(e,"compositionstart",Rm),Jn(e,"compositionend",Tc),Jn(e,"change",Tc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[Ln]=Zr(a),e.composing)return;const c=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ai(e.value):e.value,f=t??"";c!==f&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===f)||(e.value=f))}},xa={created(e,{value:t},n){e.checked=Qr(t,n.props.value),e[Ln]=Zr(n),Jn(e,"change",()=>{e[Ln](Fs(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Ln]=Zr(r),t!==n&&(e.checked=Qr(t,r.props.value))}},Nm={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=Hi(t);Jn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Ai(Fs(a)):Fs(a));e[Ln](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,rl(()=>{e._assigning=!1})}),e[Ln]=Zr(r)},mounted(e,{value:t}){Oc(e,t)},beforeUpdate(e,t,n){e[Ln]=Zr(n)},updated(e,{value:t}){e._assigning||Oc(e,t)}};function Oc(e,t){const n=e.multiple,r=xe(t);if(!(n&&!r&&!Hi(t))){for(let s=0,i=e.options.length;s<i;s++){const a=e.options[s],c=Fs(a);if(n)if(r){const f=typeof c;f==="string"||f==="number"?a.selected=t.some(p=>String(p)===String(c)):a.selected=Mh(t,c)>-1}else a.selected=t.has(c);else if(Qr(Fs(a),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Fs(e){return"_value"in e?e._value:e.value}const $m=["ctrl","shift","alt","meta"],Fm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$m.some(n=>e[`${n}Key`]&&!t.includes(n))},kt=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let a=0;a<t.length;a++){const c=Fm[t[a]];if(c&&c(s,t))return}return e(s,...i)})},Lm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bm=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=sr(s.key);if(t.some(a=>a===i||Lm[a]===i))return e(s)})},Um=Mt({patchProp:Am},vm);let Pc;function jm(){return Pc||(Pc=jp(Um))}const qm=(...e)=>{const t=jm().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Km(r);if(!s)return;const i=t._component;!Te(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,Vm(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function Vm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Km(e){return vt(e)?document.querySelector(e):e}const je=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Hm={name:"App"};function zm(e,t,n,r,s,i){const a=$e("router-view");return q(),gn(a)}const Wm=je(Hm,[["render",zm]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fr=typeof document<"u";function Nf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ym(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Nf(e.default)}const We=Object.assign;function ra(e,t){const n={};for(const r in t){const s=t[r];n[r]=vn(s)?s.map(e):e(s)}return n}const Ts=()=>{},vn=Array.isArray,$f=/#/g,Xm=/&/g,Gm=/\//g,Qm=/=/g,Jm=/\?/g,Ff=/\+/g,Zm=/%5B/g,e0=/%5D/g,Lf=/%5E/g,t0=/%60/g,Bf=/%7B/g,n0=/%7C/g,Uf=/%7D/g,r0=/%20/g;function cl(e){return encodeURI(""+e).replace(n0,"|").replace(Zm,"[").replace(e0,"]")}function s0(e){return cl(e).replace(Bf,"{").replace(Uf,"}").replace(Lf,"^")}function Ca(e){return cl(e).replace(Ff,"%2B").replace(r0,"+").replace($f,"%23").replace(Xm,"%26").replace(t0,"`").replace(Bf,"{").replace(Uf,"}").replace(Lf,"^")}function i0(e){return Ca(e).replace(Qm,"%3D")}function o0(e){return cl(e).replace($f,"%23").replace(Jm,"%3F")}function a0(e){return e==null?"":o0(e).replace(Gm,"%2F")}function Ls(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const l0=/\/$/,c0=e=>e.replace(l0,"");function sa(e,t,n="/"){let r,s={},i="",a="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(r=t.slice(0,f),i=t.slice(f+1,c>-1?c:t.length),s=e(i)),c>-1&&(r=r||t.slice(0,c),a=t.slice(c,t.length)),r=h0(r??t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:Ls(a)}}function u0(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Mc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function f0(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&es(t.matched[r],n.matched[s])&&jf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!d0(e[n],t[n]))return!1;return!0}function d0(e,t){return vn(e)?Ic(e,t):vn(t)?Ic(t,e):e===t}function Ic(e,t){return vn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function h0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const Wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bs;(function(e){e.pop="pop",e.push="push"})(Bs||(Bs={}));var Os;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Os||(Os={}));function p0(e){if(!e)if(Fr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),c0(e)}const m0=/^[^#]+#/;function g0(e,t){return e.replace(m0,"#")+t}function v0(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const so=()=>({left:window.scrollX,top:window.scrollY});function y0(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=v0(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ac(e,t){return(history.state?history.state.position-t:-1)+e}const Ea=new Map;function b0(e,t){Ea.set(e,t)}function w0(e){const t=Ea.get(e);return Ea.delete(e),t}let _0=()=>location.protocol+"//"+location.host;function qf(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let c=s.includes(e.slice(i))?e.slice(i).length:1,f=s.slice(c);return f[0]!=="/"&&(f="/"+f),Mc(f,"")}return Mc(n,e)+r+s}function S0(e,t,n,r){let s=[],i=[],a=null;const c=({state:w})=>{const D=qf(e,location),R=n.value,B=t.value;let j=0;if(w){if(n.value=D,t.value=w,a&&a===R){a=null;return}j=B?w.position-B.position:0}else r(D);s.forEach(Z=>{Z(n.value,R,{delta:j,type:Bs.pop,direction:j?j>0?Os.forward:Os.back:Os.unknown})})};function f(){a=n.value}function p(w){s.push(w);const D=()=>{const R=s.indexOf(w);R>-1&&s.splice(R,1)};return i.push(D),D}function h(){const{history:w}=window;w.state&&w.replaceState(We({},w.state,{scroll:so()}),"")}function g(){for(const w of i)w();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:f,listen:p,destroy:g}}function kc(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?so():null}}function x0(e){const{history:t,location:n}=window,r={value:qf(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(f,p,h){const g=e.indexOf("#"),w=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+f:_0()+e+f;try{t[h?"replaceState":"pushState"](p,"",w),s.value=p}catch(D){console.error(D),n[h?"replace":"assign"](w)}}function a(f,p){const h=We({},t.state,kc(s.value.back,f,s.value.forward,!0),p,{position:s.value.position});i(f,h,!0),r.value=f}function c(f,p){const h=We({},s.value,t.state,{forward:f,scroll:so()});i(h.current,h,!0);const g=We({},kc(r.value,f,null),{position:h.position+1},p);i(f,g,!1),r.value=f}return{location:r,state:s,push:c,replace:a}}function C0(e){e=p0(e);const t=x0(e),n=S0(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=We({location:"",base:e,go:r,createHref:g0.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function E0(e){return typeof e=="string"||e&&typeof e=="object"}function Vf(e){return typeof e=="string"||typeof e=="symbol"}const Kf=Symbol("");var Rc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Rc||(Rc={}));function ts(e,t){return We(new Error,{type:e,[Kf]:!0},t)}function Rn(e,t){return e instanceof Error&&Kf in e&&(t==null||!!(e.type&t))}const Nc="[^/]+?",D0={sensitive:!1,strict:!1,start:!0,end:!0},T0=/[.+*?^${}()[\]/\\]/g;function O0(e,t){const n=We({},D0,t),r=[];let s=n.start?"^":"";const i=[];for(const p of e){const h=p.length?[]:[90];n.strict&&!p.length&&(s+="/");for(let g=0;g<p.length;g++){const w=p[g];let D=40+(n.sensitive?.25:0);if(w.type===0)g||(s+="/"),s+=w.value.replace(T0,"\\$&"),D+=40;else if(w.type===1){const{value:R,repeatable:B,optional:j,regexp:Z}=w;i.push({name:R,repeatable:B,optional:j});const G=Z||Nc;if(G!==Nc){D+=10;try{new RegExp(`(${G})`)}catch(ie){throw new Error(`Invalid custom RegExp for param "${R}" (${G}): `+ie.message)}}let ee=B?`((?:${G})(?:/(?:${G}))*)`:`(${G})`;g||(ee=j&&p.length<2?`(?:/${ee})`:"/"+ee),j&&(ee+="?"),s+=ee,D+=20,j&&(D+=-8),B&&(D+=-20),G===".*"&&(D+=-50)}h.push(D)}r.push(h)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function c(p){const h=p.match(a),g={};if(!h)return null;for(let w=1;w<h.length;w++){const D=h[w]||"",R=i[w-1];g[R.name]=D&&R.repeatable?D.split("/"):D}return g}function f(p){let h="",g=!1;for(const w of e){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const D of w)if(D.type===0)h+=D.value;else if(D.type===1){const{value:R,repeatable:B,optional:j}=D,Z=R in p?p[R]:"";if(vn(Z)&&!B)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const G=vn(Z)?Z.join("/"):Z;if(!G)if(j)w.length<2&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${R}"`);h+=G}}return h||"/"}return{re:a,score:r,keys:i,parse:c,stringify:f}}function P0(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Hf(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=P0(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if($c(r))return 1;if($c(s))return-1}return s.length-r.length}function $c(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const M0={type:0,value:""},I0=/[a-zA-Z0-9_]/;function A0(e){if(!e)return[[]];if(e==="/")return[[M0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(D){throw new Error(`ERR (${n})/"${p}": ${D}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let c=0,f,p="",h="";function g(){p&&(n===0?i.push({type:0,value:p}):n===1||n===2||n===3?(i.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:p,regexp:h,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function w(){p+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&g(),a()):f===":"?(g(),n=1):w();break;case 4:w(),n=r;break;case 1:f==="("?n=2:I0.test(f)?w():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+f:n=3:h+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),g(),a(),s}function k0(e,t,n){const r=O0(A0(e.path),n),s=We(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function R0(e,t){const n=[],r=new Map;t=Uc({strict:!1,end:!0,sensitive:!1},t);function s(g){return r.get(g)}function i(g,w,D){const R=!D,B=Lc(g);B.aliasOf=D&&D.record;const j=Uc(t,g),Z=[B];if("alias"in g){const ie=typeof g.alias=="string"?[g.alias]:g.alias;for(const be of ie)Z.push(Lc(We({},B,{components:D?D.record.components:B.components,path:be,aliasOf:D?D.record:B})))}let G,ee;for(const ie of Z){const{path:be}=ie;if(w&&be[0]!=="/"){const K=w.record.path,ue=K[K.length-1]==="/"?"":"/";ie.path=w.record.path+(be&&ue+be)}if(G=k0(ie,w,j),D?D.alias.push(G):(ee=ee||G,ee!==G&&ee.alias.push(G),R&&g.name&&!Bc(G)&&a(g.name)),zf(G)&&f(G),B.children){const K=B.children;for(let ue=0;ue<K.length;ue++)i(K[ue],G,D&&D.children[ue])}D=D||G}return ee?()=>{a(ee)}:Ts}function a(g){if(Vf(g)){const w=r.get(g);w&&(r.delete(g),n.splice(n.indexOf(w),1),w.children.forEach(a),w.alias.forEach(a))}else{const w=n.indexOf(g);w>-1&&(n.splice(w,1),g.record.name&&r.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function c(){return n}function f(g){const w=F0(g,n);n.splice(w,0,g),g.record.name&&!Bc(g)&&r.set(g.record.name,g)}function p(g,w){let D,R={},B,j;if("name"in g&&g.name){if(D=r.get(g.name),!D)throw ts(1,{location:g});j=D.record.name,R=We(Fc(w.params,D.keys.filter(ee=>!ee.optional).concat(D.parent?D.parent.keys.filter(ee=>ee.optional):[]).map(ee=>ee.name)),g.params&&Fc(g.params,D.keys.map(ee=>ee.name))),B=D.stringify(R)}else if(g.path!=null)B=g.path,D=n.find(ee=>ee.re.test(B)),D&&(R=D.parse(B),j=D.record.name);else{if(D=w.name?r.get(w.name):n.find(ee=>ee.re.test(w.path)),!D)throw ts(1,{location:g,currentLocation:w});j=D.record.name,R=We({},w.params,g.params),B=D.stringify(R)}const Z=[];let G=D;for(;G;)Z.unshift(G.record),G=G.parent;return{name:j,path:B,params:R,matched:Z,meta:$0(Z)}}e.forEach(g=>i(g));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:p,removeRoute:a,clearRoutes:h,getRoutes:c,getRecordMatcher:s}}function Fc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Lc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:N0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function N0(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Bc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function $0(e){return e.reduce((t,n)=>We(t,n.meta),{})}function Uc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function F0(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Hf(e,t[i])<0?r=i:n=i+1}const s=L0(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function L0(e){let t=e;for(;t=t.parent;)if(zf(t)&&Hf(e,t)===0)return t}function zf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function B0(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ff," "),a=i.indexOf("="),c=Ls(a<0?i:i.slice(0,a)),f=a<0?null:Ls(i.slice(a+1));if(c in t){let p=t[c];vn(p)||(p=t[c]=[p]),p.push(f)}else t[c]=f}return t}function jc(e){let t="";for(let n in e){const r=e[n];if(n=i0(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(vn(r)?r.map(i=>i&&Ca(i)):[r&&Ca(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function U0(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=vn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const j0=Symbol(""),qc=Symbol(""),io=Symbol(""),Wf=Symbol(""),Da=Symbol("");function ms(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Qn(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,f)=>{const p=w=>{w===!1?f(ts(4,{from:n,to:t})):w instanceof Error?f(w):E0(w)?f(ts(2,{from:t,to:w})):(a&&r.enterCallbacks[s]===a&&typeof w=="function"&&a.push(w),c())},h=i(()=>e.call(r&&r.instances[s],t,n,p));let g=Promise.resolve(h);e.length<3&&(g=g.then(p)),g.catch(w=>f(w))})}function ia(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const c in a.components){let f=a.components[c];if(!(t!=="beforeRouteEnter"&&!a.instances[c]))if(Nf(f)){const h=(f.__vccOpts||f)[t];h&&i.push(Qn(h,n,r,a,c,s))}else{let p=f();i.push(()=>p.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${c}" at "${a.path}"`);const g=Ym(h)?h.default:h;a.mods[c]=h,a.components[c]=g;const D=(g.__vccOpts||g)[t];return D&&Qn(D,n,r,a,c,s)()}))}}return i}function Vc(e){const t=Dn(io),n=Dn(Wf),r=hn(()=>{const f=Vr(e.to);return t.resolve(f)}),s=hn(()=>{const{matched:f}=r.value,{length:p}=f,h=f[p-1],g=n.matched;if(!h||!g.length)return-1;const w=g.findIndex(es.bind(null,h));if(w>-1)return w;const D=Kc(f[p-2]);return p>1&&Kc(h)===D&&g[g.length-1].path!==D?g.findIndex(es.bind(null,f[p-2])):w}),i=hn(()=>s.value>-1&&z0(n.params,r.value.params)),a=hn(()=>s.value>-1&&s.value===n.matched.length-1&&jf(n.params,r.value.params));function c(f={}){if(H0(f)){const p=t[Vr(e.replace)?"replace":"push"](Vr(e.to)).catch(Ts);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:r,href:hn(()=>r.value.href),isActive:i,isExactActive:a,navigate:c}}function q0(e){return e.length===1?e[0]:e}const V0=Zi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Vc,setup(e,{slots:t}){const n=Gi(Vc(e)),{options:r}=Dn(io),s=hn(()=>({[Hc(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Hc(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&q0(t.default(n));return e.custom?i:kf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),K0=V0;function H0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function z0(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!vn(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function Kc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Hc=(e,t,n)=>e??t??n,W0=Zi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Dn(Da),s=hn(()=>e.route||r.value),i=Dn(qc,0),a=hn(()=>{let p=Vr(i);const{matched:h}=s.value;let g;for(;(g=h[p])&&!g.components;)p++;return p}),c=hn(()=>s.value.matched[a.value]);Ci(qc,hn(()=>a.value+1)),Ci(j0,c),Ci(Da,s);const f=Jh();return Ei(()=>[f.value,c.value,e.name],([p,h,g],[w,D,R])=>{h&&(h.instances[g]=p,D&&D!==h&&p&&p===w&&(h.leaveGuards.size||(h.leaveGuards=D.leaveGuards),h.updateGuards.size||(h.updateGuards=D.updateGuards))),p&&h&&(!D||!es(h,D)||!w)&&(h.enterCallbacks[g]||[]).forEach(B=>B(p))},{flush:"post"}),()=>{const p=s.value,h=e.name,g=c.value,w=g&&g.components[h];if(!w)return zc(n.default,{Component:w,route:p});const D=g.props[h],R=D?D===!0?p.params:typeof D=="function"?D(p):D:null,j=kf(w,We({},R,t,{onVnodeUnmounted:Z=>{Z.component.isUnmounted&&(g.instances[h]=null)},ref:f}));return zc(n.default,{Component:j,route:p})||j}}});function zc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Y0=W0;function X0(e){const t=R0(e.routes,e),n=e.parseQuery||B0,r=e.stringifyQuery||jc,s=e.history,i=ms(),a=ms(),c=ms(),f=Zh(Wn);let p=Wn;Fr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ra.bind(null,Y=>""+Y),g=ra.bind(null,a0),w=ra.bind(null,Ls);function D(Y,pe){let V,ye;return Vf(Y)?(V=t.getRecordMatcher(Y),ye=pe):ye=Y,t.addRoute(ye,V)}function R(Y){const pe=t.getRecordMatcher(Y);pe&&t.removeRoute(pe)}function B(){return t.getRoutes().map(Y=>Y.record)}function j(Y){return!!t.getRecordMatcher(Y)}function Z(Y,pe){if(pe=We({},pe||f.value),typeof Y=="string"){const x=sa(n,Y,pe.path),N=t.resolve({path:x.path},pe),X=s.createHref(x.fullPath);return We(x,N,{params:w(N.params),hash:Ls(x.hash),redirectedFrom:void 0,href:X})}let V;if(Y.path!=null)V=We({},Y,{path:sa(n,Y.path,pe.path).path});else{const x=We({},Y.params);for(const N in x)x[N]==null&&delete x[N];V=We({},Y,{params:g(x)}),pe.params=g(pe.params)}const ye=t.resolve(V,pe),qe=Y.hash||"";ye.params=h(w(ye.params));const Se=u0(r,We({},Y,{hash:s0(qe),path:ye.path})),_=s.createHref(Se);return We({fullPath:Se,hash:qe,query:r===jc?U0(Y.query):Y.query||{}},ye,{redirectedFrom:void 0,href:_})}function G(Y){return typeof Y=="string"?sa(n,Y,f.value.path):We({},Y)}function ee(Y,pe){if(p!==Y)return ts(8,{from:pe,to:Y})}function ie(Y){return ue(Y)}function be(Y){return ie(We(G(Y),{replace:!0}))}function K(Y){const pe=Y.matched[Y.matched.length-1];if(pe&&pe.redirect){const{redirect:V}=pe;let ye=typeof V=="function"?V(Y):V;return typeof ye=="string"&&(ye=ye.includes("?")||ye.includes("#")?ye=G(ye):{path:ye},ye.params={}),We({query:Y.query,hash:Y.hash,params:ye.path!=null?{}:Y.params},ye)}}function ue(Y,pe){const V=p=Z(Y),ye=f.value,qe=Y.state,Se=Y.force,_=Y.replace===!0,x=K(V);if(x)return ue(We(G(x),{state:typeof x=="object"?We({},qe,x.state):qe,force:Se,replace:_}),pe||V);const N=V;N.redirectedFrom=pe;let X;return!Se&&f0(r,ye,V)&&(X=ts(16,{to:N,from:ye}),It(ye,ye,!0,!1)),(X?Promise.resolve(X):ct(N,ye)).catch(z=>Rn(z)?Rn(z,2)?z:dt(z):Oe(z,N,ye)).then(z=>{if(z){if(Rn(z,2))return ue(We({replace:_},G(z.to),{state:typeof z.to=="object"?We({},qe,z.to.state):qe,force:Se}),pe||N)}else z=ft(N,ye,!0,_,qe);return yt(N,ye,z),z})}function Ae(Y,pe){const V=ee(Y,pe);return V?Promise.reject(V):Promise.resolve()}function Ze(Y){const pe=un.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(Y):Y()}function ct(Y,pe){let V;const[ye,qe,Se]=G0(Y,pe);V=ia(ye.reverse(),"beforeRouteLeave",Y,pe);for(const x of ye)x.leaveGuards.forEach(N=>{V.push(Qn(N,Y,pe))});const _=Ae.bind(null,Y,pe);return V.push(_),wt(V).then(()=>{V=[];for(const x of i.list())V.push(Qn(x,Y,pe));return V.push(_),wt(V)}).then(()=>{V=ia(qe,"beforeRouteUpdate",Y,pe);for(const x of qe)x.updateGuards.forEach(N=>{V.push(Qn(N,Y,pe))});return V.push(_),wt(V)}).then(()=>{V=[];for(const x of Se)if(x.beforeEnter)if(vn(x.beforeEnter))for(const N of x.beforeEnter)V.push(Qn(N,Y,pe));else V.push(Qn(x.beforeEnter,Y,pe));return V.push(_),wt(V)}).then(()=>(Y.matched.forEach(x=>x.enterCallbacks={}),V=ia(Se,"beforeRouteEnter",Y,pe,Ze),V.push(_),wt(V))).then(()=>{V=[];for(const x of a.list())V.push(Qn(x,Y,pe));return V.push(_),wt(V)}).catch(x=>Rn(x,8)?x:Promise.reject(x))}function yt(Y,pe,V){c.list().forEach(ye=>Ze(()=>ye(Y,pe,V)))}function ft(Y,pe,V,ye,qe){const Se=ee(Y,pe);if(Se)return Se;const _=pe===Wn,x=Fr?history.state:{};V&&(ye||_?s.replace(Y.fullPath,We({scroll:_&&x&&x.scroll},qe)):s.push(Y.fullPath,qe)),f.value=Y,It(Y,pe,V,_),dt()}let Ge;function xt(){Ge||(Ge=s.listen((Y,pe,V)=>{if(!fn.listening)return;const ye=Z(Y),qe=K(ye);if(qe){ue(We(qe,{replace:!0,force:!0}),ye).catch(Ts);return}p=ye;const Se=f.value;Fr&&b0(Ac(Se.fullPath,V.delta),so()),ct(ye,Se).catch(_=>Rn(_,12)?_:Rn(_,2)?(ue(We(G(_.to),{force:!0}),ye).then(x=>{Rn(x,20)&&!V.delta&&V.type===Bs.pop&&s.go(-1,!1)}).catch(Ts),Promise.reject()):(V.delta&&s.go(-V.delta,!1),Oe(_,ye,Se))).then(_=>{_=_||ft(ye,Se,!1),_&&(V.delta&&!Rn(_,8)?s.go(-V.delta,!1):V.type===Bs.pop&&Rn(_,20)&&s.go(-1,!1)),yt(ye,Se,_)}).catch(Ts)}))}let nt=ms(),ze=ms(),Be;function Oe(Y,pe,V){dt(Y);const ye=ze.list();return ye.length?ye.forEach(qe=>qe(Y,pe,V)):console.error(Y),Promise.reject(Y)}function mt(){return Be&&f.value!==Wn?Promise.resolve():new Promise((Y,pe)=>{nt.add([Y,pe])})}function dt(Y){return Be||(Be=!Y,xt(),nt.list().forEach(([pe,V])=>Y?V(Y):pe()),nt.reset()),Y}function It(Y,pe,V,ye){const{scrollBehavior:qe}=e;if(!Fr||!qe)return Promise.resolve();const Se=!V&&w0(Ac(Y.fullPath,0))||(ye||!V)&&history.state&&history.state.scroll||null;return rl().then(()=>qe(Y,pe,Se)).then(_=>_&&y0(_)).catch(_=>Oe(_,Y,pe))}const bt=Y=>s.go(Y);let Nt;const un=new Set,fn={currentRoute:f,listening:!0,addRoute:D,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:j,getRoutes:B,resolve:Z,options:e,push:ie,replace:be,go:bt,back:()=>bt(-1),forward:()=>bt(1),beforeEach:i.add,beforeResolve:a.add,afterEach:c.add,onError:ze.add,isReady:mt,install(Y){const pe=this;Y.component("RouterLink",K0),Y.component("RouterView",Y0),Y.config.globalProperties.$router=pe,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>Vr(f)}),Fr&&!Nt&&f.value===Wn&&(Nt=!0,ie(s.location).catch(qe=>{}));const V={};for(const qe in Wn)Object.defineProperty(V,qe,{get:()=>f.value[qe],enumerable:!0});Y.provide(io,pe),Y.provide(Wf,Gu(V)),Y.provide(Da,f);const ye=Y.unmount;un.add(Y),Y.unmount=function(){un.delete(Y),un.size<1&&(p=Wn,Ge&&Ge(),Ge=null,f.value=Wn,Nt=!1,Be=!1),ye()}}};function wt(Y){return Y.reduce((pe,V)=>pe.then(()=>Ze(V)),Promise.resolve())}return fn}function G0(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const c=t.matched[a];c&&(e.matched.find(p=>es(p,c))?r.push(c):n.push(c));const f=e.matched[a];f&&(t.matched.find(p=>es(p,f))||s.push(f))}return[n,r,s]}function Yf(){return Dn(io)}function Xf(e,t){return function(){return e.apply(t,arguments)}}const{toString:Q0}=Object.prototype,{getPrototypeOf:ul}=Object,oo=(e=>t=>{const n=Q0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=e=>(e=e.toLowerCase(),t=>oo(t)===e),ao=e=>t=>typeof t===e,{isArray:ns}=Array,Us=ao("undefined");function J0(e){return e!==null&&!Us(e)&&e.constructor!==null&&!Us(e.constructor)&&sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gf=yn("ArrayBuffer");function Z0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Gf(e.buffer),t}const eg=ao("string"),sn=ao("function"),Qf=ao("number"),lo=e=>e!==null&&typeof e=="object",tg=e=>e===!0||e===!1,Pi=e=>{if(oo(e)!=="object")return!1;const t=ul(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ng=yn("Date"),rg=yn("File"),sg=yn("Blob"),ig=yn("FileList"),og=e=>lo(e)&&sn(e.pipe),ag=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||sn(e.append)&&((t=oo(e))==="formdata"||t==="object"&&sn(e.toString)&&e.toString()==="[object FormData]"))},lg=yn("URLSearchParams"),[cg,ug,fg,dg]=["ReadableStream","Request","Response","Headers"].map(yn),hg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),ns(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let c;for(r=0;r<a;r++)c=i[r],t.call(null,e[c],c,e)}}function Jf(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zf=e=>!Us(e)&&e!==br;function Ta(){const{caseless:e}=Zf(this)&&this||{},t={},n=(r,s)=>{const i=e&&Jf(t,s)||s;Pi(t[i])&&Pi(r)?t[i]=Ta(t[i],r):Pi(r)?t[i]=Ta({},r):ns(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&zs(arguments[r],n);return t}const pg=(e,t,n,{allOwnKeys:r}={})=>(zs(t,(s,i)=>{n&&sn(s)?e[i]=Xf(s,n):e[i]=s},{allOwnKeys:r}),e),mg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gg=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vg=(e,t,n,r)=>{let s,i,a;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=n!==!1&&ul(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},yg=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},bg=e=>{if(!e)return null;if(ns(e))return e;let t=e.length;if(!Qf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},wg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ul(Uint8Array)),_g=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Sg=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},xg=yn("HTMLFormElement"),Cg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Wc=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Eg=yn("RegExp"),ed=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};zs(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},Dg=e=>{ed(e,(t,n)=>{if(sn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(sn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Tg=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return ns(e)?r(e):r(String(e).split(t)),n},Og=()=>{},Pg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,oa="abcdefghijklmnopqrstuvwxyz",Yc="0123456789",td={DIGIT:Yc,ALPHA:oa,ALPHA_DIGIT:oa+oa.toUpperCase()+Yc},Mg=(e=16,t=td.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Ig(e){return!!(e&&sn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ag=e=>{const t=new Array(10),n=(r,s)=>{if(lo(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=ns(r)?[]:{};return zs(r,(a,c)=>{const f=n(a,s+1);!Us(f)&&(i[c]=f)}),t[s]=void 0,i}}return r};return n(e,0)},kg=yn("AsyncFunction"),Rg=e=>e&&(lo(e)||sn(e))&&sn(e.then)&&sn(e.catch),nd=((e,t)=>e?setImmediate:t?((n,r)=>(br.addEventListener("message",({source:s,data:i})=>{s===br&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),br.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sn(br.postMessage)),Ng=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||nd,U={isArray:ns,isArrayBuffer:Gf,isBuffer:J0,isFormData:ag,isArrayBufferView:Z0,isString:eg,isNumber:Qf,isBoolean:tg,isObject:lo,isPlainObject:Pi,isReadableStream:cg,isRequest:ug,isResponse:fg,isHeaders:dg,isUndefined:Us,isDate:ng,isFile:rg,isBlob:sg,isRegExp:Eg,isFunction:sn,isStream:og,isURLSearchParams:lg,isTypedArray:wg,isFileList:ig,forEach:zs,merge:Ta,extend:pg,trim:hg,stripBOM:mg,inherits:gg,toFlatObject:vg,kindOf:oo,kindOfTest:yn,endsWith:yg,toArray:bg,forEachEntry:_g,matchAll:Sg,isHTMLForm:xg,hasOwnProperty:Wc,hasOwnProp:Wc,reduceDescriptors:ed,freezeMethods:Dg,toObjectSet:Tg,toCamelCase:Cg,noop:Og,toFiniteNumber:Pg,findKey:Jf,global:br,isContextDefined:Zf,ALPHABET:td,generateString:Mg,isSpecCompliantForm:Ig,toJSONObject:Ag,isAsyncFn:kg,isThenable:Rg,setImmediate:nd,asap:Ng};function Me(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}U.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const rd=Me.prototype,sd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{sd[e]={value:e}});Object.defineProperties(Me,sd);Object.defineProperty(rd,"isAxiosError",{value:!0});Me.from=(e,t,n,r,s,i)=>{const a=Object.create(rd);return U.toFlatObject(e,a,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),Me.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const $g=null;function Oa(e){return U.isPlainObject(e)||U.isArray(e)}function id(e){return U.endsWith(e,"[]")?e.slice(0,-2):e}function Xc(e,t,n){return e?e.concat(t).map(function(s,i){return s=id(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Fg(e){return U.isArray(e)&&!e.some(Oa)}const Lg=U.toFlatObject(U,{},null,function(t){return/^is[A-Z]/.test(t)});function co(e,t,n){if(!U.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,j){return!U.isUndefined(j[B])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,a=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(t);if(!U.isFunction(s))throw new TypeError("visitor must be a function");function p(R){if(R===null)return"";if(U.isDate(R))return R.toISOString();if(!f&&U.isBlob(R))throw new Me("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(R)||U.isTypedArray(R)?f&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function h(R,B,j){let Z=R;if(R&&!j&&typeof R=="object"){if(U.endsWith(B,"{}"))B=r?B:B.slice(0,-2),R=JSON.stringify(R);else if(U.isArray(R)&&Fg(R)||(U.isFileList(R)||U.endsWith(B,"[]"))&&(Z=U.toArray(R)))return B=id(B),Z.forEach(function(ee,ie){!(U.isUndefined(ee)||ee===null)&&t.append(a===!0?Xc([B],ie,i):a===null?B:B+"[]",p(ee))}),!1}return Oa(R)?!0:(t.append(Xc(j,B,i),p(R)),!1)}const g=[],w=Object.assign(Lg,{defaultVisitor:h,convertValue:p,isVisitable:Oa});function D(R,B){if(!U.isUndefined(R)){if(g.indexOf(R)!==-1)throw Error("Circular reference detected in "+B.join("."));g.push(R),U.forEach(R,function(Z,G){(!(U.isUndefined(Z)||Z===null)&&s.call(t,Z,U.isString(G)?G.trim():G,B,w))===!0&&D(Z,B?B.concat(G):[G])}),g.pop()}}if(!U.isObject(e))throw new TypeError("data must be an object");return D(e),t}function Gc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function fl(e,t){this._pairs=[],e&&co(e,this,t)}const od=fl.prototype;od.append=function(t,n){this._pairs.push([t,n])};od.toString=function(t){const n=t?function(r){return t.call(this,r,Gc)}:Gc;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Bg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ad(e,t,n){if(!t)return e;const r=n&&n.encode||Bg;U.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=U.isURLSearchParams(t)?t.toString():new fl(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Qc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ld={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ug=typeof URLSearchParams<"u"?URLSearchParams:fl,jg=typeof FormData<"u"?FormData:null,qg=typeof Blob<"u"?Blob:null,Vg={isBrowser:!0,classes:{URLSearchParams:Ug,FormData:jg,Blob:qg},protocols:["http","https","file","blob","url","data"]},dl=typeof window<"u"&&typeof document<"u",Pa=typeof navigator=="object"&&navigator||void 0,Kg=dl&&(!Pa||["ReactNative","NativeScript","NS"].indexOf(Pa.product)<0),Hg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zg=dl&&window.location.href||"http://localhost",Wg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dl,hasStandardBrowserEnv:Kg,hasStandardBrowserWebWorkerEnv:Hg,navigator:Pa,origin:zg},Symbol.toStringTag,{value:"Module"})),Vt={...Wg,...Vg};function Yg(e,t){return co(e,new Vt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Vt.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Xg(e){return U.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gg(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function cd(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),f=i>=n.length;return a=!a&&U.isArray(s)?s.length:a,f?(U.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!U.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&U.isArray(s[a])&&(s[a]=Gg(s[a])),!c)}if(U.isFormData(e)&&U.isFunction(e.entries)){const n={};return U.forEachEntry(e,(r,s)=>{t(Xg(r),s,n,0)}),n}return null}function Qg(e,t,n){if(U.isString(e))try{return(t||JSON.parse)(e),U.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Ws={transitional:ld,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=U.isObject(t);if(i&&U.isHTMLForm(t)&&(t=new FormData(t)),U.isFormData(t))return s?JSON.stringify(cd(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t)||U.isReadableStream(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Yg(t,this.formSerializer).toString();if((c=U.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return co(c?{"files[]":t}:t,f&&new f,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Qg(t)):t}],transformResponse:[function(t){const n=this.transitional||Ws.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(U.isResponse(t)||U.isReadableStream(t))return t;if(t&&U.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?Me.from(c,Me.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vt.classes.FormData,Blob:Vt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],e=>{Ws.headers[e]={}});const Jg=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zg=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&Jg[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Jc=Symbol("internals");function gs(e){return e&&String(e).trim().toLowerCase()}function Mi(e){return e===!1||e==null?e:U.isArray(e)?e.map(Mi):String(e)}function ev(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const tv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function aa(e,t,n,r,s){if(U.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!U.isString(t)){if(U.isString(r))return t.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(t)}}function nv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function rv(e,t){const n=U.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}class Jt{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(c,f,p){const h=gs(f);if(!h)throw new Error("header name must be a non-empty string");const g=U.findKey(s,h);(!g||s[g]===void 0||p===!0||p===void 0&&s[g]!==!1)&&(s[g||f]=Mi(c))}const a=(c,f)=>U.forEach(c,(p,h)=>i(p,h,f));if(U.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(U.isString(t)&&(t=t.trim())&&!tv(t))a(Zg(t),n);else if(U.isHeaders(t))for(const[c,f]of t.entries())i(f,c,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=gs(t),t){const r=U.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return ev(s);if(U.isFunction(n))return n.call(this,s,r);if(U.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=gs(t),t){const r=U.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||aa(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=gs(a),a){const c=U.findKey(r,a);c&&(!n||aa(r,r[c],c,n))&&(delete r[c],s=!0)}}return U.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||aa(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return U.forEach(this,(s,i)=>{const a=U.findKey(r,i);if(a){n[a]=Mi(s),delete n[i];return}const c=t?nv(i):String(i).trim();c!==i&&delete n[i],n[c]=Mi(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return U.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Jc]=this[Jc]={accessors:{}}).accessors,s=this.prototype;function i(a){const c=gs(a);r[c]||(rv(s,a),r[c]=!0)}return U.isArray(t)?t.forEach(i):i(t),this}}Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Jt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});U.freezeMethods(Jt);function la(e,t){const n=this||Ws,r=t||n,s=Jt.from(r.headers);let i=r.data;return U.forEach(e,function(c){i=c.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function ud(e){return!!(e&&e.__CANCEL__)}function rs(e,t,n){Me.call(this,e??"canceled",Me.ERR_CANCELED,t,n),this.name="CanceledError"}U.inherits(rs,Me,{__CANCEL__:!0});function fd(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Me("Request failed with status code "+n.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function sv(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function iv(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(f){const p=Date.now(),h=r[i];a||(a=p),n[s]=f,r[s]=p;let g=i,w=0;for(;g!==s;)w+=n[g++],g=g%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),p-a<t)return;const D=h&&p-h;return D?Math.round(w*1e3/D):void 0}}function ov(e,t){let n=0,r=1e3/t,s,i;const a=(p,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),e.apply(null,p)};return[(...p)=>{const h=Date.now(),g=h-n;g>=r?a(p,h):(s=p,i||(i=setTimeout(()=>{i=null,a(s)},r-g)))},()=>s&&a(s)]}const Bi=(e,t,n=3)=>{let r=0;const s=iv(50,250);return ov(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,f=a-r,p=s(f),h=a<=c;r=a;const g={loaded:a,total:c,progress:c?a/c:void 0,bytes:f,rate:p||void 0,estimated:p&&c&&h?(c-a)/p:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(g)},n)},Zc=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},eu=e=>(...t)=>U.asap(()=>e(...t)),av=Vt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vt.origin),Vt.navigator&&/(msie|trident)/i.test(Vt.navigator.userAgent)):()=>!0,lv=Vt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];U.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),U.isString(r)&&a.push("path="+r),U.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uv(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dd(e,t){return e&&!cv(t)?uv(e,t):t}const tu=e=>e instanceof Jt?{...e}:e;function xr(e,t){t=t||{};const n={};function r(p,h,g,w){return U.isPlainObject(p)&&U.isPlainObject(h)?U.merge.call({caseless:w},p,h):U.isPlainObject(h)?U.merge({},h):U.isArray(h)?h.slice():h}function s(p,h,g,w){if(U.isUndefined(h)){if(!U.isUndefined(p))return r(void 0,p,g,w)}else return r(p,h,g,w)}function i(p,h){if(!U.isUndefined(h))return r(void 0,h)}function a(p,h){if(U.isUndefined(h)){if(!U.isUndefined(p))return r(void 0,p)}else return r(void 0,h)}function c(p,h,g){if(g in t)return r(p,h);if(g in e)return r(void 0,p)}const f={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,h,g)=>s(tu(p),tu(h),g,!0)};return U.forEach(Object.keys(Object.assign({},e,t)),function(h){const g=f[h]||s,w=g(e[h],t[h],h);U.isUndefined(w)&&g!==c||(n[h]=w)}),n}const hd=e=>{const t=xr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:c}=t;t.headers=a=Jt.from(a),t.url=ad(dd(t.baseURL,t.url),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(U.isFormData(n)){if(Vt.hasStandardBrowserEnv||Vt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((f=a.getContentType())!==!1){const[p,...h]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([p||"multipart/form-data",...h].join("; "))}}if(Vt.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(t)),r||r!==!1&&av(t.url))){const p=s&&i&&lv.read(i);p&&a.set(s,p)}return t},fv=typeof XMLHttpRequest<"u",dv=fv&&function(e){return new Promise(function(n,r){const s=hd(e);let i=s.data;const a=Jt.from(s.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:p}=s,h,g,w,D,R;function B(){D&&D(),R&&R(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function Z(){if(!j)return;const ee=Jt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),be={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:ee,config:e,request:j};fd(function(ue){n(ue),B()},function(ue){r(ue),B()},be),j=null}"onloadend"in j?j.onloadend=Z:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(Z)},j.onabort=function(){j&&(r(new Me("Request aborted",Me.ECONNABORTED,e,j)),j=null)},j.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let ie=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const be=s.transitional||ld;s.timeoutErrorMessage&&(ie=s.timeoutErrorMessage),r(new Me(ie,be.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,e,j)),j=null},i===void 0&&a.setContentType(null),"setRequestHeader"in j&&U.forEach(a.toJSON(),function(ie,be){j.setRequestHeader(be,ie)}),U.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),c&&c!=="json"&&(j.responseType=s.responseType),p&&([w,R]=Bi(p,!0),j.addEventListener("progress",w)),f&&j.upload&&([g,D]=Bi(f),j.upload.addEventListener("progress",g),j.upload.addEventListener("loadend",D)),(s.cancelToken||s.signal)&&(h=ee=>{j&&(r(!ee||ee.type?new rs(null,e,j):ee),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const G=sv(s.url);if(G&&Vt.protocols.indexOf(G)===-1){r(new Me("Unsupported protocol "+G+":",Me.ERR_BAD_REQUEST,e));return}j.send(i||null)})},hv=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(p){if(!s){s=!0,c();const h=p instanceof Error?p:this.reason;r.abort(h instanceof Me?h:new rs(h instanceof Error?h.message:h))}};let a=t&&setTimeout(()=>{a=null,i(new Me(`timeout ${t} of ms exceeded`,Me.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:f}=r;return f.unsubscribe=()=>U.asap(c),f}},pv=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},mv=async function*(e,t){for await(const n of gv(e))yield*pv(n,t)},gv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},nu=(e,t,n,r)=>{const s=mv(e,t);let i=0,a,c=f=>{a||(a=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:p,value:h}=await s.next();if(p){c(),f.close();return}let g=h.byteLength;if(n){let w=i+=g;n(w)}f.enqueue(new Uint8Array(h))}catch(p){throw c(p),p}},cancel(f){return c(f),s.return()}},{highWaterMark:2})},uo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pd=uo&&typeof ReadableStream=="function",vv=uo&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),md=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yv=pd&&md(()=>{let e=!1;const t=new Request(Vt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ru=64*1024,Ma=pd&&md(()=>U.isReadableStream(new Response("").body)),Ui={stream:Ma&&(e=>e.body)};uo&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ui[t]&&(Ui[t]=U.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Me(`Response type '${t}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const bv=async e=>{if(e==null)return 0;if(U.isBlob(e))return e.size;if(U.isSpecCompliantForm(e))return(await new Request(Vt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(U.isArrayBufferView(e)||U.isArrayBuffer(e))return e.byteLength;if(U.isURLSearchParams(e)&&(e=e+""),U.isString(e))return(await vv(e)).byteLength},wv=async(e,t)=>{const n=U.toFiniteNumber(e.getContentLength());return n??bv(t)},_v=uo&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:c,onUploadProgress:f,responseType:p,headers:h,withCredentials:g="same-origin",fetchOptions:w}=hd(e);p=p?(p+"").toLowerCase():"text";let D=hv([s,i&&i.toAbortSignal()],a),R;const B=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let j;try{if(f&&yv&&n!=="get"&&n!=="head"&&(j=await wv(h,r))!==0){let be=new Request(t,{method:"POST",body:r,duplex:"half"}),K;if(U.isFormData(r)&&(K=be.headers.get("content-type"))&&h.setContentType(K),be.body){const[ue,Ae]=Zc(j,Bi(eu(f)));r=nu(be.body,ru,ue,Ae)}}U.isString(g)||(g=g?"include":"omit");const Z="credentials"in Request.prototype;R=new Request(t,{...w,signal:D,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:Z?g:void 0});let G=await fetch(R);const ee=Ma&&(p==="stream"||p==="response");if(Ma&&(c||ee&&B)){const be={};["status","statusText","headers"].forEach(Ze=>{be[Ze]=G[Ze]});const K=U.toFiniteNumber(G.headers.get("content-length")),[ue,Ae]=c&&Zc(K,Bi(eu(c),!0))||[];G=new Response(nu(G.body,ru,ue,()=>{Ae&&Ae(),B&&B()}),be)}p=p||"text";let ie=await Ui[U.findKey(Ui,p)||"text"](G,e);return!ee&&B&&B(),await new Promise((be,K)=>{fd(be,K,{data:ie,headers:Jt.from(G.headers),status:G.status,statusText:G.statusText,config:e,request:R})})}catch(Z){throw B&&B(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,e,R),{cause:Z.cause||Z}):Me.from(Z,Z&&Z.code,e,R)}}),Ia={http:$g,xhr:dv,fetch:_v};U.forEach(Ia,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const su=e=>`- ${e}`,Sv=e=>U.isFunction(e)||e===null||e===!1,gd={getAdapter:e=>{e=U.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let a;if(r=n,!Sv(n)&&(r=Ia[(a=String(n)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(su).join(`
`):" "+su(i[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Ia};function ca(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rs(null,e)}function iu(e){return ca(e),e.headers=Jt.from(e.headers),e.data=la.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gd.getAdapter(e.adapter||Ws.adapter)(e).then(function(r){return ca(e),r.data=la.call(e,e.transformResponse,r),r.headers=Jt.from(r.headers),r},function(r){return ud(r)||(ca(e),r&&r.response&&(r.response.data=la.call(e,e.transformResponse,r.response),r.response.headers=Jt.from(r.response.headers))),Promise.reject(r)})}const vd="1.7.9",fo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ou={};fo.transitional=function(t,n,r){function s(i,a){return"[Axios v"+vd+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,c)=>{if(t===!1)throw new Me(s(a," has been removed"+(n?" in "+n:"")),Me.ERR_DEPRECATED);return n&&!ou[a]&&(ou[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,c):!0}};fo.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function xv(e,t,n){if(typeof e!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const c=e[i],f=c===void 0||a(c,i,e);if(f!==!0)throw new Me("option "+i+" must be "+f,Me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Me("Unknown option "+i,Me.ERR_BAD_OPTION)}}const Ii={assertOptions:xv,validators:fo},Sn=Ii.validators;class _r{constructor(t){this.defaults=t,this.interceptors={request:new Qc,response:new Qc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ii.assertOptions(r,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),s!=null&&(U.isFunction(s)?n.paramsSerializer={serialize:s}:Ii.assertOptions(s,{encode:Sn.function,serialize:Sn.function},!0)),Ii.assertOptions(n,{baseUrl:Sn.spelling("baseURL"),withXsrfToken:Sn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&U.merge(i.common,i[n.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],R=>{delete i[R]}),n.headers=Jt.concat(a,i);const c=[];let f=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(n)===!1||(f=f&&B.synchronous,c.unshift(B.fulfilled,B.rejected))});const p=[];this.interceptors.response.forEach(function(B){p.push(B.fulfilled,B.rejected)});let h,g=0,w;if(!f){const R=[iu.bind(this),void 0];for(R.unshift.apply(R,c),R.push.apply(R,p),w=R.length,h=Promise.resolve(n);g<w;)h=h.then(R[g++],R[g++]);return h}w=c.length;let D=n;for(g=0;g<w;){const R=c[g++],B=c[g++];try{D=R(D)}catch(j){B.call(this,j);break}}try{h=iu.call(this,D)}catch(R){return Promise.reject(R)}for(g=0,w=p.length;g<w;)h=h.then(p[g++],p[g++]);return h}getUri(t){t=xr(this.defaults,t);const n=dd(t.baseURL,t.url);return ad(n,t.params,t.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(t){_r.prototype[t]=function(n,r){return this.request(xr(r||{},{method:t,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,c){return this.request(xr(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}_r.prototype[t]=n(),_r.prototype[t+"Form"]=n(!0)});class hl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(c=>{r.subscribe(c),i=c}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,c){r.reason||(r.reason=new rs(i,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hl(function(s){t=s}),cancel:t}}}function Cv(e){return function(n){return e.apply(null,n)}}function Ev(e){return U.isObject(e)&&e.isAxiosError===!0}const Aa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Aa).forEach(([e,t])=>{Aa[t]=e});function yd(e){const t=new _r(e),n=Xf(_r.prototype.request,t);return U.extend(n,_r.prototype,t,{allOwnKeys:!0}),U.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return yd(xr(e,s))},n}const Ie=yd(Ws);Ie.Axios=_r;Ie.CanceledError=rs;Ie.CancelToken=hl;Ie.isCancel=ud;Ie.VERSION=vd;Ie.toFormData=co;Ie.AxiosError=Me;Ie.Cancel=Ie.CanceledError;Ie.all=function(t){return Promise.all(t)};Ie.spread=Cv;Ie.isAxiosError=Ev;Ie.mergeConfig=xr;Ie.AxiosHeaders=Jt;Ie.formToJSON=e=>cd(U.isHTMLForm(e)?new FormData(e):e);Ie.getAdapter=gd.getAdapter;Ie.HttpStatusCode=Aa;Ie.default=Ie;function Dv(e){e.startsWith("Bearer ")&&(e=e.slice(7,e.length));const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}function St(e){if(localStorage.getItem("userID")===0)return!0;try{const n=Dv(e),r=Math.floor(Date.now()/1e3);return n.exp<r}catch(n){return localStorage.getItem("userID")===0||(console.error("Ошибка декодирования токена:",n),localStorage.removeItem("token")),!0}}function bd(){const e=localStorage.getItem("token"),t=localStorage.getItem("userID");return t==="0"?!0:!e||St(e)?(localStorage.removeItem("token"),localStorage.removeItem("userID"),!1):!!t}async function Tv({selectedCategories:e,searchQuery:t,location:n,minPrice:r,maxPrice:s}){let i="http://localhost:8080/usluga/all";n&&(i=`http://localhost:8080/usluga/city?location=${encodeURIComponent(n)}`);try{return((await Ie.get(i)).data||[]).filter(f=>{let p=!0;e.length>0&&(p=e.includes(f.category));let h=!0;r&&f.price<r&&(h=!1),s&&f.price>s&&(h=!1);let g=!0;return t&&(g=f.name.toLowerCase().includes(t.toLowerCase())),p&&h&&g})}catch(a){return console.error("Ошибка фильтрации услуг:",a),[]}}async function wd(){try{return(await Ie.get("http://localhost:8080/usluga/all")).data||[]}catch(e){return console.error("Ошибка получения списка всех услуг:",e),[]}}async function Ov(e){const t=localStorage.getItem("token");if(!t||St(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{return(await Ie.get(`http://localhost:8080/usluga/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data}catch(n){throw console.error("Ошибка при получении услуг:",n),n}}async function Pv(e,t){const n=localStorage.getItem("token");if(!n||St(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{return(await Ie.post(`http://localhost:8080/usluga/create/${e}`,t,{headers:{Authorization:`Bearer ${n}`}})).data}catch(r){throw console.error("Ошибка при создании услуги:",r),r}}async function Mv(e){const t=localStorage.getItem("token");if(!t||St(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");e.slots&&e.slots.length>0&&e.slots.forEach(n=>{if(n.time){let r=n.time.split(":");r.length===2?n.time=`${r[0]}:${r[1]}:00`:n.time=`${r[0]}:${r[1]}:${r[2]}`}}),e.slots.length===0&&(e.slots=null);try{return(await Ie.put(`http://localhost:8080/usluga/${e.id}`,e,{headers:{Authorization:t}})).data}catch(n){throw console.error("Ошибка при создании услуги:",n),n}}const Iv="http://localhost:8080/portfolio",Ps=localStorage.getItem("token"),Av=async(e,t)=>{const n=localStorage.getItem("token");if(!n||St(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const s=(await Ie.post(`http://localhost:8080/create/${e}`,{description:t.description},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data.id;return await _d(s,t)}catch(r){throw console.error("Ошибка при создании портфолио:",r),r}},_d=async(e,t)=>{if(!Ps||St(Ps))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");const n=new FormData;n.append("description",t.description),t.photos.forEach((r,s)=>{if(typeof r=="string"){const i=Sd(r);n.append("photos",i,`photo_${s}.png`)}else r instanceof File?n.append("photos",r):console.warn(`Неизвестный формат данных: ${r}`)});try{return(await Ie.put(`http://localhost:8080/portfolio/${e}`,n,{headers:{Authorization:`Bearer ${Ps}`}})).data}catch(r){throw console.error("Ошибка при обновлении портфолио:",r),r}};function Sd(e,t="image/png"){const n=atob(e),r=[];for(let s=0;s<n.length;s+=512){const i=n.slice(s,s+512),a=new Array(i.length);for(let f=0;f<i.length;f++)a[f]=i.charCodeAt(f);const c=new Uint8Array(a);r.push(c)}return new Blob(r,{type:t})}const kv=async e=>{try{return(await Ie.delete(`${Iv}/${e}`,{headers:{Authorization:` ${Ps}`}})).status}catch(t){throw console.error("Ошибка при удалении портфолио:",t),t}},xd=async e=>{try{return(await Ie.get(`http://localhost:8080/portfolio/${e}`,{headers:{Authorization:` ${Ps}`}})).data}catch(t){throw console.error("Ошибка при получении портфолио по masterID:",t),t}};async function Er(e){const t=localStorage.getItem("token");if(!t||St(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const n=await Ie.get(`http://localhost:8080/user/${e}`,{headers:{Authorization:t}});if(n.status===200){const r=n.data;return r.password&&delete r.password,r}else{if(n.status===500)return{id:1,name:"Екатерина Банько",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"рвиарв",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 23рнпыв",description:"оваравор",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]};throw localStorage.removeItem("userID"),localStorage.removeItem("token"),console.error(`Ошибка: неожиданный статус ${n.status}`),new Error(`Неожиданный статус: ${n.status}`)}}catch(n){if(localStorage.getItem(e)==="0")return{id:1,name:"Екатерина Банько",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"рвиарв",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 23рнпыв",description:"оваравор",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]};throw console.error("Ошибка при получении данных пользователя:",n.message),new Error("Не удалось получить данные пользователя. Проверьте соединение с сервером.")}}async function pl(e){const t=localStorage.getItem("token");if(!t||St(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const n=await Ie.get(`http://localhost:8080/user/${e}`,{headers:{Authorization:t}});if(n.status===200){const r=n.data;return r.profilePicture?`data:image/png;base64,${r.profilePicture}`:(console.warn("У пользователя нет фотографии профиля"),null)}else throw console.error(`Ошибка: неожиданный статус ${n.status}`),new Error(`Неожиданный статус: ${n.status}`)}catch(n){throw console.error("Ошибка при получении фотографии пользователя:",n.message),new Error("Не удалось получить фотографию пользователя. Проверьте соединение с сервером.")}}async function Rv(e,t){const n=localStorage.getItem("token");if(!n||St(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");const r=new FormData;if(typeof t=="string"){const s=Sd(t);r.append("file",s,"photo.png")}else t instanceof File?r.append("file",t):console.warn(`Неизвестный формат данных: ${t}`);try{return(await Ie.put(`http://localhost:8080/user/${e}`,r,{headers:{Authorization:n}})).data}catch(s){return console.error(s),s}}async function Nv(e,t,n){const r=localStorage.getItem("token");if(!r||St(r))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const s=await Ie.put(`http://localhost:8080/user/${e}`,{email:n,name:t},{headers:{Authorization:r}})}catch{}}const Zn="/ch/assets/content-img-Bgo_zNOy.png",Wr="data:image/svg+xml,%3csvg%20width='316'%20height='175'%20viewBox='0%200%20316%20175'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2030C0%2013.4315%2013.4315%200%2030%200H286C302.569%200%20316%2013.4315%20316%2030V145C316%20161.569%20302.569%20175%20286%20175H30C13.4315%20175%200%20161.569%200%20145V30Z'%20fill='%23F9CFD3'/%3e%3c/svg%3e",$v="scheduleDB",Fv=1,ji="applicationsByDate",Lv=60;function Bv(){return new Promise((e,t)=>{const n=indexedDB.open($v,Fv);n.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(ji)||s.createObjectStore(ji,{keyPath:"date"})},n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{t("Ошибка при открытии базы данных: "+r.target.error)}})}async function Cd(e,t){const s=(await Bv()).transaction(ji,"readwrite").objectStore(ji),i=Date.now()+Lv,a={date:e,applications:t,expiry:i};return new Promise((c,f)=>{const p=s.put(a);p.onsuccess=()=>{c()},p.onerror=()=>{f("Ошибка при сохранении данных в IndexedDB")}})}async function Ed(e,t){console.log(`Запрос расписания для пользователя ${e} на день ${t}`);const n=localStorage.getItem("token");if(!n||St(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const r=await Ie.get(`http://localhost:8080/applications/master/${e}`,{headers:{Authorization:n}});if(r.status===200){const i=r.data.filter(a=>new Date(a.date).toISOString().split("T")[0]===t);return i.length>0&&await Cd(t,i),i.map(a=>({id:a.id,uslugaName:a.usluga.name,startTime:`${t}T${a.time}`,endTime:Dd(`${t}T${a.time}`,a.usluga.durationMinutes)}))}else throw console.error(`Ошибка: неожиданный статус ${r.status}`),new Error(`Неожиданный статус: ${r.status}`)}catch(r){throw console.error("Ошибка при запросе расписания:",r.message),new Error("Не удалось получить расписание. Проверьте соединение с сервером.")}}function Dd(e,t){const n=new Date(e);return new Date(n.getTime()+t*6e4).toISOString()}async function Uv(e,t,n){console.log(`Запрос расписания для мастера ${e} на месяц ${t}-${n+1}`);const r=localStorage.getItem("token");if(!r||St(r))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");const s=[];try{const i=await Ie.get(`http://localhost:8080/applications/master/${e}`,{headers:{Authorization:r}});if(i.status===200){const c=i.data.filter(f=>{const p=new Date(f.date);return p.getFullYear()===t&&p.getMonth()===n});if(c.length>0){for(let f of c){const p=new Date(f.date).toISOString().split("T")[0];await Cd(p,[f])}s.push(...c)}}else console.error(`Ошибка: неожиданный статус ${i.status}`);return s.map(a=>({uslugaName:a.usluga.name,startTime:`${lu(a.date)}T${a.time}`,endTime:Dd(`${lu(a.date)}T${a.time}`,a.usluga.durationMinutes)}))}catch(i){throw console.error("Ошибка при запросе расписания:",i.message),new Error("Не удалось получить расписание. Проверьте соединение с сервером.")}}async function au(e){const t=new Date,n=t.getFullYear(),r=t.getMonth();try{const i=(await Uv(e,n,r)).map(a=>a.startTime.split("T")[0]);return[...new Set(i)]}catch(s){return console.error("Ошибка при получении расписания за месяц:",s),[]}}function lu(e){const t=new Date(e);if(isNaN(t.getTime()))return console.error("Некорректный формат даты:",e),null;const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${s}`}const jv="data:image/svg+xml,%3csvg%20width='20'%20height='9'%20viewBox='0%200%2024%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.54%202.57199L13.2446%2012.478C12.8794%2012.8345%2012.4735%2013%2012%2013C11.5265%2013%2011.0936%2012.8217%2010.7418%2012.478L0.459977%202.57199C0.162344%202.27914%20-7.21542e-07%201.93536%20-7.21542e-07%201.51518C-7.21542e-07%200.662096%200.703494%202.08034e-07%201.59639%202.08034e-07C2.02931%202.08034e-07%202.4487%200.165524%202.75986%200.458374L11.9865%209.38394L21.2401%200.458374C21.5513%200.165524%2021.9572%202.08034e-07%2022.4036%202.08034e-07C23.2965%202.08034e-07%2024%200.662096%2024%201.51518C24%201.92263%2023.8377%202.27914%2023.54%202.57199Z'%20fill='%23393939'/%3e%3c/svg%3e",qv="/ch/assets/search2-DPgckNgp.svg",Vv="data:image/svg+xml,%3csvg%20width='29'%20height='20'%20viewBox='0%200%2029%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.71509%2019.6285H24.4613C26.824%2019.6285%2028.1951%2018.3981%2028.1951%2016.047V3.9071C28.1951%201.55603%2026.8117%200.325562%2024.1675%200.325562H4.42128C2.05859%200.325562%200.6875%201.54504%200.6875%203.9071V16.047C0.6875%2018.3981%202.07084%2019.6285%204.71509%2019.6285ZM13.0641%2010.3561L4.15196%202.44592C4.32335%202.41296%204.51922%202.39099%204.72733%202.39099H24.1552C24.3756%202.39099%2024.5715%202.41296%2024.7551%202.45691L15.8552%2010.3561C15.3411%2010.8065%2014.9126%2011.0043%2014.4596%2011.0043C14.0067%2011.0043%2013.5782%2010.7955%2013.0641%2010.3561ZM2.97674%204.06091L9.63634%209.9386L2.97674%2015.8492V4.06091ZM19.283%209.9386L25.9058%204.09387V15.8273L19.283%209.9386ZM4.72733%2017.5521C4.50698%2017.5521%204.29886%2017.5302%204.11523%2017.4972L11.1298%2011.257L11.7909%2011.8502C12.6846%2012.6302%2013.5415%2012.9598%2014.4596%2012.9598C15.3655%2012.9598%2016.2347%2012.6302%2017.1161%2011.8502L17.7894%2011.257L24.7918%2017.4862C24.5959%2017.5301%2024.3878%2017.5521%2024.1552%2017.5521H4.72733Z'%20fill='%231C1C1E'/%3e%3c/svg%3e",cu="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='44'%20height='44'%20rx='22'%20fill='%23F7F7F7'/%3e%3c/svg%3e",Kv={components:{stub2:Wr},data(){return{selectedAddress:"",addresses:[],searchQuery:"",inputVisible:!1,dropdownVisible:!1,isAuthorized:!1,user:{profilePicture:[]},userPhoto:null,userDropdownVisible:!1,schedule:[],scheduleVisible:!1}},computed:{filteredAddresses(){return["Адрес не выбран",...this.addresses.filter(t=>t.toLowerCase().includes(this.searchQuery.toLowerCase()))]}},async created(){if(this.isAuthorized=!St(localStorage.getItem("token")),localStorage.getItem("userID")==="0"&&(this.isAuthorized=!0,this.userPhoto=Zn),this.isAuthorized){const e=localStorage.getItem("userID");if(e)try{const t=await pl(e);t?this.userPhoto=t:this.userPhoto=Zn}catch(t){console.error("Ошибка при загрузке фотографии профиля:",t),this.userPhoto=Zn}else this.userPhoto=Zn}await this.fetchAddresses(),this.syncSelectedAddress(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{async fetchScheduleForToday(){const e=localStorage.getItem("userID");if(!e)return;const t=new Date().toISOString().split("T")[0];try{this.schedule=await Ed(e,t),console.log(this.schedule)}catch(n){console.error("Ошибка при загрузке расписания:",n),this.schedule=[]}},async handleMouseOverSchedule(){this.scheduleVisible=!0,await this.fetchScheduleForToday(),localStorage.getItem("userID")==="0"&&(this.schedule=[{uslugaName:"услуга 1",startTime:"2024-12-23T10:37:00",endTime:"2024-12-23T09:07:00.000Z"},{uslugaName:"услуга 2",startTime:"2024-12-23T12:38:00",endTime:"2024-12-23T11:08:00.000Z"}])},handleMouseLeaveSchedule(){this.scheduleVisible=!1},formatTime(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},handleClickOutside(e){const t=this.$el.querySelector(".avatar-wrapper");t&&!t.contains(e.target)&&(this.userDropdownVisible=!1)},async fetchAddresses(){try{const e=await wd();this.addresses=[...new Set(e.map(t=>t.location))].sort()}catch(e){console.error("Ошибка загрузки адресов:",e)}},syncSelectedAddress(){const e=this.$route.query.location;e&&(this.selectedAddress=e,this.searchQuery=e)},toggleDropdown(){this.dropdownVisible=!this.dropdownVisible},handleInput(){this.dropdownVisible=this.filteredAddresses.length>0},handleBlur(){setTimeout(()=>{this.dropdownVisible=!1},200)},selectAddress(){const e=this.filteredAddresses.find(t=>t.toLowerCase()===this.searchQuery.toLowerCase());e?this.changeLocation(e):(alert("Выберите адрес из списка."),this.selectedAddress="",this.searchQuery=""),this.dropdownVisible=!1},selectAddressFromList(e){this.searchQuery=e,this.changeLocation(e)},changeLocation(e){this.selectedAddress=e==="Адрес не выбран"?"":e,this.searchQuery=e==="Адрес не выбран"?"":e,this.inputVisible=!1,this.dropdownVisible=!1;const t=e==="Адрес не выбран"?{location:null}:{location:e};this.$router.push({path:"/",query:t})},navigateToMain(){this.$router.push("/")},navigateToSearch(){this.$router.push({path:"/",query:{...this.$route.query}}).then(()=>{const e=document.getElementById("search-id");e&&e.scrollIntoView({behavior:"smooth"})})},navigateToMessages(){this.$router.push("/messages")},navigateToProfile(){this.$router.push("/profile")},navigateToReviews(){this.$router.push("/reviews")},navigateToSettings(){this.$router.push("/settings")},navigateToRegister(){this.$router.push("/registration")},navigateToSchedule(){this.$router.push("/schedule")},login(){this.$router.push("/login")},logout(){localStorage.removeItem("token"),localStorage.removeItem("userID"),this.isAuthorized=!1,this.$router.push("/")},toggleUserDropdown(){this.userDropdownVisible=!this.userDropdownVisible}}},Hv={class:"header"},zv={class:"address-wrapper"},Wv={class:"address-selector"},Yv={class:"dropdown-btn"},Xv=["onMousedown"],Gv={class:"controls"},Qv={key:0,class:"schedule-item"},Jv={class:"schedule-item-text"},Zv={class:"title"},ey={class:"time"},ty=["src"];function ny(e,t,n,r,s,i){return q(),W("header",Hv,[b("div",{class:"logo",onClick:t[0]||(t[0]=(...a)=>i.navigateToMain&&i.navigateToMain(...a))},"LOGO"),b("div",zv,[b("div",Wv,[b("div",Yv,[ut(b("input",{type:"text",class:"address-input","onUpdate:modelValue":t[1]||(t[1]=a=>s.searchQuery=a),onInput:t[2]||(t[2]=(...a)=>i.handleInput&&i.handleInput(...a)),onBlur:t[3]||(t[3]=(...a)=>i.handleBlur&&i.handleBlur(...a)),onKeyup:t[4]||(t[4]=Bm((...a)=>i.selectAddress&&i.selectAddress(...a),["enter"])),placeholder:"Введите адрес...",onFocus:t[5]||(t[5]=a=>s.dropdownVisible=!0),ref:"addressInput"},null,544),[[Pt,s.searchQuery]]),b("span",{class:"arrow",onClick:t[6]||(t[6]=(...a)=>i.toggleDropdown&&i.toggleDropdown(...a))},t[23]||(t[23]=[b("img",{class:"arrow-icon",src:jv,alt:"▼"},null,-1)]))]),s.dropdownVisible&&i.filteredAddresses.length?(q(),W("ul",{key:0,class:"dropdown-list",onMousedown:t[7]||(t[7]=kt(()=>{},["prevent"]))},[(q(!0),W(Ce,null,Je(i.filteredAddresses,(a,c)=>(q(),W("li",{key:c,onMousedown:f=>i.selectAddressFromList(a),class:"dropdown-item"},Fe(a),41,Xv))),128))],32)):lt("",!0)])]),b("div",Gv,[s.isAuthorized?(q(),W(Ce,{key:0},[b("button",{class:"icon-btn",onClick:t[8]||(t[8]=(...a)=>i.navigateToSearch&&i.navigateToSearch(...a))},t[24]||(t[24]=[b("img",{class:"icon",src:qv,alt:"Поиск"},null,-1)])),b("button",{class:"icon-btn",onClick:t[9]||(t[9]=(...a)=>i.navigateToMessages&&i.navigateToMessages(...a))},t[25]||(t[25]=[b("img",{class:"icon",src:Vv,alt:"Сообщения"},null,-1)])),b("button",{class:"my-bookings-btn",onClick:t[10]||(t[10]=(...a)=>i.navigateToSchedule&&i.navigateToSchedule(...a)),onMouseover:t[11]||(t[11]=(...a)=>i.handleMouseOverSchedule&&i.handleMouseOverSchedule(...a)),onMouseleave:t[12]||(t[12]=(...a)=>i.handleMouseLeaveSchedule&&i.handleMouseLeaveSchedule(...a))},"Мои записи",32),s.scheduleVisible?(q(),W("ul",{key:0,class:"schedule-dropdown",onMouseleave:t[13]||(t[13]=(...a)=>i.handleMouseLeaveSchedule&&i.handleMouseLeaveSchedule(...a))},[s.schedule.length===0?(q(),W("li",Qv,t[26]||(t[26]=[b("img",{src:cu,alt:"Заглушка",class:"schedule-placeholder-img"},null,-1),b("div",{class:"schedule-item-text"},[b("span",{class:"title"},"Записей нет")],-1)]))):lt("",!0),(q(!0),W(Ce,null,Je(s.schedule,(a,c)=>(q(),W("li",{key:c,class:"schedule-item"},[t[27]||(t[27]=b("img",{src:cu,alt:"Заглушка",class:"schedule-placeholder-img"},null,-1)),b("div",Jv,[b("span",Zv,Fe(a.uslugaName),1),b("span",ey,Fe(i.formatTime(a.startTime))+" - "+Fe(i.formatTime(a.endTime)),1)])]))),128))],32)):lt("",!0),b("div",{class:"avatar-wrapper",onClick:t[20]||(t[20]=(...a)=>i.toggleUserDropdown&&i.toggleUserDropdown(...a))},[b("img",{src:s.userPhoto,alt:"Аватар пользователя",class:"user-avatar"},null,8,ty),s.userDropdownVisible?(q(),W("ul",{key:0,class:"user-dropdown",onMousedown:t[19]||(t[19]=kt(()=>{},["prevent"]))},[b("li",{class:"user-dropdown-item",onClick:t[14]||(t[14]=kt((...a)=>i.navigateToProfile&&i.navigateToProfile(...a),["stop"]))},"Профиль"),b("li",{class:"user-dropdown-item",onClick:t[15]||(t[15]=kt((...a)=>i.navigateToMessages&&i.navigateToMessages(...a),["stop"]))},"Сообщения"),b("li",{class:"user-dropdown-item",onClick:t[16]||(t[16]=kt((...a)=>i.navigateToReviews&&i.navigateToReviews(...a),["stop"]))},"Отзывы"),b("li",{class:"user-dropdown-item",onClick:t[17]||(t[17]=kt((...a)=>i.navigateToSettings&&i.navigateToSettings(...a),["stop"]))},"Настройки"),b("li",{class:"user-dropdown-item",onClick:t[18]||(t[18]=kt((...a)=>i.logout&&i.logout(...a),["stop"]))},"Выйти")],32)):lt("",!0)])],64)):(q(),W(Ce,{key:1},[b("button",{class:"register-btn",onClick:t[21]||(t[21]=(...a)=>i.navigateToRegister&&i.navigateToRegister(...a))},"Зарегистрироваться"),b("button",{class:"login-btn",onClick:t[22]||(t[22]=(...a)=>i.login&&i.login(...a))},"Войти")],64))])])}const Dr=je(Kv,[["render",ny],["__scopeId","data-v-b0884a11"]]),ry={name:"Poster"},sy={class:"poster-container"};function iy(e,t,n,r,s,i){return q(),W("div",sy,t[0]||(t[0]=[Mf('<div class="poster-content" data-v-8803e4f1><h1 class="poster-title" data-v-8803e4f1>Записывайся <br data-v-8803e4f1> через приложение</h1><div class="poster-buttons" data-v-8803e4f1><button class="poster-button primary" data-v-8803e4f1>Записаться</button><button class="poster-button secondary" data-v-8803e4f1>Подробнее</button></div></div>',1)]))}const oy=je(ry,[["render",iy],["__scopeId","data-v-8803e4f1"]]),ay="/ch/assets/search-SqKRN8gK.svg",ly={props:{filterOptions:{type:Array,required:!0},searchQuery:{type:String,default:""}},data(){return{filterDropdownVisible:!1,searchInputVisible:!1,localSearchQuery:this.searchQuery}},methods:{updateUrlWithFilters(){const e={...this.$route.query},t=this.filterOptions.filter(r=>r.selected).map(r=>r.label),n={...e,filters:t.length?t.join(","):void 0};Object.keys(n).forEach(r=>n[r]===void 0&&delete n[r]),this.$router.push({path:this.$route.path,query:n})},toggleFilterDropdown(){this.filterDropdownVisible=!this.filterDropdownVisible,this.filterDropdownVisible?document.addEventListener("click",this.hideFilterDropdown):document.removeEventListener("click",this.hideFilterDropdown)},hideFilterDropdown(e){this.$el.contains(e.target)||(this.filterDropdownVisible=!1,document.removeEventListener("click",this.hideFilterDropdown))},toggleSearchInput(){this.searchInputVisible=!this.searchInputVisible,this.searchInputVisible&&this.$nextTick(()=>this.$refs.searchInput&&this.$refs.searchInput.focus())},hideSearchInput(){this.searchInputVisible=!1},toggleFilter(e){this.$emit("toggleFilter",e)},applyFilters(){this.$emit("applyFilters"),this.updateUrlWithFilters(),this.filterDropdownVisible=!1,document.removeEventListener("click",this.hideFilterDropdown)},resetFilters(){this.filterOptions.forEach(e=>{e.selected=!1}),this.$emit("resetFilters"),this.updateUrlWithFilters(),this.filterDropdownVisible=!1,document.removeEventListener("click",this.hideFilterDropdown)},onSearchInput(e){const t=e.target.value;this.localSearchQuery=t,this.$emit("updateSearchQuery",t)}}},cy={class:"filters-wrapper"},uy=["checked","onChange"],fy=["value"];function dy(e,t,n,r,s,i){return q(),W("div",{class:"filters-toolbar",onClick:t[6]||(t[6]=kt((...a)=>i.hideSearchInput&&i.hideSearchInput(...a),["self"]))},[b("div",cy,[b("button",{class:"filter-button",onClick:t[0]||(t[0]=kt((...a)=>i.toggleFilterDropdown&&i.toggleFilterDropdown(...a),["stop"]))},"фильтры"),s.filterDropdownVisible?(q(),W("div",{key:0,class:"filter-dropdown",onClick:t[3]||(t[3]=kt(()=>{},["stop"]))},[(q(!0),W(Ce,null,Je(n.filterOptions,(a,c)=>(q(),W("label",{key:c,class:"filter-option"},[b("input",{type:"checkbox",checked:a.selected,onChange:f=>i.toggleFilter(c)},null,40,uy),Yt(" "+Fe(a.label),1)]))),128)),b("button",{class:"apply-button",onClick:t[1]||(t[1]=(...a)=>i.applyFilters&&i.applyFilters(...a))},"Применить"),b("button",{class:"reset-button",onClick:t[2]||(t[2]=(...a)=>i.resetFilters&&i.resetFilters(...a))},"Сбросить")])):lt("",!0),b("button",{class:"search-button",onClick:t[4]||(t[4]=kt((...a)=>i.toggleSearchInput&&i.toggleSearchInput(...a),["stop"]))},t[7]||(t[7]=[b("img",{src:ay,alt:"Поиск",class:"search-icon"},null,-1)])),s.searchInputVisible?(q(),W("input",{key:1,type:"text",value:s.localSearchQuery,onInput:t[5]||(t[5]=(...a)=>i.onSearchInput&&i.onSearchInput(...a)),placeholder:"Введите название услуги",class:"search-input",ref:"searchInput"},null,40,fy)):lt("",!0)])])}const hy=je(ly,[["render",dy],["__scopeId","data-v-02ff0e2d"]]),py="data:image/svg+xml,%3csvg%20width='31'%20height='27'%20viewBox='0%200%2031%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.4633%2022.5148L24.0047%2018.7179C25.0264%2018.2009%2025.3086%2017.7093%2025.3086%2016.7347V8.92906C25.3086%207.55608%2023.9268%207.19165%2022.8273%207.74254L21.1341%208.59006V6.80179C21.1341%205.42882%2019.7523%205.05591%2018.6528%205.6068L17.1737%206.35261V4.81013C17.1737%203.43715%2015.8017%203.07272%2014.7021%203.62361L7.01479%207.49676C6.03198%207.98832%205.69141%208.5053%205.69141%209.4969V17.0906C5.69141%2018.6416%206.83963%2019.1501%208.33817%2018.3958L9.65182%2017.7348V19.0738C9.65182%2020.6248%2010.7903%2021.1333%2012.2889%2020.379L13.8166%2019.6078V21.2011C13.8166%2022.7521%2014.9648%2023.2606%2016.4633%2022.5148ZM7.56944%2016.7262V9.5308C7.56944%209.20027%207.67648%209.09009%207.9684%208.93754L15.14%205.32712C15.2275%205.28474%2015.2957%205.32712%2015.2957%205.40339V7.30183L10.9655%209.47995C9.98267%209.97998%209.65182%2010.4885%209.65182%2011.4801V15.8194L7.7154%2016.794C7.62782%2016.8364%207.56944%2016.8025%207.56944%2016.7262ZM13.8166%2013.6074V17.7009L11.6758%2018.7772C11.5882%2018.8196%2011.5299%2018.7942%2011.5299%2018.7094V11.514C11.5299%2011.1835%2011.6272%2011.0733%2011.9191%2010.9207L19.0906%207.3103C19.188%207.26793%2019.2561%207.3103%2019.2561%207.38658V9.53927L15.14%2011.6072C14.1572%2012.1073%2013.8166%2012.6242%2013.8166%2013.6074ZM16.0936%2013.048L23.2651%209.44605C23.3624%209.3952%2023.4306%209.43757%2023.4306%209.51385V16.6754C23.4306%2016.9805%2023.3527%2017.1161%2023.0413%2017.2771L15.8503%2020.913C15.7627%2020.9553%2015.6946%2020.9214%2015.6946%2020.8367V13.6497C15.6946%2013.3107%2015.8017%2013.2005%2016.0936%2013.048Z'%20fill='black'/%3e%3c/svg%3e",my="data:image/svg+xml,%3csvg%20width='30'%20height='32'%20viewBox='0%200%2030%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.9156%2015.7054C22.1945%2015.7054%2024.0402%2013.5658%2024.0402%2010.9342C24.0402%208.34263%2022.2039%206.27344%2019.9156%206.27344C17.6556%206.27344%2015.7911%208.37277%2015.7911%2010.9542C15.8005%2013.5759%2017.6462%2015.7054%2019.9156%2015.7054ZM9.00152%2015.9364C10.9885%2015.9364%2012.5893%2014.058%2012.5893%2011.7377C12.5893%209.47768%2010.9885%207.64955%209.00152%207.64955C7.03339%207.64955%205.40428%209.50781%205.4137%2011.7478C5.4137%2014.0681%207.02398%2015.9364%209.00152%2015.9364ZM19.9156%2013.9475C18.6161%2013.9475%2017.5144%2012.6417%2017.5144%2010.9442C17.5144%209.30692%2018.6067%208.03125%2019.9156%208.03125C21.234%208.03125%2022.3169%209.28683%2022.3169%2010.9342C22.3169%2012.6217%2021.2246%2013.9475%2019.9156%2013.9475ZM9.00152%2014.1987C7.93741%2014.1987%207.03339%2013.1138%207.03339%2011.7478C7.03339%2010.442%207.928%209.37723%209.00152%209.37723C10.0939%209.37723%2010.9791%2010.4219%2010.9791%2011.7377C10.9791%2013.1138%2010.075%2014.1987%209.00152%2014.1987ZM3.82225%2025.1674H11.1391C10.6212%2024.846%2010.2728%2024.1127%2010.3387%2023.4498H3.7375C3.55858%2023.4498%203.48324%2023.3594%203.48324%2023.1886C3.48324%2020.8884%206.00696%2018.6987%208.9921%2018.6987C10.0468%2018.6987%2011.1015%2018.9799%2011.9113%2019.4621C12.2315%2018.9699%2012.627%2018.548%2013.1449%2018.1864C11.949%2017.4029%2010.4611%2016.981%208.9921%2016.981C5.00877%2016.981%201.78821%2020.0145%201.78821%2023.3493C1.78821%2024.5547%202.46622%2025.1674%203.82225%2025.1674ZM14.049%2025.1674H25.7823C27.4115%2025.1674%2028.2025%2024.615%2028.2025%2023.4297C28.2025%2020.6674%2024.9631%2016.9911%2019.9156%2016.9911C14.8682%2016.9911%2011.6288%2020.6674%2011.6288%2023.4297C11.6288%2024.615%2012.4198%2025.1674%2014.049%2025.1674ZM13.7476%2023.4096C13.531%2023.4096%2013.4463%2023.3292%2013.4463%2023.1484C13.4463%2021.6116%2015.7722%2018.7489%2019.9156%2018.7489C24.0591%2018.7489%2026.385%2021.6116%2026.385%2023.1484C26.385%2023.3292%2026.3003%2023.4096%2026.0743%2023.4096H13.7476Z'%20fill='black'/%3e%3c/svg%3e",gy="data:image/svg+xml,%3csvg%20width='18'%20height='19'%20viewBox='0%200%2018%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.00512%209.54575C11.4815%209.54575%2013.4872%207.37025%2013.4872%204.7068C13.4872%202.084%2011.4815%200%209.00512%200C6.53894%200%204.51279%202.1145%204.52302%204.72713C4.53326%207.38042%206.52871%209.54575%209.00512%209.54575ZM9.00512%207.76672C7.59295%207.76672%206.39568%206.43499%206.39568%204.72713C6.38545%203.05993%207.58272%201.77903%209.00512%201.77903C10.4377%201.77903%2011.6146%203.03959%2011.6146%204.7068C11.6146%206.41466%2010.4275%207.76672%209.00512%207.76672ZM2.61967%2019H15.3803C17.1507%2019%2018%2018.4409%2018%2017.2413C18%2014.4457%2014.4901%2010.725%209.00512%2010.725C3.52018%2010.725%200%2014.4457%200%2017.2413C0%2018.4409%200.849346%2019%202.61967%2019ZM2.30244%2017.221C2.05685%2017.221%201.96475%2017.1396%201.96475%2016.9567C1.96475%2015.4013%204.49233%2012.504%209.00512%2012.504C13.5077%2012.504%2016.0352%2015.4013%2016.0352%2016.9567C16.0352%2017.1396%2015.9432%2017.221%2015.6976%2017.221H2.30244Z'%20fill='black'/%3e%3c/svg%3e",vy={data(){return{typeServices:[{label:"все",icon:py,active:!0},{label:"салоны красоты",icon:my,active:!1},{label:"мастера",icon:gy,active:!1}]}},methods:{selectFilter(e){this.typeServices=this.typeServices.map((t,n)=>({...t,active:n===e}))}}},yy={class:"filters-container"},by=["onClick"],wy=["src"];function _y(e,t,n,r,s,i){return q(),W("div",yy,[(q(!0),W(Ce,null,Je(s.typeServices,(a,c)=>(q(),W("div",{key:c},[b("button",{class:Bn(["filter-btn",{active:a.active}]),onClick:f=>i.selectFilter(c)},[b("img",{src:a.icon,alt:"",class:"filter-icon"},null,8,wy),Yt(" "+Fe(a.label),1)],10,by)]))),128))])}const Sy=je(vy,[["render",_y],["__scopeId","data-v-07afef8f"]]);async function ka(e){try{return(await Er(e)).favoriteUslugas.map(r=>r.id)}catch(t){return console.error(t),[]}}async function xy(e){try{return(await Er(e)).favoriteUslugas}catch(t){return console.error(t),[]}}async function Cy(e,t){const n=localStorage.getItem("token");if(!n||St(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const s=(await ka(e)).includes(t),i=!s,a=s?"DELETE":"POST",c=`http://localhost:8080/user/${e}/${t}/favorite`,p=await fetch(c,{method:a,headers:{Authorization:n}});if(!p.ok)throw new Error(`Request failed with status ${p.status}`);return i}catch(r){return console.error(r),null}}const Ey="data:image/svg+xml,%3csvg%20width='316'%20height='200'%20viewBox='0%200%20316%20175'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2030C0%2013.4315%2013.4315%200%2030%200H286C302.569%200%20316%2013.4315%20316%2030V145C316%20161.569%20302.569%20175%20286%20175H30C13.4315%20175%200%20161.569%200%20145V30Z'%20fill='%23F9CFD3'/%3e%3c/svg%3e",Dy="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.04894%200.927052C9.3483%200.00574108%2010.6517%200.00573985%2010.9511%200.92705L12.4697%205.60081C12.6035%206.01284%2012.9875%206.2918%2013.4207%206.2918H18.335C19.3037%206.2918%2019.7065%207.53141%2018.9228%208.10081L14.947%2010.9894C14.5966%2011.244%2014.4499%2011.6954%2014.5838%2012.1074L16.1024%2016.7812C16.4017%2017.7025%2015.3472%2018.4686%2014.5635%2017.8992L10.5878%2015.0106C10.2373%2014.756%209.7627%2014.756%209.41221%2015.0106L5.43648%2017.8992C4.65276%2018.4686%203.59828%2017.7025%203.89763%2016.7812L5.41623%2012.1074C5.5501%2011.6954%205.40345%2011.244%205.05296%2010.9894L1.07722%208.10081C0.293507%207.53141%200.696283%206.2918%201.66501%206.2918H6.57929C7.01252%206.2918%207.39647%206.01284%207.53035%205.60081L9.04894%200.927052Z'%20fill='%23939393'/%3e%3c/svg%3e",Ty={name:"usluga",props:{service:{type:Object,required:!0},isFavorite:{type:Boolean}},data(){return{favoriteState:this.isFavorite}},methods:{toggleFavorite:async function(e){try{const t=await Cy(localStorage.getItem("userID"),e);this.favoriteState=t,this.$emit("update-favorites",e,t)}catch(t){console.error("Failed to toggle favorite state:",t)}},onServiceClick(){localStorage.getItem("token")?this.$emit("show-service-details",this.service):this.$emit("show-login-modal")}}},Oy={class:"service-info"},Py={class:"service-name-rating"},My={class:"service-title"},Iy={class:"service-description"};function Ay(e,t,n,r,s,i){return q(),W("div",{class:"service",onClick:t[1]||(t[1]=(...a)=>i.onServiceClick&&i.onServiceClick(...a))},[t[2]||(t[2]=b("img",{src:Ey,alt:"service image",class:"service-image"},null,-1)),b("div",Oy,[b("div",Py,[b("h2",My,Fe(n.service.name),1),b("div",{class:Bn(["service-rating",{favorite:n.isFavorite}]),onClick:t[0]||(t[0]=kt(a=>i.toggleFavorite(n.service.id),["stop"]))},[b("img",{src:Dy,alt:"rating star",class:Bn(["rating-icon",{favorite:n.isFavorite}])},null,2)],2)]),b("div",Iy,[b("p",null,Fe(n.service.description),1)])])])}const Td=je(Ty,[["render",Ay],["__scopeId","data-v-960c6a35"]]);async function ky(e,t){const n=localStorage.getItem("token");if(!n||St(n))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{return(await Ie.post(`http://localhost:8080/applications/${e}/${t}`,{},{headers:{Authorization:`Bearer ${n}`}})).data}catch(r){console.error(r)}}async function Ry(e){const t=localStorage.getItem("token");if(!t||St(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");try{const n=await Ie.delete(`http://localhost:8080/applications/${e}`,{headers:{Authorization:t}});return!0}catch(n){return console.error(n),!1}}async function Ny(e){const t=localStorage.getItem("token");if(!t||St(t))throw console.error("Токен отсутствует или истёк. Требуется авторизация."),new Error("Токен отсутствует или истёк. Требуется авторизация.");return(await wd()).filter(s=>s.id===e)[0].slots.filter(s=>s.available)}const $y={props:{isServiceModalVisible:Boolean,selectedService:Object},data(){return{availableSlots:[],selectedSlot:null}},computed:{groupedSlots(){return this.availableSlots.reduce((e,t)=>{const n=t.date.split("T")[0];return e[n]||(e[n]=[]),e[n].push(t),e},{})}},async created(){this.selectedService&&this.loadAvailableSlots()},watch:{selectedService:{handler(e){e&&e.id&&this.loadAvailableSlots()},immediate:!0}},methods:{async loadAvailableSlots(){try{const e=await Ny(this.selectedService.id);this.availableSlots=e}catch(e){console.error("Ошибка при получении слотов:",e)}},closeModal(){this.$emit("close")},async applyForService(){if(!this.selectedSlot){alert("Пожалуйста, выберите слот для записи.");return}const e=localStorage.getItem("userID");this.selectedService.id;try{await ky(e,this.selectedSlot.id)&&(alert("Вы успешно записались на услугу!"),this.closeModal(),this.$emit("refreshServices"))}catch(t){alert("Произошла ошибка при записи на услугу."),console.error(t)}},formatSlotTime(e){const t=e.time.split(":");return t.length===2?`${t[0]}:${t[1]}:00`:e.time}}},Fy={key:0,class:"modal"},Ly={class:"modal-content"},By={class:"modal-header"},Uy={class:"modal-body"},jy={key:0},qy=["value","disabled"],Vy={key:0,class:"unavailable"},Ky={key:1},Hy={class:"modal-footer"},zy=["disabled"];function Wy(e,t,n,r,s,i){return n.isServiceModalVisible?(q(),W("div",Fy,[b("div",Ly,[b("div",By,[b("h2",null,Fe(n.selectedService.name),1),b("button",{onClick:t[0]||(t[0]=(...a)=>i.closeModal&&i.closeModal(...a))},"Закрыть")]),b("div",Uy,[b("p",null,Fe(n.selectedService.description),1),b("p",null,"Стоимость: "+Fe(n.selectedService.price)+" ₽",1),b("p",null,"Длительность: "+Fe(n.selectedService.durationMinutes)+" минут",1),b("p",null,"Локация: "+Fe(n.selectedService.location),1),t[3]||(t[3]=b("h3",null,"Доступные слоты:",-1)),s.availableSlots.length>0?(q(),W("div",jy,[(q(!0),W(Ce,null,Je(i.groupedSlots,(a,c)=>(q(),W("div",{key:c},[b("h4",null,Fe(c),1),b("ul",null,[(q(!0),W(Ce,null,Je(a,f=>(q(),W("li",{key:f.id},[b("label",{class:Bn({disabled:!f.available})},[ut(b("input",{type:"radio",value:f,"onUpdate:modelValue":t[1]||(t[1]=p=>s.selectedSlot=p),disabled:!f.available},null,8,qy),[[xa,s.selectedSlot]]),Yt(" "+Fe(i.formatSlotTime(f))+" ",1),f.available?lt("",!0):(q(),W("span",Vy," - Недоступно"))],2)]))),128))])]))),128))])):(q(),W("p",Ky,"Нет доступных слотов для записи."))]),b("div",Hy,[b("button",{onClick:t[2]||(t[2]=(...a)=>i.applyForService&&i.applyForService(...a)),disabled:!s.selectedSlot},"Записаться",8,zy)])])])):lt("",!0)}const Yy=je($y,[["render",Wy],["__scopeId","data-v-221e2e46"]]);var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Od={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(uu,function(){var n=function(o,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])})(o,l)},r=function(){return(r=Object.assign||function(o){for(var l,u=1,d=arguments.length;u<d;u++)for(var m in l=arguments[u])Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m]);return o}).apply(this,arguments)};function s(o,l,u){for(var d,m=0,v=l.length;m<v;m++)!d&&m in l||((d=d||Array.prototype.slice.call(l,0,m))[m]=l[m]);return o.concat(d||Array.prototype.slice.call(l))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:uu,a=Object.keys,c=Array.isArray;function f(o,l){return typeof l!="object"||a(l).forEach(function(u){o[u]=l[u]}),o}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var p=Object.getPrototypeOf,h={}.hasOwnProperty;function g(o,l){return h.call(o,l)}function w(o,l){typeof l=="function"&&(l=l(p(o))),(typeof Reflect>"u"?a:Reflect.ownKeys)(l).forEach(function(u){R(o,u,l[u])})}var D=Object.defineProperty;function R(o,l,u,d){D(o,l,f(u&&g(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},d))}function B(o){return{from:function(l){return o.prototype=Object.create(l.prototype),R(o.prototype,"constructor",o),{extend:w.bind(null,o.prototype)}}}}var j=Object.getOwnPropertyDescriptor,Z=[].slice;function G(o,l,u){return Z.call(o,l,u)}function ee(o,l){return l(o)}function ie(o){if(!o)throw new Error("Assertion Failed")}function be(o){i.setImmediate?setImmediate(o):setTimeout(o,0)}function K(o,l){if(typeof l=="string"&&g(o,l))return o[l];if(!l)return o;if(typeof l!="string"){for(var u=[],d=0,m=l.length;d<m;++d){var v=K(o,l[d]);u.push(v)}return u}var y=l.indexOf(".");if(y!==-1){var S=o[l.substr(0,y)];return S==null?void 0:K(S,l.substr(y+1))}}function ue(o,l,u){if(o&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof l!="string"&&"length"in l){ie(typeof u!="string"&&"length"in u);for(var d=0,m=l.length;d<m;++d)ue(o,l[d],u[d])}else{var v,y,S=l.indexOf(".");S!==-1?(v=l.substr(0,S),(y=l.substr(S+1))===""?u===void 0?c(o)&&!isNaN(parseInt(v))?o.splice(v,1):delete o[v]:o[v]=u:ue(S=!(S=o[v])||!g(o,v)?o[v]={}:S,y,u)):u===void 0?c(o)&&!isNaN(parseInt(l))?o.splice(l,1):delete o[l]:o[l]=u}}function Ae(o){var l,u={};for(l in o)g(o,l)&&(u[l]=o[l]);return u}var Ze=[].concat;function ct(o){return Ze.apply([],o)}var In="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ct([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(l){return l+o+"Array"})}))).filter(function(o){return i[o]}),yt=new Set(In.map(function(o){return i[o]})),ft=null;function Ge(o){return ft=new WeakMap,o=function l(u){if(!u||typeof u!="object")return u;var d=ft.get(u);if(d)return d;if(c(u)){d=[],ft.set(u,d);for(var m=0,v=u.length;m<v;++m)d.push(l(u[m]))}else if(yt.has(u.constructor))d=u;else{var y,S=p(u);for(y in d=S===Object.prototype?{}:Object.create(S),ft.set(u,d),u)g(u,y)&&(d[y]=l(u[y]))}return d}(o),ft=null,o}var xt={}.toString;function nt(o){return xt.call(o).slice(8,-1)}var ze=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Be=typeof ze=="symbol"?function(o){var l;return o!=null&&(l=o[ze])&&l.apply(o)}:function(){return null};function Oe(o,l){return l=o.indexOf(l),0<=l&&o.splice(l,1),0<=l}var mt={};function dt(o){var l,u,d,m;if(arguments.length===1){if(c(o))return o.slice();if(this===mt&&typeof o=="string")return[o];if(m=Be(o)){for(u=[];!(d=m.next()).done;)u.push(d.value);return u}if(o==null)return[o];if(typeof(l=o.length)!="number")return[o];for(u=new Array(l);l--;)u[l]=o[l];return u}for(l=arguments.length,u=new Array(l);l--;)u[l]=arguments[l];return u}var It=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ge=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ge),bt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Nt(o,l){this.name=o,this.message=l}function un(o,l){return o+". Errors: "+Object.keys(l).map(function(u){return l[u].toString()}).filter(function(u,d,m){return m.indexOf(u)===d}).join(`
`)}function fn(o,l,u,d){this.failures=l,this.failedKeys=d,this.successCount=u,this.message=un(o,l)}function wt(o,l){this.name="BulkError",this.failures=Object.keys(l).map(function(u){return l[u]}),this.failuresByPos=l,this.message=un(o,this.failures)}B(Nt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),B(fn).from(Nt),B(wt).from(Nt);var Y=on.reduce(function(o,l){return o[l]=l+"Error",o},{}),pe=Nt,V=on.reduce(function(o,l){var u=l+"Error";function d(m,v){this.name=u,m?typeof m=="string"?(this.message="".concat(m).concat(v?`
 `+v:""),this.inner=v||null):typeof m=="object"&&(this.message="".concat(m.name," ").concat(m.message),this.inner=m):(this.message=bt[l]||u,this.inner=null)}return B(d).from(pe),o[l]=d,o},{});V.Syntax=SyntaxError,V.Type=TypeError,V.Range=RangeError;var ye=ge.reduce(function(o,l){return o[l+"Error"]=V[l],o},{}),qe=on.reduce(function(o,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(o[l+"Error"]=V[l]),o},{});function Se(){}function _(o){return o}function x(o,l){return o==null||o===_?l:function(u){return l(o(u))}}function N(o,l){return function(){o.apply(this,arguments),l.apply(this,arguments)}}function X(o,l){return o===Se?l:function(){var u=o.apply(this,arguments);u!==void 0&&(arguments[0]=u);var d=this.onsuccess,m=this.onerror;this.onsuccess=null,this.onerror=null;var v=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?N(d,this.onsuccess):d),m&&(this.onerror=this.onerror?N(m,this.onerror):m),v!==void 0?v:u}}function z(o,l){return o===Se?l:function(){o.apply(this,arguments);var u=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?N(u,this.onsuccess):u),d&&(this.onerror=this.onerror?N(d,this.onerror):d)}}function Q(o,l){return o===Se?l:function(u){var d=o.apply(this,arguments);f(u,d);var m=this.onsuccess,v=this.onerror;return this.onsuccess=null,this.onerror=null,u=l.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?N(m,this.onsuccess):m),v&&(this.onerror=this.onerror?N(v,this.onerror):v),d===void 0?u===void 0?void 0:u:f(d,u)}}function fe(o,l){return o===Se?l:function(){return l.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function oe(o,l){return o===Se?l:function(){var u=o.apply(this,arguments);if(u&&typeof u.then=="function"){for(var d=this,m=arguments.length,v=new Array(m);m--;)v[m]=arguments[m];return u.then(function(){return l.apply(d,v)})}return l.apply(this,arguments)}}qe.ModifyError=fn,qe.DexieError=Nt,qe.BulkError=wt;var te=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function J(o){te=o}var we={},he=100,In=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,p(o),o];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,p(l),o]}(),ge=In[0],on=In[1],In=In[2],on=on&&on.then,_e=ge&&ge.constructor,ke=!!In,Ke=function(o,l){_t.push([o,l]),Ct&&(queueMicrotask(Yd),Ct=!1)},Ve=!0,Ct=!0,st=[],$t=[],At=_,Xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Se,pgp:!1,env:{},finalize:Se},ve=Xt,_t=[],Et=0,ar=[];function de(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=ve;if(typeof o!="function"){if(o!==we)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&go(this,this._value))}this._state=null,this._value=null,++l.ref,function u(d,m){try{m(function(v){if(d._state===null){if(v===d)throw new TypeError("A promise cannot be resolved with itself.");var y=d._lib&&Tr();v&&typeof v.then=="function"?u(d,function(S,E){v instanceof de?v._then(S,E):v.then(S,E)}):(d._state=!0,d._value=v,xl(d)),y&&Or()}},go.bind(null,d))}catch(v){go(d,v)}}(this,o)}var mo={get:function(){var o=ve,l=Js;function u(d,m){var v=this,y=!o.global&&(o!==ve||l!==Js),S=y&&!qn(),E=new de(function(O,I){vo(v,new Sl(El(d,o,y,S),El(m,o,y,S),O,I,o))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return u.prototype=we,u},set:function(o){R(this,"then",o&&o.prototype===we?mo:{get:function(){return o},set:mo.set})}};function Sl(o,l,u,d,m){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof l=="function"?l:null,this.resolve=u,this.reject=d,this.psd=m}function go(o,l){var u,d;$t.push(l),o._state===null&&(u=o._lib&&Tr(),l=At(l),o._state=!1,o._value=l,d=o,st.some(function(m){return m._value===d._value})||st.push(d),xl(o),u&&Or())}function xl(o){var l=o._listeners;o._listeners=[];for(var u=0,d=l.length;u<d;++u)vo(o,l[u]);var m=o._PSD;--m.ref||m.finalize(),Et===0&&(++Et,Ke(function(){--Et==0&&yo()},[]))}function vo(o,l){if(o._state!==null){var u=o._state?l.onFulfilled:l.onRejected;if(u===null)return(o._state?l.resolve:l.reject)(o._value);++l.psd.ref,++Et,Ke(Wd,[u,o,l])}else o._listeners.push(l)}function Wd(o,l,u){try{var d,m=l._value;!l._state&&$t.length&&($t=[]),d=te&&l._consoleTask?l._consoleTask.run(function(){return o(m)}):o(m),l._state||$t.indexOf(m)!==-1||function(v){for(var y=st.length;y;)if(st[--y]._value===v._value)return st.splice(y,1)}(l),u.resolve(d)}catch(v){u.reject(v)}finally{--Et==0&&yo(),--u.psd.ref||u.psd.finalize()}}function Yd(){lr(Xt,function(){Tr()&&Or()})}function Tr(){var o=Ve;return Ct=Ve=!1,o}function Or(){var o,l,u;do for(;0<_t.length;)for(o=_t,_t=[],u=o.length,l=0;l<u;++l){var d=o[l];d[0].apply(null,d[1])}while(0<_t.length);Ct=Ve=!0}function yo(){var o=st;st=[],o.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=ar.slice(0),u=l.length;u;)l[--u]()}function Xs(o){return new de(we,!1,o)}function it(o,l){var u=ve;return function(){var d=Tr(),m=ve;try{return Vn(u,!0),o.apply(this,arguments)}catch(v){l&&l(v)}finally{Vn(m,!1),d&&Or()}}}w(de.prototype,{then:mo,_then:function(o,l){vo(this,new Sl(null,null,o,l,ve))},catch:function(o){if(arguments.length===1)return this.then(null,o);var l=o,u=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?u:Xs)(d)}):this.then(null,function(d){return(d&&d.name===l?u:Xs)(d)})},finally:function(o){return this.then(function(l){return de.resolve(o()).then(function(){return l})},function(l){return de.resolve(o()).then(function(){return Xs(l)})})},timeout:function(o,l){var u=this;return o<1/0?new de(function(d,m){var v=setTimeout(function(){return m(new V.Timeout(l))},o);u.then(d,m).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&R(de.prototype,Symbol.toStringTag,"Dexie.Promise"),Xt.env=Cl(),w(de,{all:function(){var o=dt.apply(null,arguments).map(Zs);return new de(function(l,u){o.length===0&&l([]);var d=o.length;o.forEach(function(m,v){return de.resolve(m).then(function(y){o[v]=y,--d||l(o)},u)})})},resolve:function(o){return o instanceof de?o:o&&typeof o.then=="function"?new de(function(l,u){o.then(l,u)}):new de(we,!0,o)},reject:Xs,race:function(){var o=dt.apply(null,arguments).map(Zs);return new de(function(l,u){o.map(function(d){return de.resolve(d).then(l,u)})})},PSD:{get:function(){return ve},set:function(o){return ve=o}},totalEchoes:{get:function(){return Js}},newPSD:jn,usePSD:lr,scheduler:{get:function(){return Ke},set:function(o){Ke=o}},rejectionMapper:{get:function(){return At},set:function(o){At=o}},follow:function(o,l){return new de(function(u,d){return jn(function(m,v){var y=ve;y.unhandleds=[],y.onunhandled=v,y.finalize=N(function(){var S,E=this;S=function(){E.unhandleds.length===0?m():v(E.unhandleds[0])},ar.push(function O(){S(),ar.splice(ar.indexOf(O),1)}),++Et,Ke(function(){--Et==0&&yo()},[])},y.finalize),o()},l,u,d)})}}),_e&&(_e.allSettled&&R(de,"allSettled",function(){var o=dt.apply(null,arguments).map(Zs);return new de(function(l){o.length===0&&l([]);var u=o.length,d=new Array(u);o.forEach(function(m,v){return de.resolve(m).then(function(y){return d[v]={status:"fulfilled",value:y}},function(y){return d[v]={status:"rejected",reason:y}}).then(function(){return--u||l(d)})})})}),_e.any&&typeof AggregateError<"u"&&R(de,"any",function(){var o=dt.apply(null,arguments).map(Zs);return new de(function(l,u){o.length===0&&u(new AggregateError([]));var d=o.length,m=new Array(d);o.forEach(function(v,y){return de.resolve(v).then(function(S){return l(S)},function(S){m[y]=S,--d||u(new AggregateError(m))})})})}),_e.withResolvers&&(de.withResolvers=_e.withResolvers));var Dt={awaits:0,echoes:0,id:0},Xd=0,Gs=[],Qs=0,Js=0,Gd=0;function jn(o,l,u,d){var m=ve,v=Object.create(m);return v.parent=m,v.ref=0,v.global=!1,v.id=++Gd,Xt.env,v.env=ke?{Promise:de,PromiseProp:{value:de,configurable:!0,writable:!0},all:de.all,race:de.race,allSettled:de.allSettled,any:de.any,resolve:de.resolve,reject:de.reject}:{},l&&f(v,l),++m.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},d=lr(v,o,u,d),v.ref===0&&v.finalize(),d}function Pr(){return Dt.id||(Dt.id=++Xd),++Dt.awaits,Dt.echoes+=he,Dt.id}function qn(){return!!Dt.awaits&&(--Dt.awaits==0&&(Dt.id=0),Dt.echoes=Dt.awaits*he,!0)}function Zs(o){return Dt.echoes&&o&&o.constructor===_e?(Pr(),o.then(function(l){return qn(),l},function(l){return qn(),ht(l)})):o}function Qd(){var o=Gs[Gs.length-1];Gs.pop(),Vn(o,!1)}function Vn(o,l){var u,d=ve;(l?!Dt.echoes||Qs++&&o===ve:!Qs||--Qs&&o===ve)||queueMicrotask(l?(function(m){++Js,Dt.echoes&&--Dt.echoes!=0||(Dt.echoes=Dt.awaits=Dt.id=0),Gs.push(ve),Vn(m,!0)}).bind(null,o):Qd),o!==ve&&(ve=o,d===Xt&&(Xt.env=Cl()),ke&&(u=Xt.env.Promise,l=o.env,(d.global||o.global)&&(Object.defineProperty(i,"Promise",l.PromiseProp),u.all=l.all,u.race=l.race,u.resolve=l.resolve,u.reject=l.reject,l.allSettled&&(u.allSettled=l.allSettled),l.any&&(u.any=l.any))))}function Cl(){var o=i.Promise;return ke?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function lr(o,l,u,d,m){var v=ve;try{return Vn(o,!0),l(u,d,m)}finally{Vn(v,!1)}}function El(o,l,u,d){return typeof o!="function"?o:function(){var m=ve;u&&Pr(),Vn(l,!0);try{return o.apply(this,arguments)}finally{Vn(m,!1),d&&queueMicrotask(qn)}}}function bo(o){Promise===_e&&Dt.echoes===0?Qs===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+on).indexOf("[native code]")===-1&&(Pr=qn=Se);var ht=de.reject,cr="￿",Mn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Dl="String expected.",Mr=[],ei="__dbnames",wo="readonly",_o="readwrite";function ur(o,l){return o?l?function(){return o.apply(this,arguments)&&l.apply(this,arguments)}:o:l}var Tl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ti(o){return typeof o!="string"||/\./.test(o)?function(l){return l}:function(l){return l[o]===void 0&&o in l&&delete(l=Ge(l))[o],l}}function Ol(){throw V.Type()}function Ue(o,l){try{var u=Pl(o),d=Pl(l);if(u!==d)return u==="Array"?1:d==="Array"?-1:u==="binary"?1:d==="binary"?-1:u==="string"?1:d==="string"?-1:u==="Date"?1:d!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return l<o?1:o<l?-1:0;case"binary":return function(m,v){for(var y=m.length,S=v.length,E=y<S?y:S,O=0;O<E;++O)if(m[O]!==v[O])return m[O]<v[O]?-1:1;return y===S?0:y<S?-1:1}(Ml(o),Ml(l));case"Array":return function(m,v){for(var y=m.length,S=v.length,E=y<S?y:S,O=0;O<E;++O){var I=Ue(m[O],v[O]);if(I!==0)return I}return y===S?0:y<S?-1:1}(o,l)}}catch{}return NaN}function Pl(o){var l=typeof o;return l!="object"?l:ArrayBuffer.isView(o)?"binary":(o=nt(o),o==="ArrayBuffer"?"binary":o)}function Ml(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}var Il=(rt.prototype._trans=function(o,l,u){var d=this._tx||ve.trans,m=this.name,v=te&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function y(O,I,C){if(!C.schema[m])throw new V.NotFound("Table "+m+" not part of transaction");return l(C.idbtrans,C)}var S=Tr();try{var E=d&&d.db._novip===this.db._novip?d===ve.trans?d._promise(o,y,u):jn(function(){return d._promise(o,y,u)},{trans:d,transless:ve.transless||ve}):function O(I,C,k,T){if(I.idbdb&&(I._state.openComplete||ve.letThrough||I._vip)){var M=I._createTransaction(C,k,I._dbSchema);try{M.create(),I._state.PR1398_maxLoop=3}catch(A){return A.name===Y.InvalidState&&I.isOpen()&&0<--I._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),I.close({disableAutoOpen:!1}),I.open().then(function(){return O(I,C,k,T)})):ht(A)}return M._promise(C,function(A,P){return jn(function(){return ve.trans=M,T(A,P,M)})}).then(function(A){if(C==="readwrite")try{M.idbtrans.commit()}catch{}return C==="readonly"?A:M._completion.then(function(){return A})})}if(I._state.openComplete)return ht(new V.DatabaseClosed(I._state.dbOpenError));if(!I._state.isBeingOpened){if(!I._state.autoOpen)return ht(new V.DatabaseClosed);I.open().catch(Se)}return I._state.dbReadyPromise.then(function(){return O(I,C,k,T)})}(this.db,o,[this.name],y);return v&&(E._consoleTask=v,E=E.catch(function(O){return console.trace(O),ht(O)})),E}finally{S&&Or()}},rt.prototype.get=function(o,l){var u=this;return o&&o.constructor===Object?this.where(o).first(l):o==null?ht(new V.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return u.core.get({trans:d,key:o}).then(function(m){return u.hook.reading.fire(m)})}).then(l)},rt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(c(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var l=a(o);if(l.length===1)return this.where(l[0]).equals(o[l[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&l.every(function(O){return 0<=S.keyPath.indexOf(O)})){for(var E=0;E<l.length;++E)if(l.indexOf(S.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(S,E){return S.keyPath.length-E.keyPath.length})[0];if(u&&this.db._maxKey!==cr){var v=u.keyPath.slice(0,l.length);return this.where(v).equals(v.map(function(E){return o[E]}))}!u&&te&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function m(S,E){return Ue(S,E)===0}var y=l.reduce(function(C,E){var O=C[0],I=C[1],C=d[E],k=o[E];return[O||C,O||!C?ur(I,C&&C.multi?function(T){return T=K(T,E),c(T)&&T.some(function(M){return m(k,M)})}:function(T){return m(k,K(T,E))}):I]},[null,null]),v=y[0],y=y[1];return v?this.where(v.name).equals(o[v.keyPath]).filter(y):u?this.filter(y):this.where(l).equals("")},rt.prototype.filter=function(o){return this.toCollection().and(o)},rt.prototype.count=function(o){return this.toCollection().count(o)},rt.prototype.offset=function(o){return this.toCollection().offset(o)},rt.prototype.limit=function(o){return this.toCollection().limit(o)},rt.prototype.each=function(o){return this.toCollection().each(o)},rt.prototype.toArray=function(o){return this.toCollection().toArray(o)},rt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},rt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,c(o)?"[".concat(o.join("+"),"]"):o))},rt.prototype.reverse=function(){return this.toCollection().reverse()},rt.prototype.mapToClass=function(o){var l,u=this.db,d=this.name;function m(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof Ol&&(function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function I(){this.constructor=E}n(E,O),E.prototype=O===null?Object.create(O):(I.prototype=O.prototype,new I)}(m,l=o),Object.defineProperty(m.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),m.prototype.table=function(){return d},o=m);for(var v=new Set,y=o.prototype;y;y=p(y))Object.getOwnPropertyNames(y).forEach(function(E){return v.add(E)});function S(E){if(!E)return E;var O,I=Object.create(o.prototype);for(O in E)if(!v.has(O))try{I[O]=E[O]}catch{}return I}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=S,this.hook("reading",S),o},rt.prototype.defineClass=function(){return this.mapToClass(function(o){f(this,o)})},rt.prototype.add=function(o,l){var u=this,d=this.schema.primKey,m=d.auto,v=d.keyPath,y=o;return v&&m&&(y=ti(v)(o)),this._trans("readwrite",function(S){return u.core.mutate({trans:S,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(S){return S.numFailures?de.reject(S.failures[0]):S.lastResult}).then(function(S){if(v)try{ue(o,v,S)}catch{}return S})},rt.prototype.update=function(o,l){return typeof o!="object"||c(o)?this.where(":id").equals(o).modify(l):(o=K(o,this.schema.primKey.keyPath),o===void 0?ht(new V.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(l))},rt.prototype.put=function(o,l){var u=this,d=this.schema.primKey,m=d.auto,v=d.keyPath,y=o;return v&&m&&(y=ti(v)(o)),this._trans("readwrite",function(S){return u.core.mutate({trans:S,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(S){return S.numFailures?de.reject(S.failures[0]):S.lastResult}).then(function(S){if(v)try{ue(o,v,S)}catch{}return S})},rt.prototype.delete=function(o){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"delete",keys:[o]})}).then(function(u){return u.numFailures?de.reject(u.failures[0]):void 0})},rt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(l){return o.core.mutate({trans:l,type:"deleteRange",range:Tl})}).then(function(l){return l.numFailures?de.reject(l.failures[0]):void 0})},rt.prototype.bulkGet=function(o){var l=this;return this._trans("readonly",function(u){return l.core.getMany({keys:o,trans:u}).then(function(d){return d.map(function(m){return l.hook.reading.fire(m)})})})},rt.prototype.bulkAdd=function(o,l,u){var d=this,m=Array.isArray(l)?l:void 0,v=(u=u||(m?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(y){var O=d.schema.primKey,S=O.auto,O=O.keyPath;if(O&&m)throw new V.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(m&&m.length!==o.length)throw new V.InvalidArgument("Arguments objects and keys must have the same length");var E=o.length,O=O&&S?o.map(ti(O)):o;return d.core.mutate({trans:y,type:"add",keys:m,values:O,wantResults:v}).then(function(M){var C=M.numFailures,k=M.results,T=M.lastResult,M=M.failures;if(C===0)return v?k:T;throw new wt("".concat(d.name,".bulkAdd(): ").concat(C," of ").concat(E," operations failed"),M)})})},rt.prototype.bulkPut=function(o,l,u){var d=this,m=Array.isArray(l)?l:void 0,v=(u=u||(m?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(y){var O=d.schema.primKey,S=O.auto,O=O.keyPath;if(O&&m)throw new V.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(m&&m.length!==o.length)throw new V.InvalidArgument("Arguments objects and keys must have the same length");var E=o.length,O=O&&S?o.map(ti(O)):o;return d.core.mutate({trans:y,type:"put",keys:m,values:O,wantResults:v}).then(function(M){var C=M.numFailures,k=M.results,T=M.lastResult,M=M.failures;if(C===0)return v?k:T;throw new wt("".concat(d.name,".bulkPut(): ").concat(C," of ").concat(E," operations failed"),M)})})},rt.prototype.bulkUpdate=function(o){var l=this,u=this.core,d=o.map(function(y){return y.key}),m=o.map(function(y){return y.changes}),v=[];return this._trans("readwrite",function(y){return u.getMany({trans:y,keys:d,cache:"clone"}).then(function(S){var E=[],O=[];o.forEach(function(C,k){var T=C.key,M=C.changes,A=S[k];if(A){for(var P=0,$=Object.keys(M);P<$.length;P++){var F=$[P],L=M[F];if(F===l.schema.primKey.keyPath){if(Ue(L,T)!==0)throw new V.Constraint("Cannot update primary key in bulkUpdate()")}else ue(A,F,L)}v.push(k),E.push(T),O.push(A)}});var I=E.length;return u.mutate({trans:y,type:"put",keys:E,values:O,updates:{keys:d,changeSpecs:m}}).then(function(C){var k=C.numFailures,T=C.failures;if(k===0)return I;for(var M=0,A=Object.keys(T);M<A.length;M++){var P,$=A[M],F=v[Number($)];F!=null&&(P=T[$],delete T[$],T[F]=P)}throw new wt("".concat(l.name,".bulkUpdate(): ").concat(k," of ").concat(I," operations failed"),T)})})})},rt.prototype.bulkDelete=function(o){var l=this,u=o.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:o})}).then(function(y){var m=y.numFailures,v=y.lastResult,y=y.failures;if(m===0)return v;throw new wt("".concat(l.name,".bulkDelete(): ").concat(m," of ").concat(u," operations failed"),y)})},rt);function rt(){}function ss(o){function l(y,S){if(S){for(var E=arguments.length,O=new Array(E-1);--E;)O[E-1]=arguments[E];return u[y].subscribe.apply(null,O),o}if(typeof y=="string")return u[y]}var u={};l.addEventType=v;for(var d=1,m=arguments.length;d<m;++d)v(arguments[d]);return l;function v(y,S,E){if(typeof y!="object"){var O;S=S||fe;var I={subscribers:[],fire:E=E||Se,subscribe:function(C){I.subscribers.indexOf(C)===-1&&(I.subscribers.push(C),I.fire=S(I.fire,C))},unsubscribe:function(C){I.subscribers=I.subscribers.filter(function(k){return k!==C}),I.fire=I.subscribers.reduce(S,E)}};return u[y]=l[y]=I}a(O=y).forEach(function(C){var k=O[C];if(c(k))v(C,O[C][0],O[C][1]);else{if(k!=="asap")throw new V.InvalidArgument("Invalid event config");var T=v(C,_,function(){for(var M=arguments.length,A=new Array(M);M--;)A[M]=arguments[M];T.subscribers.forEach(function(P){be(function(){P.apply(null,A)})})})}})}}function is(o,l){return B(l).from({prototype:o}),l}function Ir(o,l){return!(o.filter||o.algorithm||o.or)&&(l?o.justLimit:!o.replayFilter)}function So(o,l){o.filter=ur(o.filter,l)}function xo(o,l,u){var d=o.replayFilter;o.replayFilter=d?function(){return ur(d(),l())}:l,o.justLimit=u&&!d}function ni(o,l){if(o.isPrimKey)return l.primaryKey;var u=l.getIndexByKeyPath(o.index);if(!u)throw new V.Schema("KeyPath "+o.index+" on object store "+l.name+" is not indexed");return u}function Al(o,l,u){var d=ni(o,l.schema);return l.openCursor({trans:u,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:d,range:o.range}})}function ri(o,l,u,d){var m=o.replayFilter?ur(o.filter,o.replayFilter()):o.filter;if(o.or){var v={},y=function(S,E,O){var I,C;m&&!m(E,O,function(k){return E.stop(k)},function(k){return E.fail(k)})||((C=""+(I=E.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(I)),g(v,C)||(v[C]=!0,l(S,E,O)))};return Promise.all([o.or._iterate(y,u),kl(Al(o,d,u),o.algorithm,y,!o.keysOnly&&o.valueMapper)])}return kl(Al(o,d,u),ur(o.algorithm,m),l,!o.keysOnly&&o.valueMapper)}function kl(o,l,u,d){var m=it(d?function(v,y,S){return u(d(v),y,S)}:u);return o.then(function(v){if(v)return v.start(function(){var y=function(){return v.continue()};l&&!l(v,function(S){return y=S},function(S){v.stop(S),y=Se},function(S){v.fail(S),y=Se})||m(v.value,v,function(S){return y=S}),y()})})}var In=Symbol(),os=(Rl.prototype.execute=function(o){if(this.add!==void 0){var l=this.add;if(c(l))return s(s([],c(o)?o:[],!0),l).sort();if(typeof l=="number")return(Number(o)||0)+l;if(typeof l=="bigint")try{return BigInt(o)+l}catch{return BigInt(0)+l}throw new TypeError("Invalid term ".concat(l))}if(this.remove!==void 0){var u=this.remove;if(c(u))return c(o)?o.filter(function(d){return!u.includes(d)}).sort():[];if(typeof u=="number")return Number(o)-u;if(typeof u=="bigint")try{return BigInt(o)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return l=(l=this.replacePrefix)===null||l===void 0?void 0:l[0],l&&typeof o=="string"&&o.startsWith(l)?this.replacePrefix[1]+o.substring(l.length):o},Rl);function Rl(o){Object.assign(this,o)}var Jd=(He.prototype._read=function(o,l){var u=this._ctx;return u.error?u.table._trans(null,ht.bind(null,u.error)):u.table._trans("readonly",o).then(l)},He.prototype._write=function(o){var l=this._ctx;return l.error?l.table._trans(null,ht.bind(null,l.error)):l.table._trans("readwrite",o,"locked")},He.prototype._addAlgorithm=function(o){var l=this._ctx;l.algorithm=ur(l.algorithm,o)},He.prototype._iterate=function(o,l){return ri(this._ctx,o,l,this._ctx.table.core)},He.prototype.clone=function(o){var l=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return o&&f(u,o),l._ctx=u,l},He.prototype.raw=function(){return this._ctx.valueMapper=null,this},He.prototype.each=function(o){var l=this._ctx;return this._read(function(u){return ri(l,o,u,l.table.core)})},He.prototype.count=function(o){var l=this;return this._read(function(u){var d=l._ctx,m=d.table.core;if(Ir(d,!0))return m.count({trans:u,query:{index:ni(d,m.schema),range:d.range}}).then(function(y){return Math.min(y,d.limit)});var v=0;return ri(d,function(){return++v,!1},u,m).then(function(){return v})}).then(o)},He.prototype.sortBy=function(o,l){var u=o.split(".").reverse(),d=u[0],m=u.length-1;function v(E,O){return O?v(E[u[O]],O-1):E[d]}var y=this._ctx.dir==="next"?1:-1;function S(E,O){return Ue(v(E,m),v(O,m))*y}return this.toArray(function(E){return E.sort(S)}).then(l)},He.prototype.toArray=function(o){var l=this;return this._read(function(u){var d=l._ctx;if(d.dir==="next"&&Ir(d,!0)&&0<d.limit){var m=d.valueMapper,v=ni(d,d.table.core.schema);return d.table.core.query({trans:u,limit:d.limit,values:!0,query:{index:v,range:d.range}}).then(function(S){return S=S.result,m?S.map(m):S})}var y=[];return ri(d,function(S){return y.push(S)},u,d.table.core).then(function(){return y})},o)},He.prototype.offset=function(o){var l=this._ctx;return o<=0||(l.offset+=o,Ir(l)?xo(l,function(){var u=o;return function(d,m){return u===0||(u===1?--u:m(function(){d.advance(u),u=0}),!1)}}):xo(l,function(){var u=o;return function(){return--u<0}})),this},He.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),xo(this._ctx,function(){var l=o;return function(u,d,m){return--l<=0&&d(m),0<=l}},!0),this},He.prototype.until=function(o,l){return So(this._ctx,function(u,d,m){return!o(u.value)||(d(m),l)}),this},He.prototype.first=function(o){return this.limit(1).toArray(function(l){return l[0]}).then(o)},He.prototype.last=function(o){return this.reverse().first(o)},He.prototype.filter=function(o){var l;return So(this._ctx,function(u){return o(u.value)}),(l=this._ctx).isMatch=ur(l.isMatch,o),this},He.prototype.and=function(o){return this.filter(o)},He.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},He.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},He.prototype.desc=function(){return this.reverse()},He.prototype.eachKey=function(o){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,d){o(d.key,d)})},He.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},He.prototype.eachPrimaryKey=function(o){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,d){o(d.primaryKey,d)})},He.prototype.keys=function(o){var l=this._ctx;l.keysOnly=!l.isMatch;var u=[];return this.each(function(d,m){u.push(m.key)}).then(function(){return u}).then(o)},He.prototype.primaryKeys=function(o){var l=this._ctx;if(l.dir==="next"&&Ir(l,!0)&&0<l.limit)return this._read(function(d){var m=ni(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:m,range:l.range}})}).then(function(d){return d.result}).then(o);l.keysOnly=!l.isMatch;var u=[];return this.each(function(d,m){u.push(m.primaryKey)}).then(function(){return u}).then(o)},He.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},He.prototype.firstKey=function(o){return this.limit(1).keys(function(l){return l[0]}).then(o)},He.prototype.lastKey=function(o){return this.reverse().firstKey(o)},He.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var l={};return So(this._ctx,function(m){var d=m.primaryKey.toString(),m=g(l,d);return l[d]=!0,!m}),this},He.prototype.modify=function(o){var l=this,u=this._ctx;return this._write(function(d){var m,v,y;y=typeof o=="function"?o:(m=a(o),v=m.length,function(P){for(var $=!1,F=0;F<v;++F){var L=m[F],H=o[L],ne=K(P,L);H instanceof os?(ue(P,L,H.execute(ne)),$=!0):ne!==H&&(ue(P,L,H),$=!0)}return $});var S=u.table.core,C=S.schema.primaryKey,E=C.outbound,O=C.extractKey,I=200,C=l.db._options.modifyChunkSize;C&&(I=typeof C=="object"?C[S.name]||C["*"]||200:C);function k(P,L){var F=L.failures,L=L.numFailures;M+=P-L;for(var H=0,ne=a(F);H<ne.length;H++){var le=ne[H];T.push(F[le])}}var T=[],M=0,A=[];return l.clone().primaryKeys().then(function(P){function $(L){var H=Math.min(I,P.length-L);return S.getMany({trans:d,keys:P.slice(L,L+H),cache:"immutable"}).then(function(ne){for(var le=[],re=[],se=E?[]:null,ce=[],ae=0;ae<H;++ae){var me=ne[ae],Pe={value:Ge(me),primKey:P[L+ae]};y.call(Pe,Pe.value,Pe)!==!1&&(Pe.value==null?ce.push(P[L+ae]):E||Ue(O(me),O(Pe.value))===0?(re.push(Pe.value),E&&se.push(P[L+ae])):(ce.push(P[L+ae]),le.push(Pe.value)))}return Promise.resolve(0<le.length&&S.mutate({trans:d,type:"add",values:le}).then(function(Re){for(var Ne in Re.failures)ce.splice(parseInt(Ne),1);k(le.length,Re)})).then(function(){return(0<re.length||F&&typeof o=="object")&&S.mutate({trans:d,type:"put",keys:se,values:re,criteria:F,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<L}).then(function(Re){return k(re.length,Re)})}).then(function(){return(0<ce.length||F&&o===Co)&&S.mutate({trans:d,type:"delete",keys:ce,criteria:F,isAdditionalChunk:0<L}).then(function(Re){return k(ce.length,Re)})}).then(function(){return P.length>L+H&&$(L+I)})})}var F=Ir(u)&&u.limit===1/0&&(typeof o!="function"||o===Co)&&{index:u.index,range:u.range};return $(0).then(function(){if(0<T.length)throw new fn("Error modifying one or more objects",T,M,A);return P.length})})})},He.prototype.delete=function(){var o=this._ctx,l=o.range;return Ir(o)&&(o.isPrimKey||l.type===3)?this._write(function(u){var d=o.table.core.schema.primaryKey,m=l;return o.table.core.count({trans:u,query:{index:d,range:m}}).then(function(v){return o.table.core.mutate({trans:u,type:"deleteRange",range:m}).then(function(y){var S=y.failures;if(y.lastResult,y.results,y=y.numFailures,y)throw new fn("Could not delete some values",Object.keys(S).map(function(E){return S[E]}),v-y);return v-y})})}):this.modify(Co)},He);function He(){}var Co=function(o,l){return l.value=null};function Zd(o,l){return o<l?-1:o===l?0:1}function eh(o,l){return l<o?-1:o===l?0:1}function Zt(o,l,u){return o=o instanceof $l?new o.Collection(o):o,o._ctx.error=new(u||TypeError)(l),o}function Ar(o){return new o.Collection(o,function(){return Nl("")}).limit(0)}function si(o,l,u,d){var m,v,y,S,E,O,I,C=u.length;if(!u.every(function(M){return typeof M=="string"}))return Zt(o,Dl);function k(M){m=M==="next"?function(P){return P.toUpperCase()}:function(P){return P.toLowerCase()},v=M==="next"?function(P){return P.toLowerCase()}:function(P){return P.toUpperCase()},y=M==="next"?Zd:eh;var A=u.map(function(P){return{lower:v(P),upper:m(P)}}).sort(function(P,$){return y(P.lower,$.lower)});S=A.map(function(P){return P.upper}),E=A.map(function(P){return P.lower}),I=(O=M)==="next"?"":d}k("next"),o=new o.Collection(o,function(){return Kn(S[0],E[C-1]+d)}),o._ondirectionchange=function(M){k(M)};var T=0;return o._addAlgorithm(function(M,A,P){var $=M.key;if(typeof $!="string")return!1;var F=v($);if(l(F,E,T))return!0;for(var L=null,H=T;H<C;++H){var ne=function(le,re,se,ce,ae,me){for(var Pe=Math.min(le.length,ce.length),Re=-1,Ne=0;Ne<Pe;++Ne){var en=re[Ne];if(en!==ce[Ne])return ae(le[Ne],se[Ne])<0?le.substr(0,Ne)+se[Ne]+se.substr(Ne+1):ae(le[Ne],ce[Ne])<0?le.substr(0,Ne)+ce[Ne]+se.substr(Ne+1):0<=Re?le.substr(0,Re)+re[Re]+se.substr(Re+1):null;ae(le[Ne],en)<0&&(Re=Ne)}return Pe<ce.length&&me==="next"?le+se.substr(le.length):Pe<le.length&&me==="prev"?le.substr(0,se.length):Re<0?null:le.substr(0,Re)+ce[Re]+se.substr(Re+1)}($,F,S[H],E[H],y,O);ne===null&&L===null?T=H+1:(L===null||0<y(L,ne))&&(L=ne)}return A(L!==null?function(){M.continue(L+I)}:P),!1}),o}function Kn(o,l,u,d){return{type:2,lower:o,upper:l,lowerOpen:u,upperOpen:d}}function Nl(o){return{type:1,lower:o,upper:o}}var $l=(Object.defineProperty(Tt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Tt.prototype.between=function(o,l,u,d){u=u!==!1,d=d===!0;try{return 0<this._cmp(o,l)||this._cmp(o,l)===0&&(u||d)&&(!u||!d)?Ar(this):new this.Collection(this,function(){return Kn(o,l,!u,!d)})}catch{return Zt(this,Mn)}},Tt.prototype.equals=function(o){return o==null?Zt(this,Mn):new this.Collection(this,function(){return Nl(o)})},Tt.prototype.above=function(o){return o==null?Zt(this,Mn):new this.Collection(this,function(){return Kn(o,void 0,!0)})},Tt.prototype.aboveOrEqual=function(o){return o==null?Zt(this,Mn):new this.Collection(this,function(){return Kn(o,void 0,!1)})},Tt.prototype.below=function(o){return o==null?Zt(this,Mn):new this.Collection(this,function(){return Kn(void 0,o,!1,!0)})},Tt.prototype.belowOrEqual=function(o){return o==null?Zt(this,Mn):new this.Collection(this,function(){return Kn(void 0,o)})},Tt.prototype.startsWith=function(o){return typeof o!="string"?Zt(this,Dl):this.between(o,o+cr,!0,!0)},Tt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):si(this,function(l,u){return l.indexOf(u[0])===0},[o],cr)},Tt.prototype.equalsIgnoreCase=function(o){return si(this,function(l,u){return l===u[0]},[o],"")},Tt.prototype.anyOfIgnoreCase=function(){var o=dt.apply(mt,arguments);return o.length===0?Ar(this):si(this,function(l,u){return u.indexOf(l)!==-1},o,"")},Tt.prototype.startsWithAnyOfIgnoreCase=function(){var o=dt.apply(mt,arguments);return o.length===0?Ar(this):si(this,function(l,u){return u.some(function(d){return l.indexOf(d)===0})},o,cr)},Tt.prototype.anyOf=function(){var o=this,l=dt.apply(mt,arguments),u=this._cmp;try{l.sort(u)}catch{return Zt(this,Mn)}if(l.length===0)return Ar(this);var d=new this.Collection(this,function(){return Kn(l[0],l[l.length-1])});d._ondirectionchange=function(v){u=v==="next"?o._ascending:o._descending,l.sort(u)};var m=0;return d._addAlgorithm(function(v,y,S){for(var E=v.key;0<u(E,l[m]);)if(++m===l.length)return y(S),!1;return u(E,l[m])===0||(y(function(){v.continue(l[m])}),!1)}),d},Tt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Tt.prototype.noneOf=function(){var o=dt.apply(mt,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Zt(this,Mn)}var l=o.reduce(function(u,d){return u?u.concat([[u[u.length-1][1],d]]):[[-1/0,d]]},null);return l.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},Tt.prototype.inAnyRange=function($,l){var u=this,d=this._cmp,m=this._ascending,v=this._descending,y=this._min,S=this._max;if($.length===0)return Ar(this);if(!$.every(function(F){return F[0]!==void 0&&F[1]!==void 0&&m(F[0],F[1])<=0}))return Zt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",V.InvalidArgument);var E=!l||l.includeLowers!==!1,O=l&&l.includeUppers===!0,I,C=m;function k(F,L){return C(F[0],L[0])}try{(I=$.reduce(function(F,L){for(var H=0,ne=F.length;H<ne;++H){var le=F[H];if(d(L[0],le[1])<0&&0<d(L[1],le[0])){le[0]=y(le[0],L[0]),le[1]=S(le[1],L[1]);break}}return H===ne&&F.push(L),F},[])).sort(k)}catch{return Zt(this,Mn)}var T=0,M=O?function(F){return 0<m(F,I[T][1])}:function(F){return 0<=m(F,I[T][1])},A=E?function(F){return 0<v(F,I[T][0])}:function(F){return 0<=v(F,I[T][0])},P=M,$=new this.Collection(this,function(){return Kn(I[0][0],I[I.length-1][1],!E,!O)});return $._ondirectionchange=function(F){C=F==="next"?(P=M,m):(P=A,v),I.sort(k)},$._addAlgorithm(function(F,L,H){for(var ne,le=F.key;P(le);)if(++T===I.length)return L(H),!1;return!M(ne=le)&&!A(ne)||(u._cmp(le,I[T][1])===0||u._cmp(le,I[T][0])===0||L(function(){C===m?F.continue(I[T][0]):F.continue(I[T][1])}),!1)}),$},Tt.prototype.startsWithAnyOf=function(){var o=dt.apply(mt,arguments);return o.every(function(l){return typeof l=="string"})?o.length===0?Ar(this):this.inAnyRange(o.map(function(l){return[l,l+cr]})):Zt(this,"startsWithAnyOf() only works with strings")},Tt);function Tt(){}function bn(o){return it(function(l){return as(l),o(l.target.error),!1})}function as(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var ls="storagemutated",Eo="x-storagemutated-1",Hn=ss(null,ls),th=(wn.prototype._lock=function(){return ie(!ve.global),++this._reculock,this._reculock!==1||ve.global||(ve.lockOwnerFor=this),this},wn.prototype._unlock=function(){if(ie(!ve.global),--this._reculock==0)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{lr(o[1],o[0])}catch{}}return this},wn.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},wn.prototype.create=function(o){var l=this;if(!this.mode)return this;var u=this.db.idbdb,d=this.db._state.dbOpenError;if(ie(!this.idbtrans),!o&&!u)switch(d&&d.name){case"DatabaseClosedError":throw new V.DatabaseClosed(d);case"MissingAPIError":throw new V.MissingAPI(d.message,d);default:throw new V.OpenFailed(d)}if(!this.active)throw new V.TransactionInactive;return ie(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=it(function(m){as(m),l._reject(o.error)}),o.onabort=it(function(m){as(m),l.active&&l._reject(new V.Abort(o.error)),l.active=!1,l.on("abort").fire(m)}),o.oncomplete=it(function(){l.active=!1,l._resolve(),"mutatedParts"in o&&Hn.storagemutated.fire(o.mutatedParts)}),this},wn.prototype._promise=function(o,l,u){var d=this;if(o==="readwrite"&&this.mode!=="readwrite")return ht(new V.ReadOnly("Transaction is readonly"));if(!this.active)return ht(new V.TransactionInactive);if(this._locked())return new de(function(v,y){d._blockedFuncs.push([function(){d._promise(o,l,u).then(v,y)},ve])});if(u)return jn(function(){var v=new de(function(y,S){d._lock();var E=l(y,S,d);E&&E.then&&E.then(y,S)});return v.finally(function(){return d._unlock()}),v._lib=!0,v});var m=new de(function(v,y){var S=l(v,y,d);S&&S.then&&S.then(v,y)});return m._lib=!0,m},wn.prototype._root=function(){return this.parent?this.parent._root():this},wn.prototype.waitFor=function(o){var l,u=this._root(),d=de.resolve(o);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return d}):(u._waitingFor=d,u._waitingQueue=[],l=u.idbtrans.objectStore(u.storeNames[0]),function v(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(l.get(-1/0).onsuccess=v)}());var m=u._waitingFor;return new de(function(v,y){d.then(function(S){return u._waitingQueue.push(it(v.bind(null,S)))},function(S){return u._waitingQueue.push(it(y.bind(null,S)))}).finally(function(){u._waitingFor===m&&(u._waitingFor=null)})})},wn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new V.Abort))},wn.prototype.table=function(o){var l=this._memoizedTables||(this._memoizedTables={});if(g(l,o))return l[o];var u=this.schema[o];if(!u)throw new V.NotFound("Table "+o+" not part of transaction");return u=new this.db.Table(o,u,this),u.core=this.db.core.table(o),l[o]=u},wn);function wn(){}function Do(o,l,u,d,m,v,y){return{name:o,keyPath:l,unique:u,multi:d,auto:m,compound:v,src:(u&&!y?"&":"")+(d?"*":"")+(m?"++":"")+Fl(l)}}function Fl(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function To(o,l,u){return{name:o,primKey:l,indexes:u,mappedClass:null,idxByName:(d=function(m){return[m.name,m]},u.reduce(function(m,v,y){return y=d(v,y),y&&(m[y[0]]=y[1]),m},{}))};var d}var cs=function(o){try{return o.only([[]]),cs=function(){return[[]]},[[]]}catch{return cs=function(){return cr},cr}};function Oo(o){return o==null?function(){}:typeof o=="string"?(l=o).split(".").length===1?function(u){return u[l]}:function(u){return K(u,l)}:function(u){return K(u,o)};var l}function Ll(o){return[].slice.call(o)}var nh=0;function us(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function rh(o,l,E){function d(P){if(P.type===3)return null;if(P.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var T=P.lower,M=P.upper,A=P.lowerOpen,P=P.upperOpen;return T===void 0?M===void 0?null:l.upperBound(M,!!P):M===void 0?l.lowerBound(T,!!A):l.bound(T,M,!!A,!!P)}function m(k){var T,M=k.name;return{name:M,schema:k,mutate:function(A){var P=A.trans,$=A.type,F=A.keys,L=A.values,H=A.range;return new Promise(function(ne,le){ne=it(ne);var re=P.objectStore(M),se=re.keyPath==null,ce=$==="put"||$==="add";if(!ce&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var ae,me=(F||L||{length:1}).length;if(F&&L&&F.length!==L.length)throw new Error("Given keys array must have same length as given values array.");if(me===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function Pe(Ht){++en,as(Ht)}var Re=[],Ne=[],en=0;if($==="deleteRange"){if(H.type===4)return ne({numFailures:en,failures:Ne,results:[],lastResult:void 0});H.type===3?Re.push(ae=re.clear()):Re.push(ae=re.delete(d(H)))}else{var se=ce?se?[L,F]:[L,null]:[F,null],De=se[0],Lt=se[1];if(ce)for(var Bt=0;Bt<me;++Bt)Re.push(ae=Lt&&Lt[Bt]!==void 0?re[$](De[Bt],Lt[Bt]):re[$](De[Bt])),ae.onerror=Pe;else for(Bt=0;Bt<me;++Bt)Re.push(ae=re[$](De[Bt])),ae.onerror=Pe}function vi(Ht){Ht=Ht.target.result,Re.forEach(function(hr,zo){return hr.error!=null&&(Ne[zo]=hr.error)}),ne({numFailures:en,failures:Ne,results:$==="delete"?F:Re.map(function(hr){return hr.result}),lastResult:Ht})}ae.onerror=function(Ht){Pe(Ht),vi(Ht)},ae.onsuccess=vi})},getMany:function(A){var P=A.trans,$=A.keys;return new Promise(function(F,L){F=it(F);for(var H,ne=P.objectStore(M),le=$.length,re=new Array(le),se=0,ce=0,ae=function(Re){Re=Re.target,re[Re._pos]=Re.result,++ce===se&&F(re)},me=bn(L),Pe=0;Pe<le;++Pe)$[Pe]!=null&&((H=ne.get($[Pe]))._pos=Pe,H.onsuccess=ae,H.onerror=me,++se);se===0&&F(re)})},get:function(A){var P=A.trans,$=A.key;return new Promise(function(F,L){F=it(F);var H=P.objectStore(M).get($);H.onsuccess=function(ne){return F(ne.target.result)},H.onerror=bn(L)})},query:(T=O,function(A){return new Promise(function(P,$){P=it(P);var F,L,H,se=A.trans,ne=A.values,le=A.limit,ae=A.query,re=le===1/0?void 0:le,ce=ae.index,ae=ae.range,se=se.objectStore(M),ce=ce.isPrimaryKey?se:se.index(ce.name),ae=d(ae);if(le===0)return P({result:[]});T?((re=ne?ce.getAll(ae,re):ce.getAllKeys(ae,re)).onsuccess=function(me){return P({result:me.target.result})},re.onerror=bn($)):(F=0,L=!ne&&"openKeyCursor"in ce?ce.openKeyCursor(ae):ce.openCursor(ae),H=[],L.onsuccess=function(me){var Pe=L.result;return Pe?(H.push(ne?Pe.value:Pe.primaryKey),++F===le?P({result:H}):void Pe.continue()):P({result:H})},L.onerror=bn($))})}),openCursor:function(A){var P=A.trans,$=A.values,F=A.query,L=A.reverse,H=A.unique;return new Promise(function(ne,le){ne=it(ne);var ce=F.index,re=F.range,se=P.objectStore(M),se=ce.isPrimaryKey?se:se.index(ce.name),ce=L?H?"prevunique":"prev":H?"nextunique":"next",ae=!$&&"openKeyCursor"in se?se.openKeyCursor(d(re),ce):se.openCursor(d(re),ce);ae.onerror=bn(le),ae.onsuccess=it(function(me){var Pe,Re,Ne,en,De=ae.result;De?(De.___id=++nh,De.done=!1,Pe=De.continue.bind(De),Re=(Re=De.continuePrimaryKey)&&Re.bind(De),Ne=De.advance.bind(De),en=function(){throw new Error("Cursor not stopped")},De.trans=P,De.stop=De.continue=De.continuePrimaryKey=De.advance=function(){throw new Error("Cursor not started")},De.fail=it(le),De.next=function(){var Lt=this,Bt=1;return this.start(function(){return Bt--?Lt.continue():Lt.stop()}).then(function(){return Lt})},De.start=function(Lt){function Bt(){if(ae.result)try{Lt()}catch(Ht){De.fail(Ht)}else De.done=!0,De.start=function(){throw new Error("Cursor behind last entry")},De.stop()}var vi=new Promise(function(Ht,hr){Ht=it(Ht),ae.onerror=bn(hr),De.fail=hr,De.stop=function(zo){De.stop=De.continue=De.continuePrimaryKey=De.advance=en,Ht(zo)}});return ae.onsuccess=it(function(Ht){ae.onsuccess=Bt,Bt()}),De.continue=Pe,De.continuePrimaryKey=Re,De.advance=Ne,Bt(),vi},ne(De)):ne(null)},le)})},count:function(A){var P=A.query,$=A.trans,F=P.index,L=P.range;return new Promise(function(H,ne){var le=$.objectStore(M),re=F.isPrimaryKey?le:le.index(F.name),le=d(L),re=le?re.count(le):re.count();re.onsuccess=it(function(se){return H(se.target.result)}),re.onerror=bn(ne)})}}}var v,y,S,I=(y=E,S=Ll((v=o).objectStoreNames),{schema:{name:v.name,tables:S.map(function(k){return y.objectStore(k)}).map(function(k){var T=k.keyPath,P=k.autoIncrement,M=c(T),A={},P={name:k.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:T==null,compound:M,keyPath:T,autoIncrement:P,unique:!0,extractKey:Oo(T)},indexes:Ll(k.indexNames).map(function($){return k.index($)}).map(function(H){var F=H.name,L=H.unique,ne=H.multiEntry,H=H.keyPath,ne={name:F,compound:c(H),keyPath:H,unique:L,multiEntry:ne,extractKey:Oo(H)};return A[us(H)]=ne}),getIndexByKeyPath:function($){return A[us($)]}};return A[":id"]=P.primaryKey,T!=null&&(A[us(T)]=P.primaryKey),P})},hasGetAll:0<S.length&&"getAll"in y.objectStore(S[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),E=I.schema,O=I.hasGetAll,I=E.tables.map(m),C={};return I.forEach(function(k){return C[k.name]=k}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(k){if(!C[k])throw new Error("Table '".concat(k,"' not found"));return C[k]},MIN_KEY:-1/0,MAX_KEY:cs(l),schema:E}}function sh(o,l,u,d){var m=u.IDBKeyRange;return u.indexedDB,{dbcore:(d=rh(l,m,d),o.dbcore.reduce(function(v,y){return y=y.create,r(r({},v),y(v))},d))}}function ii(o,d){var u=d.db,d=sh(o._middlewares,u,o._deps,d);o.core=d.dbcore,o.tables.forEach(function(m){var v=m.name;o.core.schema.tables.some(function(y){return y.name===v})&&(m.core=o.core.table(v),o[v]instanceof o.Table&&(o[v].core=m.core))})}function oi(o,l,u,d){u.forEach(function(m){var v=d[m];l.forEach(function(y){var S=function E(O,I){return j(O,I)||(O=p(O))&&E(O,I)}(y,m);(!S||"value"in S&&S.value===void 0)&&(y===o.Transaction.prototype||y instanceof o.Transaction?R(y,m,{get:function(){return this.table(m)},set:function(E){D(this,m,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):y[m]=new o.Table(m,v))})})}function Po(o,l){l.forEach(function(u){for(var d in u)u[d]instanceof o.Table&&delete u[d]})}function ih(o,l){return o._cfg.version-l._cfg.version}function oh(o,l,u,d){var m=o._dbSchema;u.objectStoreNames.contains("$meta")&&!m.$meta&&(m.$meta=To("$meta",Ul("")[0],[]),o._storeNames.push("$meta"));var v=o._createTransaction("readwrite",o._storeNames,m);v.create(u),v._completion.catch(d);var y=v._reject.bind(v),S=ve.transless||ve;jn(function(){return ve.trans=v,ve.transless=S,l!==0?(ii(o,u),O=l,((E=v).storeNames.includes("$meta")?E.table("$meta").get("version").then(function(I){return I??O}):de.resolve(O)).then(function(I){return k=I,T=v,M=u,A=[],I=(C=o)._versions,P=C._dbSchema=li(0,C.idbdb,M),(I=I.filter(function($){return $._cfg.version>=k})).length!==0?(I.forEach(function($){A.push(function(){var F=P,L=$._cfg.dbschema;ci(C,F,M),ci(C,L,M),P=C._dbSchema=L;var H=Mo(F,L);H.add.forEach(function(ce){Io(M,ce[0],ce[1].primKey,ce[1].indexes)}),H.change.forEach(function(ce){if(ce.recreate)throw new V.Upgrade("Not yet support for changing primary key");var ae=M.objectStore(ce.name);ce.add.forEach(function(me){return ai(ae,me)}),ce.change.forEach(function(me){ae.deleteIndex(me.name),ai(ae,me)}),ce.del.forEach(function(me){return ae.deleteIndex(me)})});var ne=$._cfg.contentUpgrade;if(ne&&$._cfg.version>k){ii(C,M),T._memoizedTables={};var le=Ae(L);H.del.forEach(function(ce){le[ce]=F[ce]}),Po(C,[C.Transaction.prototype]),oi(C,[C.Transaction.prototype],a(le),le),T.schema=le;var re,se=It(ne);return se&&Pr(),H=de.follow(function(){var ce;(re=ne(T))&&se&&(ce=qn.bind(null,null),re.then(ce,ce))}),re&&typeof re.then=="function"?de.resolve(re):H.then(function(){return re})}}),A.push(function(F){var L,H,ne=$._cfg.dbschema;L=ne,H=F,[].slice.call(H.db.objectStoreNames).forEach(function(le){return L[le]==null&&H.db.deleteObjectStore(le)}),Po(C,[C.Transaction.prototype]),oi(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),T.schema=C._dbSchema}),A.push(function(F){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===$._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(L){return L!=="$meta"})):F.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return A.length?de.resolve(A.shift()(T.idbtrans)).then($):de.resolve()}().then(function(){Bl(P,M)})):de.resolve();var C,k,T,M,A,P}).catch(y)):(a(m).forEach(function(I){Io(u,I,m[I].primKey,m[I].indexes)}),ii(o,u),void de.follow(function(){return o.on.populate.fire(v)}).catch(y));var E,O})}function ah(o,l){Bl(o._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var u=li(0,o.idbdb,l);ci(o,o._dbSchema,l);for(var d=0,m=Mo(u,o._dbSchema).change;d<m.length;d++){var v=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var S=l.objectStore(y.name);y.add.forEach(function(E){te&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(E.src)),ai(S,E)})}(m[d]);if(typeof v=="object")return v.value}}function Mo(o,l){var u,d={del:[],add:[],change:[]};for(u in o)l[u]||d.del.push(u);for(u in l){var m=o[u],v=l[u];if(m){var y={name:u,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(m.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||m.primKey.auto!==v.primKey.auto)y.recreate=!0,d.change.push(y);else{var S=m.idxByName,E=v.idxByName,O=void 0;for(O in S)E[O]||y.del.push(O);for(O in E){var I=S[O],C=E[O];I?I.src!==C.src&&y.change.push(C):y.add.push(C)}(0<y.del.length||0<y.add.length||0<y.change.length)&&d.change.push(y)}}else d.add.push([u,v])}return d}function Io(o,l,u,d){var m=o.db.createObjectStore(l,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return d.forEach(function(v){return ai(m,v)}),m}function Bl(o,l){a(o).forEach(function(u){l.db.objectStoreNames.contains(u)||(te&&console.debug("Dexie: Creating missing table",u),Io(l,u,o[u].primKey,o[u].indexes))})}function ai(o,l){o.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function li(o,l,u){var d={};return G(l.objectStoreNames,0).forEach(function(m){for(var v=u.objectStore(m),y=Do(Fl(O=v.keyPath),O||"",!0,!1,!!v.autoIncrement,O&&typeof O!="string",!0),S=[],E=0;E<v.indexNames.length;++E){var I=v.index(v.indexNames[E]),O=I.keyPath,I=Do(I.name,O,!!I.unique,!!I.multiEntry,!1,O&&typeof O!="string",!1);S.push(I)}d[m]=To(m,y,S)}),d}function ci(o,l,u){for(var d=u.db.objectStoreNames,m=0;m<d.length;++m){var v=d[m],y=u.objectStore(v);o._hasGetAll="getAll"in y;for(var S=0;S<y.indexNames.length;++S){var E=y.indexNames[S],O=y.index(E).keyPath,I=typeof O=="string"?O:"["+G(O).join("+")+"]";!l[v]||(O=l[v].idxByName[I])&&(O.name=E,delete l[v].idxByName[I],l[v].idxByName[E]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Ul(o){return o.split(",").map(function(l,u){var d=(l=l.trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Do(d,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),c(m),u===0)})}var lh=(ui.prototype._parseStoresSpec=function(o,l){a(o).forEach(function(u){if(o[u]!==null){var d=Ul(o[u]),m=d.shift();if(m.unique=!0,m.multi)throw new V.Schema("Primary key cannot be multi-valued");d.forEach(function(v){if(v.auto)throw new V.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new V.Schema("Index must have a name and cannot be an empty string")}),l[u]=To(u,m,d)}})},ui.prototype.stores=function(u){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,u):u;var u=l._versions,d={},m={};return u.forEach(function(v){f(d,v._cfg.storesSource),m=v._cfg.dbschema={},v._parseStoresSpec(d,m)}),l._dbSchema=m,Po(l,[l._allTables,l,l.Transaction.prototype]),oi(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],a(m),m),l._storeNames=a(m),this},ui.prototype.upgrade=function(o){return this._cfg.contentUpgrade=oe(this._cfg.contentUpgrade||Se,o),this},ui);function ui(){}function Ao(o,l){var u=o._dbNamesDB;return u||(u=o._dbNamesDB=new An(ei,{addons:[],indexedDB:o,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function ko(o){return o&&typeof o.databases=="function"}function Ro(o){return jn(function(){return ve.letThrough=!0,o()})}function No(o){return!("from"in o)}var Ft=function(o,l){if(!this){var u=new Ft;return o&&"d"in o&&f(u,o),u}f(this,arguments.length?{d:1,from:o,to:1<arguments.length?l:o}:{d:0})};function fs(o,l,u){var d=Ue(l,u);if(!isNaN(d)){if(0<d)throw RangeError();if(No(o))return f(o,{from:l,to:u,d:1});var m=o.l,d=o.r;if(Ue(u,o.from)<0)return m?fs(m,l,u):o.l={from:l,to:u,d:1,l:null,r:null},ql(o);if(0<Ue(l,o.to))return d?fs(d,l,u):o.r={from:l,to:u,d:1,l:null,r:null},ql(o);Ue(l,o.from)<0&&(o.from=l,o.l=null,o.d=d?d.d+1:1),0<Ue(u,o.to)&&(o.to=u,o.r=null,o.d=o.l?o.l.d+1:1),u=!o.r,m&&!o.l&&ds(o,m),d&&u&&ds(o,d)}}function ds(o,l){No(l)||function u(d,E){var v=E.from,y=E.to,S=E.l,E=E.r;fs(d,v,y),S&&u(d,S),E&&u(d,E)}(o,l)}function jl(o,l){var u=fi(l),d=u.next();if(d.done)return!1;for(var m=d.value,v=fi(o),y=v.next(m.from),S=y.value;!d.done&&!y.done;){if(Ue(S.from,m.to)<=0&&0<=Ue(S.to,m.from))return!0;Ue(m.from,S.from)<0?m=(d=u.next(S.from)).value:S=(y=v.next(m.from)).value}return!1}function fi(o){var l=No(o)?null:{s:0,n:o};return{next:function(u){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Ue(u,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Ue(u,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function ql(o){var l,u,d=(((l=o.r)===null||l===void 0?void 0:l.d)||0)-(((u=o.l)===null||u===void 0?void 0:u.d)||0),m=1<d?"r":d<-1?"l":"";m&&(l=m=="r"?"l":"r",u=r({},o),d=o[m],o.from=d.from,o.to=d.to,o[m]=d[m],u[m]=d[l],(o[l]=u).d=Vl(u)),o.d=Vl(o)}function Vl(u){var l=u.r,u=u.l;return(l?u?Math.max(l.d,u.d):l.d:u?u.d:0)+1}function di(o,l){return a(l).forEach(function(u){o[u]?ds(o[u],l[u]):o[u]=function d(m){var v,y,S={};for(v in m)g(m,v)&&(y=m[v],S[v]=!y||typeof y!="object"||yt.has(y.constructor)?y:d(y));return S}(l[u])}),o}function $o(o,l){return o.all||l.all||Object.keys(o).some(function(u){return l[u]&&jl(l[u],o[u])})}w(Ft.prototype,((on={add:function(o){return ds(this,o),this},addKey:function(o){return fs(this,o,o),this},addKeys:function(o){var l=this;return o.forEach(function(u){return fs(l,u,u)}),this},hasKey:function(o){var l=fi(this).next(o).value;return l&&Ue(l.from,o)<=0&&0<=Ue(l.to,o)}})[ze]=function(){return fi(this)},on));var fr={},Fo={},Lo=!1;function hi(o){di(Fo,o),Lo||(Lo=!0,setTimeout(function(){Lo=!1,Bo(Fo,!(Fo={}))},0))}function Bo(o,l){l===void 0&&(l=!1);var u=new Set;if(o.all)for(var d=0,m=Object.values(fr);d<m.length;d++)Kl(y=m[d],o,u,l);else for(var v in o){var y,S=/^idb\:\/\/(.*)\/(.*)\//.exec(v);S&&(v=S[1],S=S[2],(y=fr["idb://".concat(v,"/").concat(S)])&&Kl(y,o,u,l))}u.forEach(function(E){return E()})}function Kl(o,l,u,d){for(var m=[],v=0,y=Object.entries(o.queries.query);v<y.length;v++){for(var S=y[v],E=S[0],O=[],I=0,C=S[1];I<C.length;I++){var k=C[I];$o(l,k.obsSet)?k.subscribers.forEach(function(P){return u.add(P)}):d&&O.push(k)}d&&m.push([E,O])}if(d)for(var T=0,M=m;T<M.length;T++){var A=M[T],E=A[0],O=A[1];o.queries.query[E]=O}}function ch(o){var l=o._state,u=o._deps.indexedDB;if(l.isBeingOpened||o.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?ht(l.dbOpenError):o});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,m=Math.round(10*o.verno),v=!1;function y(){if(l.openCanceller!==d)throw new V.DatabaseClosed("db.open() was cancelled")}function S(){return new de(function(k,T){if(y(),!u)throw new V.MissingAPI;var M=o.name,A=l.autoSchema||!m?u.open(M):u.open(M,m);if(!A)throw new V.MissingAPI;A.onerror=bn(T),A.onblocked=it(o._fireOnBlocked),A.onupgradeneeded=it(function(P){var $;I=A.transaction,l.autoSchema&&!o._options.allowEmptyDB?(A.onerror=as,I.abort(),A.result.close(),($=u.deleteDatabase(M)).onsuccess=$.onerror=it(function(){T(new V.NoSuchDatabase("Database ".concat(M," doesnt exist")))})):(I.onerror=bn(T),P=P.oldVersion>Math.pow(2,62)?0:P.oldVersion,C=P<1,o.idbdb=A.result,v&&ah(o,I),oh(o,P/10,I,T))},T),A.onsuccess=it(function(){I=null;var P,$,F,L,H,ne=o.idbdb=A.result,le=G(ne.objectStoreNames);if(0<le.length)try{var re=ne.transaction((L=le).length===1?L[0]:L,"readonly");if(l.autoSchema)$=ne,F=re,(P=o).verno=$.version/10,F=P._dbSchema=li(0,$,F),P._storeNames=G($.objectStoreNames,0),oi(P,[P._allTables],a(F),F);else if(ci(o,o._dbSchema,re),((H=Mo(li(0,(H=o).idbdb,re),H._dbSchema)).add.length||H.change.some(function(se){return se.add.length||se.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ne.close(),m=ne.version+1,v=!0,k(S());ii(o,re)}catch{}Mr.push(o),ne.onversionchange=it(function(se){l.vcFired=!0,o.on("versionchange").fire(se)}),ne.onclose=it(function(se){o.on("close").fire(se)}),C&&(H=o._deps,re=M,ne=H.indexedDB,H=H.IDBKeyRange,ko(ne)||re===ei||Ao(ne,H).put({name:re}).catch(Se)),k()},T)}).catch(function(k){switch(k==null?void 0:k.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),S();break;case"VersionError":if(0<m)return m=0,S()}return de.reject(k)})}var E,O=l.dbReadyResolve,I=null,C=!1;return de.race([d,(typeof navigator>"u"?de.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(k){function T(){return indexedDB.databases().finally(k)}E=setInterval(T,100),T()}).finally(function(){return clearInterval(E)}):Promise.resolve()).then(S)]).then(function(){return y(),l.onReadyBeingFired=[],de.resolve(Ro(function(){return o.on.ready.fire(o.vip)})).then(function k(){if(0<l.onReadyBeingFired.length){var T=l.onReadyBeingFired.reduce(oe,Se);return l.onReadyBeingFired=[],de.resolve(Ro(function(){return T(o.vip)})).then(k)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(k){l.dbOpenError=k;try{I&&I.abort()}catch{}return d===l.openCanceller&&o._close(),ht(k)}).finally(function(){l.openComplete=!0,O()}).then(function(){var k;return C&&(k={},o.tables.forEach(function(T){T.schema.indexes.forEach(function(M){M.name&&(k["idb://".concat(o.name,"/").concat(T.name,"/").concat(M.name)]=new Ft(-1/0,[[[]]]))}),k["idb://".concat(o.name,"/").concat(T.name,"/")]=k["idb://".concat(o.name,"/").concat(T.name,"/:dels")]=new Ft(-1/0,[[[]]])}),Hn(ls).fire(k),Bo(k,!0)),o})}function Uo(o){function l(v){return o.next(v)}var u=m(l),d=m(function(v){return o.throw(v)});function m(v){return function(E){var S=v(E),E=S.value;return S.done?E:E&&typeof E.then=="function"?E.then(u,d):c(E)?Promise.all(E).then(u,d):u(E)}}return m(l)()}function pi(o,l,u){for(var d=c(o)?o.slice():[o],m=0;m<u;++m)d.push(l);return d}var uh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return r(r({},o),{table:function(l){var u=o.table(l),d=u.schema,m={},v=[];function y(C,k,T){var M=us(C),A=m[M]=m[M]||[],P=C==null?0:typeof C=="string"?1:C.length,$=0<k,$=r(r({},T),{name:$?"".concat(M,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:$,keyTail:k,keyLength:P,extractKey:Oo(C),unique:!$&&T.unique});return A.push($),$.isPrimaryKey||v.push($),1<P&&y(P===2?C[0]:C.slice(0,P-1),k+1,T),A.sort(function(F,L){return F.keyTail-L.keyTail}),$}l=y(d.primaryKey.keyPath,0,d.primaryKey),m[":id"]=[l];for(var S=0,E=d.indexes;S<E.length;S++){var O=E[S];y(O.keyPath,0,O)}function I(C){var k,T=C.query.index;return T.isVirtual?r(r({},C),{query:{index:T.lowLevelIndex,range:(k=C.query.range,T=T.keyTail,{type:k.type===1?2:k.type,lower:pi(k.lower,k.lowerOpen?o.MAX_KEY:o.MIN_KEY,T),lowerOpen:!0,upper:pi(k.upper,k.upperOpen?o.MIN_KEY:o.MAX_KEY,T),upperOpen:!0})}}):C}return r(r({},u),{schema:r(r({},d),{primaryKey:l,indexes:v,getIndexByKeyPath:function(C){return(C=m[us(C)])&&C[0]}}),count:function(C){return u.count(I(C))},query:function(C){return u.query(I(C))},openCursor:function(C){var k=C.query.index,T=k.keyTail,M=k.isVirtual,A=k.keyLength;return M?u.openCursor(I(C)).then(function($){return $&&P($)}):u.openCursor(C);function P($){return Object.create($,{continue:{value:function(F){F!=null?$.continue(pi(F,C.reverse?o.MAX_KEY:o.MIN_KEY,T)):C.unique?$.continue($.key.slice(0,A).concat(C.reverse?o.MIN_KEY:o.MAX_KEY,T)):$.continue()}},continuePrimaryKey:{value:function(F,L){$.continuePrimaryKey(pi(F,o.MAX_KEY,T),L)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var F=$.key;return A===1?F[0]:F.slice(0,A)}},value:{get:function(){return $.value}}})}}})}})}};function jo(o,l,u,d){return u=u||{},d=d||"",a(o).forEach(function(m){var v,y,S;g(l,m)?(v=o[m],y=l[m],typeof v=="object"&&typeof y=="object"&&v&&y?(S=nt(v))!==nt(y)?u[d+m]=l[m]:S==="Object"?jo(v,y,u,d+m+"."):v!==y&&(u[d+m]=l[m]):v!==y&&(u[d+m]=l[m])):u[d+m]=void 0}),a(l).forEach(function(m){g(o,m)||(u[d+m]=l[m])}),u}function qo(o,l){return l.type==="delete"?l.keys:l.keys||l.values.map(o.extractKey)}var fh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(l){var u=o.table(l),d=u.schema.primaryKey;return r(r({},u),{mutate:function(m){var v=ve.trans,y=v.table(l).hook,S=y.deleting,E=y.creating,O=y.updating;switch(m.type){case"add":if(E.fire===Se)break;return v._promise("readwrite",function(){return I(m)},!0);case"put":if(E.fire===Se&&O.fire===Se)break;return v._promise("readwrite",function(){return I(m)},!0);case"delete":if(S.fire===Se)break;return v._promise("readwrite",function(){return I(m)},!0);case"deleteRange":if(S.fire===Se)break;return v._promise("readwrite",function(){return function C(k,T,M){return u.query({trans:k,values:!1,query:{index:d,range:T},limit:M}).then(function(A){var P=A.result;return I({type:"delete",keys:P,trans:k}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):P.length<M?{failures:[],numFailures:0,lastResult:void 0}:C(k,r(r({},T),{lower:P[P.length-1],lowerOpen:!0}),M)})})}(m.trans,m.range,1e4)},!0)}return u.mutate(m);function I(C){var k,T,M,A=ve.trans,P=C.keys||qo(d,C);if(!P)throw new Error("Keys missing");return(C=C.type==="add"||C.type==="put"?r(r({},C),{keys:P}):r({},C)).type!=="delete"&&(C.values=s([],C.values)),C.keys&&(C.keys=s([],C.keys)),k=u,M=P,((T=C).type==="add"?Promise.resolve([]):k.getMany({trans:T.trans,keys:M,cache:"immutable"})).then(function($){var F=P.map(function(L,H){var ne,le,re,se=$[H],ce={onerror:null,onsuccess:null};return C.type==="delete"?S.fire.call(ce,L,se,A):C.type==="add"||se===void 0?(ne=E.fire.call(ce,L,C.values[H],A),L==null&&ne!=null&&(C.keys[H]=L=ne,d.outbound||ue(C.values[H],d.keyPath,L))):(ne=jo(se,C.values[H]),(le=O.fire.call(ce,ne,L,se,A))&&(re=C.values[H],Object.keys(le).forEach(function(ae){g(re,ae)?re[ae]=le[ae]:ue(re,ae,le[ae])}))),ce});return u.mutate(C).then(function(L){for(var H=L.failures,ne=L.results,le=L.numFailures,L=L.lastResult,re=0;re<P.length;++re){var se=(ne||P)[re],ce=F[re];se==null?ce.onerror&&ce.onerror(H[re]):ce.onsuccess&&ce.onsuccess(C.type==="put"&&$[re]?C.values[re]:se)}return{failures:H,results:ne,numFailures:le,lastResult:L}}).catch(function(L){return F.forEach(function(H){return H.onerror&&H.onerror(L)}),Promise.reject(L)})})}}})}})}};function Hl(o,l,u){try{if(!l||l.keys.length<o.length)return null;for(var d=[],m=0,v=0;m<l.keys.length&&v<o.length;++m)Ue(l.keys[m],o[v])===0&&(d.push(u?Ge(l.values[m]):l.values[m]),++v);return d.length===o.length?d:null}catch{return null}}var dh={stack:"dbcore",level:-1,create:function(o){return{table:function(l){var u=o.table(l);return r(r({},u),{getMany:function(d){if(!d.cache)return u.getMany(d);var m=Hl(d.keys,d.trans._cache,d.cache==="clone");return m?de.resolve(m):u.getMany(d).then(function(v){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?Ge(v):v},v})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),u.mutate(d)}})}}}};function zl(o,l){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Wl(o,l){switch(o){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var hh={stack:"dbcore",level:0,name:"Observability",create:function(o){var l=o.schema.name,u=new Ft(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(d,m,v){if(ve.subscr&&m!=="readonly")throw new V.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return o.transaction(d,m,v)},table:function(d){var m=o.table(d),v=m.schema,y=v.primaryKey,C=v.indexes,S=y.extractKey,E=y.outbound,O=y.autoIncrement&&C.filter(function(T){return T.compound&&T.keyPath.includes(y.keyPath)}),I=r(r({},m),{mutate:function(T){function M(ae){return ae="idb://".concat(l,"/").concat(d,"/").concat(ae),L[ae]||(L[ae]=new Ft)}var A,P,$,F=T.trans,L=T.mutatedParts||(T.mutatedParts={}),H=M(""),ne=M(":dels"),le=T.type,ce=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[qo(y,T).filter(function(ae){return ae}),T.values]:[],re=ce[0],se=ce[1],ce=T.trans._cache;return c(re)?(H.addKeys(re),(ce=le==="delete"||re.length===se.length?Hl(re,ce):null)||ne.addKeys(re),(ce||se)&&(A=M,P=ce,$=se,v.indexes.forEach(function(ae){var me=A(ae.name||"");function Pe(Ne){return Ne!=null?ae.extractKey(Ne):null}function Re(Ne){return ae.multiEntry&&c(Ne)?Ne.forEach(function(en){return me.addKey(en)}):me.addKey(Ne)}(P||$).forEach(function(Ne,Lt){var De=P&&Pe(P[Lt]),Lt=$&&Pe($[Lt]);Ue(De,Lt)!==0&&(De!=null&&Re(De),Lt!=null&&Re(Lt))})}))):re?(se={from:(se=re.lower)!==null&&se!==void 0?se:o.MIN_KEY,to:(se=re.upper)!==null&&se!==void 0?se:o.MAX_KEY},ne.add(se),H.add(se)):(H.add(u),ne.add(u),v.indexes.forEach(function(ae){return M(ae.name).add(u)})),m.mutate(T).then(function(ae){return!re||T.type!=="add"&&T.type!=="put"||(H.addKeys(ae.results),O&&O.forEach(function(me){for(var Pe=T.values.map(function(De){return me.extractKey(De)}),Re=me.keyPath.findIndex(function(De){return De===y.keyPath}),Ne=0,en=ae.results.length;Ne<en;++Ne)Pe[Ne][Re]=ae.results[Ne];M(me.name).addKeys(Pe)})),F.mutatedParts=di(F.mutatedParts||{},L),ae})}}),C=function(M){var A=M.query,M=A.index,A=A.range;return[M,new Ft((M=A.lower)!==null&&M!==void 0?M:o.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:o.MAX_KEY)]},k={get:function(T){return[y,new Ft(T.key)]},getMany:function(T){return[y,new Ft().addKeys(T.keys)]},count:C,query:C,openCursor:C};return a(k).forEach(function(T){I[T]=function(M){var A=ve.subscr,P=!!A,$=zl(ve,m)&&Wl(T,M)?M.obsSet={}:A;if(P){var F=function(se){return se="idb://".concat(l,"/").concat(d,"/").concat(se),$[se]||($[se]=new Ft)},L=F(""),H=F(":dels"),A=k[T](M),P=A[0],A=A[1];if((T==="query"&&P.isPrimaryKey&&!M.values?H:F(P.name||"")).add(A),!P.isPrimaryKey){if(T!=="count"){var ne=T==="query"&&E&&M.values&&m.query(r(r({},M),{values:!1}));return m[T].apply(this,arguments).then(function(se){if(T==="query"){if(E&&M.values)return ne.then(function(Pe){return Pe=Pe.result,L.addKeys(Pe),se});var ce=M.values?se.result.map(S):se.result;(M.values?L:H).addKeys(ce)}else if(T==="openCursor"){var ae=se,me=M.values;return ae&&Object.create(ae,{key:{get:function(){return H.addKey(ae.primaryKey),ae.key}},primaryKey:{get:function(){var Pe=ae.primaryKey;return H.addKey(Pe),Pe}},value:{get:function(){return me&&L.addKey(ae.primaryKey),ae.value}}})}return se})}H.add(u)}}return m[T].apply(this,arguments)}}),I}})}};function Yl(o,l,u){if(u.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return u.numFailures===d?null:(l=r({},l),c(l.keys)&&(l.keys=l.keys.filter(function(m,v){return!(v in u.failures)})),"values"in l&&c(l.values)&&(l.values=l.values.filter(function(m,v){return!(v in u.failures)})),l)}function Vo(o,l){return u=o,((d=l).lower===void 0||(d.lowerOpen?0<Ue(u,d.lower):0<=Ue(u,d.lower)))&&(o=o,(l=l).upper===void 0||(l.upperOpen?Ue(o,l.upper)<0:Ue(o,l.upper)<=0));var u,d}function Xl(o,l,k,d,m,v){if(!k||k.length===0)return o;var y=l.query.index,S=y.multiEntry,E=l.query.range,O=d.schema.primaryKey.extractKey,I=y.extractKey,C=(y.lowLevelIndex||y).extractKey,k=k.reduce(function(T,M){var A=T,P=[];if(M.type==="add"||M.type==="put")for(var $=new Ft,F=M.values.length-1;0<=F;--F){var L,H=M.values[F],ne=O(H);$.hasKey(ne)||(L=I(H),(S&&c(L)?L.some(function(ae){return Vo(ae,E)}):Vo(L,E))&&($.addKey(ne),P.push(H)))}switch(M.type){case"add":var le=new Ft().addKeys(l.values?T.map(function(me){return O(me)}):T),A=T.concat(l.values?P.filter(function(me){return me=O(me),!le.hasKey(me)&&(le.addKey(me),!0)}):P.map(function(me){return O(me)}).filter(function(me){return!le.hasKey(me)&&(le.addKey(me),!0)}));break;case"put":var re=new Ft().addKeys(M.values.map(function(me){return O(me)}));A=T.filter(function(me){return!re.hasKey(l.values?O(me):me)}).concat(l.values?P:P.map(function(me){return O(me)}));break;case"delete":var se=new Ft().addKeys(M.keys);A=T.filter(function(me){return!se.hasKey(l.values?O(me):me)});break;case"deleteRange":var ce=M.range;A=T.filter(function(me){return!Vo(O(me),ce)})}return A},o);return k===o?o:(k.sort(function(T,M){return Ue(C(T),C(M))||Ue(O(T),O(M))}),l.limit&&l.limit<1/0&&(k.length>l.limit?k.length=l.limit:o.length===l.limit&&k.length<l.limit&&(m.dirty=!0)),v?Object.freeze(k):k)}function Gl(o,l){return Ue(o.lower,l.lower)===0&&Ue(o.upper,l.upper)===0&&!!o.lowerOpen==!!l.lowerOpen&&!!o.upperOpen==!!l.upperOpen}function ph(o,l){return function(u,d,m,v){if(u===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Ue(u,d))===0){if(m&&v)return 0;if(m)return 1;if(v)return-1}return d}(o.lower,l.lower,o.lowerOpen,l.lowerOpen)<=0&&0<=function(u,d,m,v){if(u===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Ue(u,d))===0){if(m&&v)return 0;if(m)return-1;if(v)return 1}return d}(o.upper,l.upper,o.upperOpen,l.upperOpen)}function mh(o,l,u,d){o.subscribers.add(u),d.addEventListener("abort",function(){var m,v;o.subscribers.delete(u),o.subscribers.size===0&&(m=o,v=l,setTimeout(function(){m.subscribers.size===0&&Oe(v,m)},3e3))})}var gh={stack:"dbcore",level:0,name:"Cache",create:function(o){var l=o.schema.name;return r(r({},o),{transaction:function(u,d,m){var v,y,S=o.transaction(u,d,m);return d==="readwrite"&&(y=(v=new AbortController).signal,m=function(E){return function(){if(v.abort(),d==="readwrite"){for(var O=new Set,I=0,C=u;I<C.length;I++){var k=C[I],T=fr["idb://".concat(l,"/").concat(k)];if(T){var M=o.table(k),A=T.optimisticOps.filter(function(me){return me.trans===S});if(S._explicit&&E&&S.mutatedParts)for(var P=0,$=Object.values(T.queries.query);P<$.length;P++)for(var F=0,L=(le=$[P]).slice();F<L.length;F++)$o((re=L[F]).obsSet,S.mutatedParts)&&(Oe(le,re),re.subscribers.forEach(function(me){return O.add(me)}));else if(0<A.length){T.optimisticOps=T.optimisticOps.filter(function(me){return me.trans!==S});for(var H=0,ne=Object.values(T.queries.query);H<ne.length;H++)for(var le,re,se,ce=0,ae=(le=ne[H]).slice();ce<ae.length;ce++)(re=ae[ce]).res!=null&&S.mutatedParts&&(E&&!re.dirty?(se=Object.isFrozen(re.res),se=Xl(re.res,re.req,A,M,re,se),re.dirty?(Oe(le,re),re.subscribers.forEach(function(me){return O.add(me)})):se!==re.res&&(re.res=se,re.promise=de.resolve({result:se}))):(re.dirty&&Oe(le,re),re.subscribers.forEach(function(me){return O.add(me)})))}}}O.forEach(function(me){return me()})}}},S.addEventListener("abort",m(!1),{signal:y}),S.addEventListener("error",m(!1),{signal:y}),S.addEventListener("complete",m(!0),{signal:y})),S},table:function(u){var d=o.table(u),m=d.schema.primaryKey;return r(r({},d),{mutate:function(v){var y=ve.trans;if(m.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return d.mutate(v);var S=fr["idb://".concat(l,"/").concat(u)];return S?(y=d.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||qo(m,v).some(function(E){return E==null}))?(S.optimisticOps.push(v),v.mutatedParts&&hi(v.mutatedParts),y.then(function(E){0<E.numFailures&&(Oe(S.optimisticOps,v),(E=Yl(0,v,E))&&S.optimisticOps.push(E),v.mutatedParts&&hi(v.mutatedParts))}),y.catch(function(){Oe(S.optimisticOps,v),v.mutatedParts&&hi(v.mutatedParts)})):y.then(function(E){var O=Yl(0,r(r({},v),{values:v.values.map(function(I,C){var k;return E.failures[C]?I:(I=(k=m.keyPath)!==null&&k!==void 0&&k.includes(".")?Ge(I):r({},I),ue(I,m.keyPath,E.results[C]),I)})}),E);S.optimisticOps.push(O),queueMicrotask(function(){return v.mutatedParts&&hi(v.mutatedParts)})}),y):d.mutate(v)},query:function(v){if(!zl(ve,d)||!Wl("query",v))return d.query(v);var y=((O=ve.trans)===null||O===void 0?void 0:O.db._options.cache)==="immutable",C=ve,S=C.requery,E=C.signal,O=function(M,A,P,$){var F=fr["idb://".concat(M,"/").concat(A)];if(!F)return[];if(!(A=F.queries[P]))return[null,!1,F,null];var L=A[($.query?$.query.index.name:null)||""];if(!L)return[null,!1,F,null];switch(P){case"query":var H=L.find(function(ne){return ne.req.limit===$.limit&&ne.req.values===$.values&&Gl(ne.req.query.range,$.query.range)});return H?[H,!0,F,L]:[L.find(function(ne){return("limit"in ne.req?ne.req.limit:1/0)>=$.limit&&(!$.values||ne.req.values)&&ph(ne.req.query.range,$.query.range)}),!1,F,L];case"count":return H=L.find(function(ne){return Gl(ne.req.query.range,$.query.range)}),[H,!!H,F,L]}}(l,u,"query",v),I=O[0],C=O[1],k=O[2],T=O[3];return I&&C?I.obsSet=v.obsSet:(C=d.query(v).then(function(M){var A=M.result;if(I&&(I.res=A),y){for(var P=0,$=A.length;P<$;++P)Object.freeze(A[P]);Object.freeze(A)}else M.result=Ge(A);return M}).catch(function(M){return T&&I&&Oe(T,I),Promise.reject(M)}),I={obsSet:v.obsSet,promise:C,subscribers:new Set,type:"query",req:v,dirty:!1},T?T.push(I):(T=[I],(k=k||(fr["idb://".concat(l,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=T)),mh(I,T,S,E),I.promise.then(function(M){return{result:Xl(M.result,v,k==null?void 0:k.optimisticOps,d,I,y)}})}})}})}};function mi(o,l){return new Proxy(o,{get:function(u,d,m){return d==="db"?l:Reflect.get(u,d,m)}})}var An=(pt.prototype.version=function(o){if(isNaN(o)||o<.1)throw new V.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new V.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var l=this._versions,u=l.filter(function(d){return d._cfg.version===o})[0];return u||(u=new this.Version(o),l.push(u),l.sort(ih),u.stores({}),this._state.autoSchema=!1,u)},pt.prototype._whenReady=function(o){var l=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?o():new de(function(u,d){if(l._state.openComplete)return d(new V.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new V.DatabaseClosed);l.open().catch(Se)}l._state.dbReadyPromise.then(u,d)}).then(o)},pt.prototype.use=function(o){var l=o.stack,u=o.create,d=o.level,m=o.name;return m&&this.unuse({stack:l,name:m}),o=this._middlewares[l]||(this._middlewares[l]=[]),o.push({stack:l,create:u,level:d??10,name:m}),o.sort(function(v,y){return v.level-y.level}),this},pt.prototype.unuse=function(o){var l=o.stack,u=o.name,d=o.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(m){return d?m.create!==d:!!u&&m.name!==u})),this},pt.prototype.open=function(){var o=this;return lr(Xt,function(){return ch(o)})},pt.prototype._close=function(){var o=this._state,l=Mr.indexOf(this);if(0<=l&&Mr.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new de(function(u){o.dbReadyResolve=u}),o.openCanceller=new de(function(u,d){o.cancelOpen=d}))},pt.prototype.close=function(u){var l=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;l?(u.isBeingOpened&&u.cancelOpen(new V.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new V.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},pt.prototype.delete=function(o){var l=this;o===void 0&&(o={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new de(function(m,v){function y(){l.close(o);var S=l._deps.indexedDB.deleteDatabase(l.name);S.onsuccess=it(function(){var E,O,I;E=l._deps,O=l.name,I=E.indexedDB,E=E.IDBKeyRange,ko(I)||O===ei||Ao(I,E).delete(O).catch(Se),m()}),S.onerror=bn(v),S.onblocked=l._fireOnBlocked}if(u)throw new V.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(y):y()})},pt.prototype.backendDB=function(){return this.idbdb},pt.prototype.isOpen=function(){return this.idbdb!==null},pt.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},pt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},pt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(pt.prototype,"tables",{get:function(){var o=this;return a(this._allTables).map(function(l){return o._allTables[l]})},enumerable:!1,configurable:!0}),pt.prototype.transaction=function(){var o=(function(l,u,d){var m=arguments.length;if(m<2)throw new V.InvalidArgument("Too few arguments");for(var v=new Array(m-1);--m;)v[m-1]=arguments[m];return d=v.pop(),[l,ct(v),d]}).apply(this,arguments);return this._transaction.apply(this,o)},pt.prototype._transaction=function(o,l,u){var d=this,m=ve.trans;m&&m.db===this&&o.indexOf("!")===-1||(m=null);var v,y,S=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(y=l.map(function(O){if(O=O instanceof d.Table?O.name:O,typeof O!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return O}),o=="r"||o===wo)v=wo;else{if(o!="rw"&&o!=_o)throw new V.InvalidArgument("Invalid transaction mode: "+o);v=_o}if(m){if(m.mode===wo&&v===_o){if(!S)throw new V.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&y.forEach(function(O){if(m&&m.storeNames.indexOf(O)===-1){if(!S)throw new V.SubTransaction("Table "+O+" not included in parent transaction.");m=null}}),S&&m&&!m.active&&(m=null)}}catch(O){return m?m._promise(null,function(I,C){C(O)}):ht(O)}var E=(function O(I,C,k,T,M){return de.resolve().then(function(){var A=ve.transless||ve,P=I._createTransaction(C,k,I._dbSchema,T);if(P.explicit=!0,A={trans:P,transless:A},T)P.idbtrans=T.idbtrans;else try{P.create(),P.idbtrans._explicit=!0,I._state.PR1398_maxLoop=3}catch(L){return L.name===Y.InvalidState&&I.isOpen()&&0<--I._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),I.close({disableAutoOpen:!1}),I.open().then(function(){return O(I,C,k,null,M)})):ht(L)}var $,F=It(M);return F&&Pr(),A=de.follow(function(){var L;($=M.call(P,P))&&(F?(L=qn.bind(null,null),$.then(L,L)):typeof $.next=="function"&&typeof $.throw=="function"&&($=Uo($)))},A),($&&typeof $.then=="function"?de.resolve($).then(function(L){return P.active?L:ht(new V.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return $})).then(function(L){return T&&P._resolve(),P._completion.then(function(){return L})}).catch(function(L){return P._reject(L),ht(L)})})}).bind(null,this,v,y,m,u);return m?m._promise(v,E,"lock"):ve.trans?lr(ve.transless,function(){return d._whenReady(E)}):this._whenReady(E)},pt.prototype.table=function(o){if(!g(this._allTables,o))throw new V.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},pt);function pt(o,l){var u=this;this._middlewares={},this.verno=0;var d=pt.dependencies;this._options=l=r({addons:pt.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m,v,y,S,E,O={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Se,dbReadyPromise:null,cancelOpen:Se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};O.dbReadyPromise=new de(function(C){O.dbReadyResolve=C}),O.openCanceller=new de(function(C,k){O.cancelOpen=k}),this._state=O,this.name=o,this.on=ss(this,"populate","blocked","versionchange","close",{ready:[oe,Se]}),this.on.ready.subscribe=ee(this.on.ready.subscribe,function(C){return function(k,T){pt.vip(function(){var M,A=u._state;A.openComplete?(A.dbOpenError||de.resolve().then(k),T&&C(k)):A.onReadyBeingFired?(A.onReadyBeingFired.push(k),T&&C(k)):(C(k),M=u,T||C(function P(){M.on.ready.unsubscribe(k),M.on.ready.unsubscribe(P)}))})}}),this.Collection=(m=this,is(Jd.prototype,function($,P){this.db=m;var T=Tl,M=null;if(P)try{T=P()}catch(F){M=F}var A=$._ctx,P=A.table,$=P.hook.reading.fire;this._ctx={table:P,index:A.index,isPrimKey:!A.index||P.schema.primKey.keyPath&&A.index===P.schema.primKey.name,range:T,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:M,or:A.or,valueMapper:$!==_?$:null}})),this.Table=(v=this,is(Il.prototype,function(C,k,T){this.db=v,this._tx=T,this.name=C,this.schema=k,this.hook=v._allTables[C]?v._allTables[C].hook:ss(null,{creating:[X,Se],reading:[x,_],updating:[Q,Se],deleting:[z,Se]})})),this.Transaction=(y=this,is(th.prototype,function(C,k,T,M,A){var P=this;this.db=y,this.mode=C,this.storeNames=k,this.schema=T,this.chromeTransactionDurability=M,this.idbtrans=null,this.on=ss(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new de(function($,F){P._resolve=$,P._reject=F}),this._completion.then(function(){P.active=!1,P.on.complete.fire()},function($){var F=P.active;return P.active=!1,P.on.error.fire($),P.parent?P.parent._reject($):F&&P.idbtrans&&P.idbtrans.abort(),ht($)})})),this.Version=(S=this,is(lh.prototype,function(C){this.db=S,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(E=this,is($l.prototype,function(C,k,T){if(this.db=E,this._ctx={table:C,index:k===":id"?null:k,or:T},this._cmp=this._ascending=Ue,this._descending=function(M,A){return Ue(A,M)},this._max=function(M,A){return 0<Ue(M,A)?M:A},this._min=function(M,A){return Ue(M,A)<0?M:A},this._IDBKeyRange=E._deps.IDBKeyRange,!this._IDBKeyRange)throw new V.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=cs(l.IDBKeyRange),this._createTransaction=function(C,k,T,M){return new u.Transaction(C,k,T,u._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(C){u.on("blocked").fire(C),Mr.filter(function(k){return k.name===u.name&&k!==u&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(C)})},this.use(dh),this.use(gh),this.use(hh),this.use(uh),this.use(fh);var I=new Proxy(this,{get:function(C,k,T){if(k==="_vip")return!0;if(k==="table")return function(A){return mi(u.table(A),I)};var M=Reflect.get(C,k,T);return M instanceof Il?mi(M,I):k==="tables"?M.map(function(A){return mi(A,I)}):k==="_createTransaction"?function(){return mi(M.apply(this,arguments),I)}:M}});this.vip=I,d.forEach(function(C){return C(u)})}var gi,on=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",vh=(Ko.prototype.subscribe=function(o,l,u){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:l,complete:u})},Ko.prototype[on]=function(){return this},Ko);function Ko(o){this._subscribe=o}try{gi={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{gi={indexedDB:null,IDBKeyRange:null}}function Ql(o){var l,u=!1,d=new vh(function(m){var v=It(o),y,S=!1,E={},O={},I={get closed(){return S},unsubscribe:function(){S||(S=!0,y&&y.abort(),C&&Hn.storagemutated.unsubscribe(T))}};m.start&&m.start(I);var C=!1,k=function(){return bo(M)},T=function(A){di(E,A),$o(O,E)&&k()},M=function(){var A,P,$;!S&&gi.indexedDB&&(E={},A={},y&&y.abort(),y=new AbortController,$=function(F){var L=Tr();try{v&&Pr();var H=jn(o,F);return H=v?H.finally(qn):H}finally{L&&Or()}}(P={subscr:A,signal:y.signal,requery:k,querier:o,trans:null}),Promise.resolve($).then(function(F){u=!0,l=F,S||P.signal.aborted||(E={},function(L){for(var H in L)if(g(L,H))return;return 1}(O=A)||C||(Hn(ls,T),C=!0),bo(function(){return!S&&m.next&&m.next(F)}))},function(F){u=!1,["DatabaseClosedError","AbortError"].includes(F==null?void 0:F.name)||S||bo(function(){S||m.error&&m.error(F)})}))};return setTimeout(k,0),I});return d.hasValue=function(){return u},d.getValue=function(){return l},d}var dr=An;function Ho(o){var l=zn;try{zn=!0,Hn.storagemutated.fire(o),Bo(o,!0)}finally{zn=l}}w(dr,r(r({},qe),{delete:function(o){return new dr(o,{addons:[]}).delete()},exists:function(o){return new dr(o,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return l=dr.dependencies,u=l.indexedDB,l=l.IDBKeyRange,(ko(u)?Promise.resolve(u.databases()).then(function(d){return d.map(function(m){return m.name}).filter(function(m){return m!==ei})}):Ao(u,l).toCollection().primaryKeys()).then(o)}catch{return ht(new V.MissingAPI)}var l,u},defineClass:function(){return function(o){f(this,o)}},ignoreTransaction:function(o){return ve.trans?lr(ve.transless,o):o()},vip:Ro,async:function(o){return function(){try{var l=Uo(o.apply(this,arguments));return l&&typeof l.then=="function"?l:de.resolve(l)}catch(u){return ht(u)}}},spawn:function(o,l,u){try{var d=Uo(o.apply(u,l||[]));return d&&typeof d.then=="function"?d:de.resolve(d)}catch(m){return ht(m)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(o,l){return l=de.resolve(typeof o=="function"?dr.ignoreTransaction(o):o).timeout(l||6e4),ve.trans?ve.trans.waitFor(l):l},Promise:de,debug:{get:function(){return te},set:function(o){J(o)}},derive:B,extend:f,props:w,override:ee,Events:ss,on:Hn,liveQuery:Ql,extendObservabilitySet:di,getByKeyPath:K,setByKeyPath:ue,delByKeyPath:function(o,l){typeof l=="string"?ue(o,l,void 0):"length"in l&&[].map.call(l,function(u){ue(o,u,void 0)})},shallowClone:Ae,deepClone:Ge,getObjectDiff:jo,cmp:Ue,asap:be,minKey:-1/0,addons:[],connections:Mr,errnames:Y,dependencies:gi,cache:fr,semVer:"4.0.10",version:"4.0.10".split(".").map(function(o){return parseInt(o)}).reduce(function(o,l,u){return o+l/Math.pow(10,2*u)})})),dr.maxKey=cs(dr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Hn(ls,function(o){zn||(o=new CustomEvent(Eo,{detail:o}),zn=!0,dispatchEvent(o),zn=!1)}),addEventListener(Eo,function(o){o=o.detail,zn||Ho(o)}));var kr,zn=!1,Jl=function(){};return typeof BroadcastChannel<"u"&&((Jl=function(){(kr=new BroadcastChannel(Eo)).onmessage=function(o){return o.data&&Ho(o.data)}})(),typeof kr.unref=="function"&&kr.unref(),Hn(ls,function(o){zn||kr.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!An.disableBfCache&&o.persisted){te&&console.debug("Dexie: handling persisted pagehide"),kr!=null&&kr.close();for(var l=0,u=Mr;l<u.length;l++)u[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!An.disableBfCache&&o.persisted&&(te&&console.debug("Dexie: handling persisted pageshow"),Jl(),Ho({all:new Ft(-1/0,[[]])}))})),de.rejectionMapper=function(o,l){return!o||o instanceof Nt||o instanceof TypeError||o instanceof SyntaxError||!o.name||!ye[o.name]?o:(l=new ye[o.name](l||o.message,o),"stack"in o&&R(l,"stack",{get:function(){return this.inner.stack}}),l)},J(te),r(An,Object.freeze({__proto__:null,Dexie:An,liveQuery:Ql,Entity:Ol,cmp:Ue,PropModSymbol:In,PropModification:os,replacePrefix:function(o,l){return new os({replacePrefix:[o,l]})},add:function(o){return new os({add:o})},remove:function(o){return new os({remove:o})},default:An,RangeSet:Ft,mergeRanges:ds,rangesOverlap:jl}),{default:An}),An})})(Od);var Gy=Od.exports;const Ra=Xy(Gy),fu=Symbol.for("Dexie"),Na=globalThis[fu]||(globalThis[fu]=Ra);if(Ra.semVer!==Na.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ra.semVer} and ${Na.semVer}`);const Qy="http://localhost:8080/usluga/all",Jy=3e5,qi=new Na("CategoryDatabase");qi.version(1).stores({categories:"id, label, timestamp"});async function Zy(e){const t=Date.now();await qi.categories.clear();const n=e.map((r,s)=>({id:s+1,label:r,timestamp:t}));await qi.categories.bulkAdd(n)}async function du(){return await qi.categories.toArray()}function e1(e){return Date.now()-e>Jy}async function ml(){try{const e=await du();if(e.length>0){const{timestamp:s}=e[0];if(!e1(s))return e.map(i=>i.label)}const t=await Ie.get(Qy),n=new Set(t.data.map(s=>s.category)),r=Array.from(n);return await Zy(r),r}catch(e){console.error("Ошибка при получении категорий:",e);try{const t=await du();if(t.length>0)return console.warn("Возвращаются устаревшие категории из IndexedDB."),t.map(n=>n.label)}catch(t){console.error("Ошибка при получении категорий из IndexedDB:",t)}throw e}}const t1={components:{UslugaModal:Yy,FiltersSearch:hy,FiltersTypeMaster:Sy,Usluga:Td},data(){return{filterOptions:[],services:[],searchQuery:"",isServiceModalVisible:!1,isLoginModalVisible:!1,selectedService:null,selectedSlot:null,stubUslugas:[{name:"Услуга 1",description:"Пример описания услуги."},{name:"Услуга 2",description:"Пример описания услуги."}],favoriteUslugas:[],isAuthorized:!1}},async created(){this.isAuthorized=bd(),this.favoriteUslugas=await ka(localStorage.getItem("userID"))},async mounted(){await this.loadCategories(),this.favoriteUslugas=await ka(localStorage.getItem("userID"))},methods:{isFavorite(e){return this.favoriteUslugas.includes(e)},async toggleFavorite(e,t){t?this.favoriteUslugas.push(e):this.favoriteUslugas=this.favoriteUslugas.filter(n=>n!==e)},async loadCategories(){try{const e=await ml();this.filterOptions=e.map(t=>({label:t,selected:!1})),await this.loadServices()}catch(e){const t=["Категория 1","Категория 2","Категория 3","Категория 4"];this.filterOptions=t.map(n=>({label:n,selected:!1})),console.error("Ошибка при загрузке категорий:",e)}},loadServices:async function(){const e=this.filterOptions.filter(n=>n.selected).map(n=>n.label),t=this.$route.query.location||null;try{const n=await Tv({selectedCategories:e,searchQuery:this.searchQuery,location:t,minPrice:this.minPrice,maxPrice:this.maxPrice});this.services=n.length>0?n:this.stubUslugas}catch(n){console.error("Ошибка загрузки услуг:",n)}},toggleFilter(e){this.filterOptions[e].selected=!this.filterOptions[e].selected},applyFilters(){this.updateQueryParams()},updateSearchQuery(e){this.searchQuery=e,this.updateQueryParams()},updateQueryParams(){const e={...this.$route.query},t=this.filterOptions.filter(r=>r.selected).map(r=>r.label),n={...e,filters:t.length?t.join(","):void 0,search:this.searchQuery||void 0};Object.keys(n).forEach(r=>n[r]===void 0&&delete n[r]),this.$router.push({query:n}).then(()=>{this.loadServices()})},syncFiltersAndSearch(){const e=this.$route.query;if(this.searchQuery=e.search||"",e.filters){const t=e.filters.split(",");this.filterOptions.forEach(n=>{n.selected=t.includes(n.label)})}else this.filterOptions.forEach(t=>{t.selected=!1})},showLoginModal(){this.isLoginModalVisible=!0},closeLoginModal(){this.isLoginModalVisible=!1},showServiceDetails(e){this.selectedService=e,this.isServiceModalVisible=!0},closeServiceModal(){this.isServiceModalVisible=!1,this.selectedService=null,this.selectedSlot=null}},watch:{"$route.query":{handler(){this.syncFiltersAndSearch(),this.loadServices()},immediate:!0}}},n1={class:"search-container",id:"search-id"},r1={class:"search-header-container"};function s1(e,t,n,r,s,i){const a=$e("filters-type-master"),c=$e("filters-search"),f=$e("usluga"),p=$e("usluga-modal");return q(),W("div",n1,[b("div",r1,[t[0]||(t[0]=b("h1",{class:"search-title"},"Поиск",-1)),Ee(a),Ee(c,{"filter-options":s.filterOptions,searchQuery:s.searchQuery,onToggleFilter:i.toggleFilter,onApplyFilters:i.applyFilters,onUpdateSearchQuery:i.updateSearchQuery},null,8,["filter-options","searchQuery","onToggleFilter","onApplyFilters","onUpdateSearchQuery"])]),b("div",{class:Bn(["services-list",{"single-item":s.services.length<3}])},[(q(!0),W(Ce,null,Je(s.services,(h,g)=>(q(),gn(f,{key:g,service:h,isFavorite:i.isFavorite(h.id),onShowLoginModal:i.showLoginModal,onShowServiceDetails:i.showServiceDetails,onUpdateFavorites:i.toggleFavorite},null,8,["service","isFavorite","onShowLoginModal","onShowServiceDetails","onUpdateFavorites"]))),128))],2),s.isServiceModalVisible?(q(),gn(p,{key:0,onClose:i.closeServiceModal,"selected-service":s.selectedService,"is-service-modal-visible":s.isServiceModalVisible},null,8,["onClose","selected-service","is-service-modal-visible"])):lt("",!0)])}const i1=je(t1,[["render",s1],["__scopeId","data-v-ff176d64"]]),o1={props:{text:{type:String,required:!0},image:{type:String,required:!0}}},a1={class:"highlight"},l1=["alt"],c1={class:"highlight-text"};function u1(e,t,n,r,s,i){return q(),W("div",a1,[b("img",{class:"highlight-image",src:Wr,alt:n.text},null,8,l1),b("p",c1,Fe(n.text),1)])}const f1=je(o1,[["render",u1],["__scopeId","data-v-06854060"]]),d1={props:{text:{type:String,required:!0},image:{type:String,required:!0}}},h1={class:"category"},p1=["alt"];function m1(e,t,n,r,s,i){return q(),W("div",h1,[b("img",{class:"category-image",src:Wr,alt:n.text},null,8,p1)])}const g1=je(d1,[["render",m1],["__scopeId","data-v-6b458bac"]]);function v1(){return[{text:"Советы",image:"@/assets/stub.svg"},{text:"Хиты",image:"@/assets/stub.svg"},{text:"Акции",image:"@/assets/stub.svg"},{text:"Новинки",image:"@/assets/stub.svg"},{text:"Советы",image:"@/assets/stub.svg"},{text:"Хиты",image:"@/assets/stub.svg"},{text:"Акции",image:"@/assets/stub.svg"}]}const y1={components:{Header:Dr,Poster:oy,Search:i1,Highlight:f1,Category:g1},data(){return{highlights:v1(),categories:[],isAuthenticated:!0}},async mounted(){try{this.categories=await ml()}catch(e){console.error("Ошибка при загрузке категорий:",e),this.categories=["Категория 5","Категория 4","Категория 3","Категория 2"]}}},b1={class:"main-page-container"},w1={class:"highlights"},_1={class:"categories-container"},S1={class:"categories-list"},x1={class:"search-container"};function C1(e,t,n,r,s,i){const a=$e("Header"),c=$e("Poster"),f=$e("Highlight"),p=$e("Category"),h=$e("search");return q(),W(Ce,null,[Ee(a),b("main",b1,[Ee(c,{"is-authenticated":s.isAuthenticated},null,8,["is-authenticated"]),b("div",w1,[(q(!0),W(Ce,null,Je(s.highlights,(g,w)=>(q(),gn(f,{key:w,text:g.text,image:g.image},null,8,["text","image"]))),128))]),b("div",_1,[t[0]||(t[0]=b("h1",{class:"categories-title"},"Категории",-1)),b("div",S1,[(q(!0),W(Ce,null,Je(s.categories.slice(0,4),(g,w)=>(q(),gn(p,{key:w,text:g,image:""},null,8,["text"]))),128))])])]),b("div",x1,[Ee(h)])],64)}const E1=je(y1,[["render",C1],["__scopeId","data-v-a3abd153"]]);async function Pd(e,t){try{const n=await Ie.post("http://localhost:8080/login",{username:e,password:t});if(n.status===200&&n.headers.authorization){const r=n.headers.authorization;localStorage.setItem("token",r);const s=await Ie.get(`http://localhost:8080/user/email/${e}`,{headers:{Authorization:r}});if(s.status===200&&s.data){const i=s.data.id;return localStorage.setItem("userID",i),console.log("Пользователь успешно авторизован и данные сохранены!"),{success:!0,token:r,userId:i}}else return console.error("Не удалось получить данные пользователя."),{success:!1,message:"Не удалось получить данные пользователя."}}else return{success:!1,message:"Ошибка авторизации. Проверьте почту и пароль."}}catch(n){return console.error("Ошибка при авторизации:",n),n.response.status===403?{success:!1,message:"Введены неверные данные пользователя. Проверьте почту и пароль.",code:403}:{success:!1,message:"Ошибка подключения к серверу. Попробуйте позже.",code:500}}}async function D1(e){try{if((await Ie.post("http://localhost:8080/user",{name:e.name,email:e.email,telephone_number:e.tel,password:e.password,role:e.role})).status===201){const n=await Pd(e.email,e.password);return n.success?(console.log("Пользователь успешно авторизован после регистрации!"),{success:!0,message:"Регистрация и авторизация успешны."}):(console.error("Не удалось авторизовать пользователя после регистрации."),{success:!1,message:n.message})}else return{success:!1,message:"Ошибка при регистрации пользователя. Пожалуйста, попробуйте позже."}}catch(t){return console.error("Ошибка при регистрации:",t),t.response.status===403?{success:!1,message:"Пользователь с такими данными уже зарегистрирован. "}:{success:!1,message:"Ошибка подключения к серверу. Попробуйте позже."}}}const T1="/ch/assets/vk-icon-BDP6e9rj.svg",O1="/ch/assets/apple-icon-CUllQ8Jj.svg",P1="/ch/assets/google-icon-9epIK5Ds.svg",M1=Zi({name:"RegistrationPage",data(){return{email:"",password:"",errorMessage:""}},setup(){return{router:Yf()}},created(){St(localStorage.getItem("token"))?(localStorage.removeItem("token"),localStorage.removeItem("isAuthorized"),localStorage.removeItem("userID")):this.$router.push("/")},methods:{async handleSubmit(){const e=await Pd(this.email,this.password);e.success?(localStorage.setItem("isAuthorized","true"),localStorage.setItem("userID",e.userId),this.$router.push("/")):this.errorMessage=e.message},socialLogin(e){console.log(`Вход через ${e}`)},clearErrorMessage(){this.errorMessage=""}}}),I1={class:"login_page"},A1={class:"container"},k1={class:"form-container"},R1={key:0,class:"error-message"},N1={class:"social-buttons"},$1={class:"register-label"};function F1(e,t,n,r,s,i){const a=$e("router-link");return q(),W("div",I1,[b("div",A1,[b("section",k1,[t[17]||(t[17]=b("h1",{class:"heading"},"Войти",-1)),e.errorMessage?(q(),W("p",R1,Fe(e.errorMessage),1)):lt("",!0),b("form",{onSubmit:t[4]||(t[4]=kt((...c)=>e.handleSubmit&&e.handleSubmit(...c),["prevent"]))},[t[8]||(t[8]=b("label",{for:"email",class:"visually-hidden"},"Почта",-1)),ut(b("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=c=>e.email=c),onInput:t[1]||(t[1]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"email",class:"input email",placeholder:"Почта",required:""},null,544),[[Pt,e.email]]),t[9]||(t[9]=b("label",{for:"password",class:"visually-hidden"},"Пароль",-1)),ut(b("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=c=>e.password=c),onInput:t[3]||(t[3]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"password",class:"input password",placeholder:"Пароль",required:""},null,544),[[Pt,e.password]]),t[10]||(t[10]=b("a",{href:"#",class:"forgot-password"},"Забыли пароль?",-1)),t[11]||(t[11]=b("button",{type:"submit",class:"button login-button"},"Войти",-1))],32),t[18]||(t[18]=b("div",{class:"divider"},[b("span",{class:"divider-text"},"или")],-1)),b("div",N1,[b("button",{class:"button social-button vk-button",onClick:t[5]||(t[5]=c=>e.socialLogin("vk")),"aria-label":"Войти через ВКонтакте"},t[12]||(t[12]=[b("img",{class:"social-icon vk-icon",src:T1,alt:"ВКонтакте"},null,-1),Yt(" ВКонтакте ")])),b("button",{class:"button social-button apple-button",onClick:t[6]||(t[6]=c=>e.socialLogin("apple")),"aria-label":"Войти через Apple ID"},t[13]||(t[13]=[b("img",{class:"social-icon apple-icon",src:O1,alt:"Apple ID"},null,-1),Yt(" Apple ID ")])),b("button",{class:"button social-button google-button",onClick:t[7]||(t[7]=c=>e.socialLogin("google")),"aria-label":"Войти через Google"},t[14]||(t[14]=[b("img",{class:"social-icon google-icon",src:P1,alt:"Google"},null,-1),Yt(" Google ")]))]),b("p",$1,[t[16]||(t[16]=b("span",{class:"grey-text"},"У вас нет аккаунта?",-1)),Ee(a,{to:"/registration",class:"black-text"},{default:Ji(()=>t[15]||(t[15]=[Yt(" Зарегистрируйтесь")])),_:1})])])])])}const L1=je(M1,[["render",F1],["__scopeId","data-v-fa44186b"]]),B1=Zi({name:"LoginPage",data(){return{user:{name:"",email:"",tel:"",role:"",password:""},errorMessage:""}},setup(){return{router:Yf()}},created(){St(localStorage.getItem("token"))?(localStorage.removeItem("token"),localStorage.removeItem("userID")):this.$router.push("/")},methods:{async handleSubmit(){console.log(this.user);const e=await D1(this.user);e.success?this.$router.push("/"):this.errorMessage=e.message},clearErrorMessage(){this.errorMessage=""}}}),U1={class:"registration_page"},j1={class:"container"},q1={class:"form-container"},V1={key:0,class:"error-message"},K1={class:"register-label"};function H1(e,t,n,r,s,i){const a=$e("router-link");return q(),W("div",U1,[b("div",j1,[b("section",q1,[t[21]||(t[21]=b("h1",{class:"heading"},"Регистрация",-1)),e.errorMessage?(q(),W("p",V1,Fe(e.errorMessage),1)):lt("",!0),b("form",{onSubmit:t[10]||(t[10]=kt((...c)=>e.handleSubmit&&e.handleSubmit(...c),["prevent"]))},[b("fieldset",null,[t[13]||(t[13]=b("legend",null,"Тип регистрации:",-1)),b("label",null,[ut(b("input",{type:"radio",name:"registration_type",value:"user","onUpdate:modelValue":t[0]||(t[0]=c=>e.user.role=c),required:""},null,512),[[xa,e.user.role]]),t[11]||(t[11]=Yt(" Пользователь "))]),b("label",null,[ut(b("input",{type:"radio",name:"registration_type",value:"master","onUpdate:modelValue":t[1]||(t[1]=c=>e.user.role=c),required:""},null,512),[[xa,e.user.role]]),t[12]||(t[12]=Yt(" Мастер "))])]),t[14]||(t[14]=b("label",{for:"name",class:"visually-hidden"},"Ваше имя",-1)),ut(b("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=c=>e.user.name=c),onInput:t[3]||(t[3]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"name",class:"input name",placeholder:"Имя",required:""},null,544),[[Pt,e.user.name]]),t[15]||(t[15]=b("label",{for:"tel",class:"visually-hidden"},"Номер телефона",-1)),ut(b("input",{type:"tel",id:"tel","onUpdate:modelValue":t[4]||(t[4]=c=>e.user.tel=c),onInput:t[5]||(t[5]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"tel",class:"input tel",placeholder:"Номер телефона",required:""},null,544),[[Pt,e.user.tel]]),t[16]||(t[16]=b("label",{for:"email",class:"visually-hidden"},"Почта",-1)),ut(b("input",{type:"email",id:"email","onUpdate:modelValue":t[6]||(t[6]=c=>e.user.email=c),onInput:t[7]||(t[7]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"email",class:"input email",placeholder:"Почта",required:""},null,544),[[Pt,e.user.email]]),t[17]||(t[17]=b("label",{for:"password",class:"visually-hidden"},"Пароль",-1)),ut(b("input",{type:"password",id:"password","onUpdate:modelValue":t[8]||(t[8]=c=>e.user.password=c),onInput:t[9]||(t[9]=(...c)=>e.clearErrorMessage&&e.clearErrorMessage(...c)),name:"password",class:"input password",placeholder:"Пароль",required:""},null,544),[[Pt,e.user.password]]),t[18]||(t[18]=b("button",{type:"submit",class:"button login-button"},"Зарегистрироваться",-1))],32),b("p",K1,[t[20]||(t[20]=b("span",{class:"grey-text"},"У вас уже есть аккаунт?",-1)),Ee(a,{to:"/login",class:"black-text"},{default:Ji(()=>t[19]||(t[19]=[Yt(" Войдите")])),_:1})])])])])}const z1=je(B1,[["render",H1],["__scopeId","data-v-31b7fcfd"]]),W1={props:{today:{type:Date,required:!0},selectedDate:{type:Date,required:!0}},data(){return{currentMonth:new Date().getMonth()+1,dates:this.generateDates(),highlightedDates:[]}},async mounted(){try{this.highlightedDates=await au(localStorage.getItem("userID"))}catch(e){console.error("Ошибка при получении дат с записями:",e)}},async created(){try{this.highlightedDates=await au(localStorage.getItem("userID"))}catch(e){console.error("Ошибка при получении расписания за месяц:",e)}localStorage.getItem("userID")==="0"&&(this.highlightedDates=["2024-12-18","2024-12-19","2024-12-22","2024-12-23"])},methods:{generateDates(){const e=[],t=new Date;for(let n=-6;n<=6;n++){const r=new Date(t);r.setDate(t.getDate()+n),e.push(r)}return e},selectDate(e){const t=this.formatDateToISO(e);this.$emit("date-selected",t)},scrollLeft(){const e=new Date(this.dates[0]);e.setDate(e.getDate()-1),this.dates.unshift(e),this.dates.pop()},scrollRight(){const e=new Date(this.dates[this.dates.length-1]);e.setDate(e.getDate()+1),this.dates.push(e),this.dates.shift()},formatDateToISO(e){return e.toISOString().split("T")[0]},isHighlightedDate(e){const t=this.formatDateToISO(e);return this.highlightedDates.includes(t)}}},Y1={class:"slider-wrapper"},X1={class:"slider-container"},G1={class:"slider",ref:"slider"},Q1=["onClick"],J1={class:"day-item"},Z1={class:"day"};function eb(e,t,n,r,s,i){return q(),W("div",Y1,[b("div",X1,[b("button",{onClick:t[0]||(t[0]=(...a)=>i.scrollLeft&&i.scrollLeft(...a)),class:"slider-btn"},"‹"),b("ul",G1,[(q(!0),W(Ce,null,Je(s.dates,(a,c)=>(q(),W("li",{key:c,class:Bn(["slider-item",{active:this.selectedDate===this.formatDateToISO(a),highlighted:this.isHighlightedDate(a)}]),onClick:f=>i.selectDate(a)},[b("div",J1,[b("span",Z1,Fe(a.getDate()),1)])],10,Q1))),128))],512),b("button",{onClick:t[1]||(t[1]=(...a)=>i.scrollRight&&i.scrollRight(...a)),class:"slider-btn"},"›")])])}const tb=je(W1,[["render",eb],["__scopeId","data-v-c1534a76"]]),nb="/ch/assets/content-img-mkSvMJYK.svg",rb={props:{scheduleItems:{type:Array,required:!0}},data(){return{workingHours:Array.from({length:12},(e,t)=>t+8),stubPhoto:nb}},methods:{formatHour(e){return e<10?`0${e}:00`:`${e}:00`},formatTime(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},getItemStyle(e){const t=new Date(e.startTime),n=new Date(e.endTime),r=t.getHours()+t.getMinutes()/60,s=n.getHours()+n.getMinutes()/60,i=(r-8)*60,a=(s-r)*60;return{top:`${i}px`,height:`${a}px`}},updateImageHeight(){this.$nextTick(()=>{const e=this.$refs.timelineItems,t=this.$refs.itemImages;Array.isArray(e)&&Array.isArray(t)&&e.forEach((n,r)=>{const s=n.clientHeight;t[r]&&(t[r].style.height=`${s-20}px`)})})},cancelAnAppointment(e){const t=this.scheduleItems.findIndex(n=>n.id===e);if(t!==-1)try{Ry(e).then(()=>{alert("Запись успешно отменена"),this.scheduleItems.splice(t,1)}).catch(()=>{alert("Удаление записи на услугу невозможно.")})}catch(n){console.error("Ошибка при отмене записи:",n),alert("Произошла ошибка. Попробуйте снова.")}else alert("Запись не найдена.")}},mounted(){this.updateImageHeight()},watch:{scheduleItems:{handler(){this.updateImageHeight()},deep:!0,immediate:!0}}},sb={class:"timeline-container"},ib={class:"timeline"},ob={class:"hour-label"},ab={class:"item-content"},lb=["src"],cb={class:"item-details"},ub={class:"item-title"},fb={class:"item-time"},db={class:"btn"},hb=["onClick"];function pb(e,t,n,r,s,i){return q(),W("div",sb,[b("div",ib,[(q(!0),W(Ce,null,Je(s.workingHours,a=>(q(),W("div",{key:a,class:"timeline-hour"},[b("span",ob,Fe(i.formatHour(a)),1)]))),128)),(q(!0),W(Ce,null,Je(n.scheduleItems,(a,c)=>(q(),W("div",{key:c,class:"timeline-item",style:Gr(i.getItemStyle(a)),ref_for:!0,ref:"timelineItems"},[b("div",ab,[b("div",{class:"item-image",ref_for:!0,ref:"itemImages"},[b("img",{src:s.stubPhoto,alt:""},null,8,lb)],512),b("div",cb,[b("div",ub,Fe(a.uslugaName),1),b("div",fb,Fe(i.formatTime(a.startTime))+" - "+Fe(i.formatTime(a.endTime)),1)]),b("div",db,[t[0]||(t[0]=b("button",null,null,-1)),t[1]||(t[1]=b("button",null,null,-1)),b("button",{class:"btn-cancel",type:"button",onClick:f=>i.cancelAnAppointment(a.id)},"x",8,hb)])])],4))),128))])])}const mb=je(rb,[["render",pb],["__scopeId","data-v-b595d2d0"]]),gb={components:{CalendarSlider:tb,CalendarTimeline:mb},data(){return{today:new Date,selectedDate:new Date,scheduleItems:[],userID:null}},async created(){this.userID=localStorage.getItem("userID"),await this.fetchScheduleItems()},methods:{async fetchScheduleItems(){this.selectedDate=this.formatDateToYYYYMMDD(this.selectedDate),localStorage.getItem("userID")==="0"?["2024-12-18","2024-12-19","2024-12-22","2024-12-23"].includes(this.selectedDate)?this.scheduleItems=[{uslugaName:"услуга 1",startTime:"2024-12-23T10:37:00",endTime:"2024-12-23T09:07:00.000Z"},{uslugaName:"услуга 2",startTime:"2024-12-23T12:38:00",endTime:"2024-12-23T11:08:00.000Z"}]:this.scheduleItems=[]:this.scheduleItems=await Ed(this.userID,this.selectedDate)},async onDateSelected(e){this.selectedDate=this.formatDateToYYYYMMDD(e),await this.fetchScheduleItems()},formatDateToYYYYMMDD(e){const t=new Date(e);if(isNaN(t.getTime()))return console.error("Некорректный формат даты:",e),null;const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${s}`}}},vb={class:"schedule"};function yb(e,t,n,r,s,i){const a=$e("calendar-slider"),c=$e("calendar-timeline");return q(),W("div",vb,[t[0]||(t[0]=b("h1",{class:"tittle"},"Мои записи",-1)),Ee(a,{class:"calendar","selected-date":s.selectedDate,today:s.today,onDateSelected:i.onDateSelected},null,8,["selected-date","today","onDateSelected"]),Ee(c,{class:"timeline","schedule-items":s.scheduleItems},null,8,["schedule-items"])])}const bb=je(gb,[["render",yb],["__scopeId","data-v-0da0325b"]]),wb={data(){return{userID:null,userName:"",profilePhoto:null}},async created(){if(this.isAuthorized=localStorage.getItem("isAuthorized")==="true",this.isAuthorized=!0,this.isAuthorized)if(this.userID=localStorage.getItem("userID"),this.userID){try{const e=await pl(this.userID);e?this.profilePhoto=e:this.profilePhoto=Zn}catch(e){console.error("Ошибка при загрузке фотографии профиля:",e),this.profilePhoto=Zn}try{const e=await Er(this.userID);e&&(this.userName=e.name)}catch(e){console.error(e)}}else console.log("Не авторизован");else console.log("Не авторизован")}},_b={class:"profile-container"},Sb=["src"],xb={class:"profile-name"};function Cb(e,t,n,r,s,i){return q(),W("div",_b,[b("img",{src:s.profilePhoto,alt:"Аватар пользователя",class:"profile-picture"},null,8,Sb),b("div",xb,Fe(s.userName),1)])}const Eb=je(wb,[["render",Cb],["__scopeId","data-v-2f648131"]]),Db={components:{ScheduleProfile:Eb,Schedule:bb,Header:Dr},data(){return{userID:null,isAuthenticated:!1}},async created(){if(this.userID=localStorage.getItem("userID"),this.isAuthorized="true",!this.isAuthorized)this.$router.push("/login");else try{await Er(this.userID)||localStorage.getItem("userID")==="0"&&(this.user={id:1,name:"Ирина Рыбокова",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"услуга 1 описание",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 2",description:"услуга 2 описание",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]})}catch{localStorage.getItem("userID")==="0"&&(this.user={id:1,name:"Ирина Рыбокова",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"услуга 1 описание",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 2",description:"услуга 2 описание",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]})}}},Tb={class:"profile-page"},Ob={class:"profile-content"};function Pb(e,t,n,r,s,i){const a=$e("Header"),c=$e("Schedule"),f=$e("ScheduleProfile");return q(),W("div",Tb,[Ee(a),b("div",Ob,[Ee(c,{class:"schedule"}),Ee(f,{class:"profile"})])])}const Mb=je(Db,[["render",Pb],["__scopeId","data-v-2d45820c"]]);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hu(Object(n),!0).forEach(function(r){Rb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ib(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Id(e){var t=Ib(e,"string");return typeof t=="symbol"?t:t+""}function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function Ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Id(r.key),r)}}function kb(e,t,n){return t&&pu(e.prototype,t),n&&pu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rb(e,t,n){return t=Id(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ad(e){return Nb(e)||$b(e)||Fb(e)||Lb()}function Nb(e){if(Array.isArray(e))return Fa(e)}function $b(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fb(e,t){if(e){if(typeof e=="string")return Fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fa(e,t)}}function Fa(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ho=typeof window<"u"&&typeof window.document<"u",Pn=ho?window:{},gl=ho&&Pn.document.documentElement?"ontouchstart"in Pn.document.documentElement:!1,vl=ho?"PointerEvent"in Pn:!1,ot="cropper",yl="all",kd="crop",Rd="move",Nd="zoom",gr="e",vr="w",Nr="s",Yn="n",vs="ne",ys="nw",bs="se",ws="sw",La="".concat(ot,"-crop"),mu="".concat(ot,"-disabled"),Qt="".concat(ot,"-hidden"),gu="".concat(ot,"-hide"),Bb="".concat(ot,"-invisible"),Vi="".concat(ot,"-modal"),Ba="".concat(ot,"-move"),js="".concat(ot,"Action"),_i="".concat(ot,"Preview"),bl="crop",$d="move",Fd="none",Ua="crop",ja="cropend",qa="cropmove",Va="cropstart",vu="dblclick",Ub=gl?"touchstart":"mousedown",jb=gl?"touchmove":"mousemove",qb=gl?"touchend touchcancel":"mouseup",yu=vl?"pointerdown":Ub,bu=vl?"pointermove":jb,wu=vl?"pointerup pointercancel":qb,_u="ready",Su="resize",xu="wheel",Ka="zoom",Cu="image/jpeg",Vb=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Kb=/^data:/,Hb=/^data:image\/jpeg;base64,/,zb=/^img|canvas$/i,Ld=200,Bd=100,Eu={viewMode:0,dragMode:bl,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Ld,minContainerHeight:Bd,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Wb='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Yb=Number.isNaN||Pn.isNaN;function Le(e){return typeof e=="number"&&!Yb(e)}var Du=function(t){return t>0&&t<1/0};function ua(e){return typeof e>"u"}function Cr(e){return $a(e)==="object"&&e!==null}var Xb=Object.prototype.hasOwnProperty;function Lr(e){if(!Cr(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&Xb.call(n,"isPrototypeOf")}catch{return!1}}function Gt(e){return typeof e=="function"}var Gb=Array.prototype.slice;function Ud(e){return Array.from?Array.from(e):Gb.call(e)}function gt(e,t){return e&&Gt(t)&&(Array.isArray(e)||Le(e.length)?Ud(e).forEach(function(n,r){t.call(e,n,r,e)}):Cr(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var at=Object.assign||function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Cr(t)&&r.length>0&&r.forEach(function(i){Cr(i)&&Object.keys(i).forEach(function(a){t[a]=i[a]})}),t},Qb=/\.\d*(?:0|9){12}\d*$/;function Yr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Qb.test(e)?Math.round(e*t)/t:e}var Jb=/^width|height|left|top|marginLeft|marginTop$/;function er(e,t){var n=e.style;gt(t,function(r,s){Jb.test(s)&&Le(r)&&(r="".concat(r,"px")),n[s]=r})}function Zb(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Ot(e,t){if(t){if(Le(e.length)){gt(e,function(r){Ot(r,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Tn(e,t){if(t){if(Le(e.length)){gt(e,function(n){Tn(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Br(e,t,n){if(t){if(Le(e.length)){gt(e,function(r){Br(r,t,n)});return}n?Ot(e,t):Tn(e,t)}}var e2=/([a-z\d])([A-Z])/g;function wl(e){return e.replace(e2,"$1-$2").toLowerCase()}function Ha(e,t){return Cr(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(wl(t)))}function qs(e,t,n){Cr(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(wl(t)),n)}function t2(e,t){if(Cr(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(wl(t)))}var jd=/\s\s*/,qd=function(){var e=!1;if(ho){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(i){t=i}});Pn.addEventListener("test",n,r),Pn.removeEventListener("test",n,r)}return e}();function dn(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;t.trim().split(jd).forEach(function(i){if(!qd){var a=e.listeners;a&&a[i]&&a[i][n]&&(s=a[i][n],delete a[i][n],Object.keys(a[i]).length===0&&delete a[i],Object.keys(a).length===0&&delete e.listeners)}e.removeEventListener(i,s,r)})}function an(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;t.trim().split(jd).forEach(function(i){if(r.once&&!qd){var a=e.listeners,c=a===void 0?{}:a;s=function(){delete c[i][n],e.removeEventListener(i,s,r);for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];n.apply(e,h)},c[i]||(c[i]={}),c[i][n]&&e.removeEventListener(i,c[i][n],r),c[i][n]=s,e.listeners=c}e.addEventListener(i,s,r)})}function Xr(e,t,n){var r;return Gt(Event)&&Gt(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function Vd(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var fa=Pn.location,n2=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Tu(e){var t=e.match(n2);return t!==null&&(t[1]!==fa.protocol||t[2]!==fa.hostname||t[3]!==fa.port)}function Ou(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function Ms(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,s=e.translateX,i=e.translateY,a=[];Le(s)&&s!==0&&a.push("translateX(".concat(s,"px)")),Le(i)&&i!==0&&a.push("translateY(".concat(i,"px)")),Le(t)&&t!==0&&a.push("rotate(".concat(t,"deg)")),Le(n)&&n!==1&&a.push("scaleX(".concat(n,")")),Le(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var c=a.length?a.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function r2(e){var t=Md({},e),n=0;return gt(e,function(r,s){delete t[s],gt(t,function(i){var a=Math.abs(r.startX-i.startX),c=Math.abs(r.startY-i.startY),f=Math.abs(r.endX-i.endX),p=Math.abs(r.endY-i.endY),h=Math.sqrt(a*a+c*c),g=Math.sqrt(f*f+p*p),w=(g-h)/h;Math.abs(w)>Math.abs(n)&&(n=w)})}),n}function Si(e,t){var n=e.pageX,r=e.pageY,s={endX:n,endY:r};return t?s:Md({startX:n,startY:r},s)}function s2(e){var t=0,n=0,r=0;return gt(e,function(s){var i=s.startX,a=s.startY;t+=i,n+=a,r+=1}),t/=r,n/=r,{pageX:t,pageY:n}}function tr(e){var t=e.aspectRatio,n=e.height,r=e.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=Du(r),a=Du(n);if(i&&a){var c=n*t;s==="contain"&&c>r||s==="cover"&&c<r?n=r/t:r=n*t}else i?n=r/t:a&&(r=n*t);return{width:r,height:n}}function i2(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:t};var s=r%90*Math.PI/180,i=Math.sin(s),a=Math.cos(s),c=t*a+n*i,f=t*i+n*a;return r>90?{width:f,height:c}:{width:c,height:f}}function o2(e,t,n,r){var s=t.aspectRatio,i=t.naturalWidth,a=t.naturalHeight,c=t.rotate,f=c===void 0?0:c,p=t.scaleX,h=p===void 0?1:p,g=t.scaleY,w=g===void 0?1:g,D=n.aspectRatio,R=n.naturalWidth,B=n.naturalHeight,j=r.fillColor,Z=j===void 0?"transparent":j,G=r.imageSmoothingEnabled,ee=G===void 0?!0:G,ie=r.imageSmoothingQuality,be=ie===void 0?"low":ie,K=r.maxWidth,ue=K===void 0?1/0:K,Ae=r.maxHeight,Ze=Ae===void 0?1/0:Ae,ct=r.minWidth,yt=ct===void 0?0:ct,ft=r.minHeight,Ge=ft===void 0?0:ft,xt=document.createElement("canvas"),nt=xt.getContext("2d"),ze=tr({aspectRatio:D,width:ue,height:Ze}),Be=tr({aspectRatio:D,width:yt,height:Ge},"cover"),Oe=Math.min(ze.width,Math.max(Be.width,R)),mt=Math.min(ze.height,Math.max(Be.height,B)),dt=tr({aspectRatio:s,width:ue,height:Ze}),It=tr({aspectRatio:s,width:yt,height:Ge},"cover"),bt=Math.min(dt.width,Math.max(It.width,i)),Nt=Math.min(dt.height,Math.max(It.height,a)),un=[-bt/2,-Nt/2,bt,Nt];return xt.width=Yr(Oe),xt.height=Yr(mt),nt.fillStyle=Z,nt.fillRect(0,0,Oe,mt),nt.save(),nt.translate(Oe/2,mt/2),nt.rotate(f*Math.PI/180),nt.scale(h,w),nt.imageSmoothingEnabled=ee,nt.imageSmoothingQuality=be,nt.drawImage.apply(nt,[e].concat(Ad(un.map(function(fn){return Math.floor(Yr(fn))})))),nt.restore(),xt}var Kd=String.fromCharCode;function a2(e,t,n){var r="";n+=t;for(var s=t;s<n;s+=1)r+=Kd(e.getUint8(s));return r}var l2=/^data:.*,/;function c2(e){var t=e.replace(l2,""),n=atob(t),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return gt(s,function(i,a){s[a]=n.charCodeAt(a)}),r}function u2(e,t){for(var n=[],r=8192,s=new Uint8Array(e);s.length>0;)n.push(Kd.apply(null,Ud(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function f2(e){var t=new DataView(e),n;try{var r,s,i;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var a=t.byteLength,c=2;c+1<a;){if(t.getUint8(c)===255&&t.getUint8(c+1)===225){s=c;break}c+=1}if(s){var f=s+4,p=s+10;if(a2(t,f,4)==="Exif"){var h=t.getUint16(p);if(r=h===18761,(r||h===19789)&&t.getUint16(p+2,r)===42){var g=t.getUint32(p+4,r);g>=8&&(i=p+g)}}}if(i){var w=t.getUint16(i,r),D,R;for(R=0;R<w;R+=1)if(D=i+R*12+2,t.getUint16(D,r)===274){D+=8,n=t.getUint16(D,r),t.setUint16(D,1,r);break}}}catch{n=1}return n}function d2(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var h2={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),a=Number(n.minContainerHeight);Ot(s,Qt),Tn(t,Qt);var c={width:Math.max(r.offsetWidth,i>=0?i:Ld),height:Math.max(r.offsetHeight,a>=0?a:Bd)};this.containerData=c,er(s,{width:c.width,height:c.height}),Ot(t,Qt),Tn(s,Qt)},initCanvas:function(){var t=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,a=s?n.naturalWidth:n.naturalHeight,c=i/a,f=t.width,p=t.height;t.height*c>t.width?r===3?f=t.height*c:p=t.width/c:r===3?p=t.width/c:f=t.height*c;var h={aspectRatio:c,naturalWidth:i,naturalHeight:a,width:f,height:p};this.canvasData=h,this.limited=r===1||r===2,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(t.width-h.width)/2,h.top=(t.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=at({},h)},limitCanvas:function(t,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,c=r.viewMode,f=i.aspectRatio,p=this.cropped&&a;if(t){var h=Number(r.minCanvasWidth)||0,g=Number(r.minCanvasHeight)||0;c>1?(h=Math.max(h,s.width),g=Math.max(g,s.height),c===3&&(g*f>h?h=g*f:g=h/f)):c>0&&(h?h=Math.max(h,p?a.width:0):g?g=Math.max(g,p?a.height:0):p&&(h=a.width,g=a.height,g*f>h?h=g*f:g=h/f));var w=tr({aspectRatio:f,width:h,height:g});h=w.width,g=w.height,i.minWidth=h,i.minHeight=g,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(c>(p?0:1)){var D=s.width-i.width,R=s.height-i.height;i.minLeft=Math.min(0,D),i.minTop=Math.min(0,R),i.maxLeft=Math.max(0,D),i.maxTop=Math.max(0,R),p&&this.limited&&(i.minLeft=Math.min(a.left,a.left+(a.width-i.width)),i.minTop=Math.min(a.top,a.top+(a.height-i.height)),i.maxLeft=a.left,i.maxTop=a.top,c===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,D),i.maxLeft=Math.max(0,D)),i.height>=s.height&&(i.minTop=Math.min(0,R),i.maxTop=Math.max(0,R))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(t,n){var r=this.canvasData,s=this.imageData;if(n){var i=i2({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),a=i.width,c=i.height,f=r.width*(a/r.naturalWidth),p=r.height*(c/r.naturalHeight);r.left-=(f-r.width)/2,r.top-=(p-r.height)/2,r.width=f,r.height=p,r.aspectRatio=a/c,r.naturalWidth=a,r.naturalHeight=c,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,er(this.canvas,at({width:r.width,height:r.height},Ms({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);at(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),er(this.image,at({width:r.width,height:r.height},Ms(at({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,s=Number(t.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=at({},i)},limitCropBox:function(t,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,c=this.limited,f=r.aspectRatio;if(t){var p=Number(r.minCropBoxWidth)||0,h=Number(r.minCropBoxHeight)||0,g=c?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,w=c?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;p=Math.min(p,s.width),h=Math.min(h,s.height),f&&(p&&h?h*f>p?h=p/f:p=h*f:p?h=p/f:h&&(p=h*f),w*f>g?w=g/f:g=w*f),a.minWidth=Math.min(p,g),a.minHeight=Math.min(h,w),a.maxWidth=g,a.maxHeight=w}n&&(c?(a.minLeft=Math.max(0,i.left),a.minTop=Math.max(0,i.top),a.maxLeft=Math.min(s.width,i.left+i.width)-a.width,a.maxTop=Math.min(s.height,i.top+i.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=s.width-a.width,a.maxTop=s.height-a.height))},renderCropBox:function(){var t=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&qs(this.face,js,r.width>=n.width&&r.height>=n.height?Rd:yl),er(this.cropBox,at({width:r.width,height:r.height},Ms({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Xr(this.element,Ua,this.getData())}},p2={initPreview:function(){var t=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=t.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=s,a.alt=i,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var c=r;typeof r=="string"?c=t.ownerDocument.querySelectorAll(r):r.querySelector&&(c=[r]),this.previews=c,gt(c,function(f){var p=document.createElement("img");qs(f,_i,{width:f.offsetWidth,height:f.offsetHeight,html:f.innerHTML}),n&&(p.crossOrigin=n),p.src=s,p.alt=i,p.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',f.innerHTML="",f.appendChild(p)})}},resetPreview:function(){gt(this.previews,function(t){var n=Ha(t,_i);er(t,{width:n.width,height:n.height}),t.innerHTML=n.html,t2(t,_i)})},preview:function(){var t=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,a=t.width,c=t.height,f=r.left-n.left-t.left,p=r.top-n.top-t.top;!this.cropped||this.disabled||(er(this.viewBoxImage,at({width:a,height:c},Ms(at({translateX:-f,translateY:-p},t)))),gt(this.previews,function(h){var g=Ha(h,_i),w=g.width,D=g.height,R=w,B=D,j=1;s&&(j=w/s,B=i*j),i&&B>D&&(j=D/i,R=s*j,B=D),er(h,{width:R,height:B}),er(h.getElementsByTagName("img")[0],at({width:a*j,height:c*j},Ms(at({translateX:-f*j,translateY:-p*j},t))))}))}},m2={bind:function(){var t=this.element,n=this.options,r=this.cropper;Gt(n.cropstart)&&an(t,Va,n.cropstart),Gt(n.cropmove)&&an(t,qa,n.cropmove),Gt(n.cropend)&&an(t,ja,n.cropend),Gt(n.crop)&&an(t,Ua,n.crop),Gt(n.zoom)&&an(t,Ka,n.zoom),an(r,yu,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&an(r,xu,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&an(r,vu,this.onDblclick=this.dblclick.bind(this)),an(t.ownerDocument,bu,this.onCropMove=this.cropMove.bind(this)),an(t.ownerDocument,wu,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&an(window,Su,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,r=this.cropper;Gt(n.cropstart)&&dn(t,Va,n.cropstart),Gt(n.cropmove)&&dn(t,qa,n.cropmove),Gt(n.cropend)&&dn(t,ja,n.cropend),Gt(n.crop)&&dn(t,Ua,n.crop),Gt(n.zoom)&&dn(t,Ka,n.zoom),dn(r,yu,this.onCropStart),n.zoomable&&n.zoomOnWheel&&dn(r,xu,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&dn(r,vu,this.onDblclick),dn(t.ownerDocument,bu,this.onCropMove),dn(t.ownerDocument,wu,this.onCropEnd),n.responsive&&dn(window,Su,this.onResize)}},g2={resize:function(){if(!this.disabled){var t=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,a=Math.abs(s-1)>Math.abs(i-1)?s:i;if(a!==1){var c,f;t.restore&&(c=this.getCanvasData(),f=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(gt(c,function(p,h){c[h]=p*a})),this.setCropBoxData(gt(f,function(p,h){f[h]=p*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===Fd||this.setDragMode(Zb(this.dragBox,La)?$d:bl)},wheel:function(t){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?s=t.deltaY>0?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=t.detail>0?1:-1),this.zoom(-s*r,t)))},cropStart:function(t){var n=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(Le(n)&&n!==1||Le(r)&&r!==0||t.ctrlKey))){var s=this.options,i=this.pointers,a;t.changedTouches?gt(t.changedTouches,function(c){i[c.identifier]=Si(c)}):i[t.pointerId||0]=Si(t),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?a=Nd:a=Ha(t.target,js),Vb.test(a)&&Xr(this.element,Va,{originalEvent:t,action:a})!==!1&&(t.preventDefault(),this.action=a,this.cropping=!1,a===kd&&(this.cropping=!0,Ot(this.dragBox,Vi)))}},cropMove:function(t){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;t.preventDefault(),Xr(this.element,qa,{originalEvent:t,action:n})!==!1&&(t.changedTouches?gt(t.changedTouches,function(s){at(r[s.identifier]||{},Si(s,!0))}):at(r[t.pointerId||0]||{},Si(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,r=this.pointers;t.changedTouches?gt(t.changedTouches,function(s){delete r[s.identifier]}):delete r[t.pointerId||0],n&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Br(this.dragBox,Vi,this.cropped&&this.options.modal)),Xr(this.element,ja,{originalEvent:t,action:n}))}}},v2={change:function(t){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,a=this.pointers,c=this.action,f=n.aspectRatio,p=i.left,h=i.top,g=i.width,w=i.height,D=p+g,R=h+w,B=0,j=0,Z=s.width,G=s.height,ee=!0,ie;!f&&t.shiftKey&&(f=g&&w?g/w:1),this.limited&&(B=i.minLeft,j=i.minTop,Z=B+Math.min(s.width,r.width,r.left+r.width),G=j+Math.min(s.height,r.height,r.top+r.height));var be=a[Object.keys(a)[0]],K={x:be.endX-be.startX,y:be.endY-be.startY},ue=function(Ze){switch(Ze){case gr:D+K.x>Z&&(K.x=Z-D);break;case vr:p+K.x<B&&(K.x=B-p);break;case Yn:h+K.y<j&&(K.y=j-h);break;case Nr:R+K.y>G&&(K.y=G-R);break}};switch(c){case yl:p+=K.x,h+=K.y;break;case gr:if(K.x>=0&&(D>=Z||f&&(h<=j||R>=G))){ee=!1;break}ue(gr),g+=K.x,g<0&&(c=vr,g=-g,p-=g),f&&(w=g/f,h+=(i.height-w)/2);break;case Yn:if(K.y<=0&&(h<=j||f&&(p<=B||D>=Z))){ee=!1;break}ue(Yn),w-=K.y,h+=K.y,w<0&&(c=Nr,w=-w,h-=w),f&&(g=w*f,p+=(i.width-g)/2);break;case vr:if(K.x<=0&&(p<=B||f&&(h<=j||R>=G))){ee=!1;break}ue(vr),g-=K.x,p+=K.x,g<0&&(c=gr,g=-g,p-=g),f&&(w=g/f,h+=(i.height-w)/2);break;case Nr:if(K.y>=0&&(R>=G||f&&(p<=B||D>=Z))){ee=!1;break}ue(Nr),w+=K.y,w<0&&(c=Yn,w=-w,h-=w),f&&(g=w*f,p+=(i.width-g)/2);break;case vs:if(f){if(K.y<=0&&(h<=j||D>=Z)){ee=!1;break}ue(Yn),w-=K.y,h+=K.y,g=w*f}else ue(Yn),ue(gr),K.x>=0?D<Z?g+=K.x:K.y<=0&&h<=j&&(ee=!1):g+=K.x,K.y<=0?h>j&&(w-=K.y,h+=K.y):(w-=K.y,h+=K.y);g<0&&w<0?(c=ws,w=-w,g=-g,h-=w,p-=g):g<0?(c=ys,g=-g,p-=g):w<0&&(c=bs,w=-w,h-=w);break;case ys:if(f){if(K.y<=0&&(h<=j||p<=B)){ee=!1;break}ue(Yn),w-=K.y,h+=K.y,g=w*f,p+=i.width-g}else ue(Yn),ue(vr),K.x<=0?p>B?(g-=K.x,p+=K.x):K.y<=0&&h<=j&&(ee=!1):(g-=K.x,p+=K.x),K.y<=0?h>j&&(w-=K.y,h+=K.y):(w-=K.y,h+=K.y);g<0&&w<0?(c=bs,w=-w,g=-g,h-=w,p-=g):g<0?(c=vs,g=-g,p-=g):w<0&&(c=ws,w=-w,h-=w);break;case ws:if(f){if(K.x<=0&&(p<=B||R>=G)){ee=!1;break}ue(vr),g-=K.x,p+=K.x,w=g/f}else ue(Nr),ue(vr),K.x<=0?p>B?(g-=K.x,p+=K.x):K.y>=0&&R>=G&&(ee=!1):(g-=K.x,p+=K.x),K.y>=0?R<G&&(w+=K.y):w+=K.y;g<0&&w<0?(c=vs,w=-w,g=-g,h-=w,p-=g):g<0?(c=bs,g=-g,p-=g):w<0&&(c=ys,w=-w,h-=w);break;case bs:if(f){if(K.x>=0&&(D>=Z||R>=G)){ee=!1;break}ue(gr),g+=K.x,w=g/f}else ue(Nr),ue(gr),K.x>=0?D<Z?g+=K.x:K.y>=0&&R>=G&&(ee=!1):g+=K.x,K.y>=0?R<G&&(w+=K.y):w+=K.y;g<0&&w<0?(c=ys,w=-w,g=-g,h-=w,p-=g):g<0?(c=ws,g=-g,p-=g):w<0&&(c=vs,w=-w,h-=w);break;case Rd:this.move(K.x,K.y),ee=!1;break;case Nd:this.zoom(r2(a),t),ee=!1;break;case kd:if(!K.x||!K.y){ee=!1;break}ie=Vd(this.cropper),p=be.startX-ie.left,h=be.startY-ie.top,g=i.minWidth,w=i.minHeight,K.x>0?c=K.y>0?bs:vs:K.x<0&&(p-=g,c=K.y>0?ws:ys),K.y<0&&(h-=w),this.cropped||(Tn(this.cropBox,Qt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}ee&&(i.width=g,i.height=w,i.left=p,i.top=h,this.action=c,this.renderCropBox()),gt(a,function(Ae){Ae.startX=Ae.endX,Ae.startY=Ae.endY})}},y2={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ot(this.dragBox,Vi),Tn(this.cropBox,Qt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=at({},this.initialImageData),this.canvasData=at({},this.initialCanvasData),this.cropBoxData=at({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(at(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Tn(this.dragBox,Vi),Ot(this.cropBox,Qt)),this},replace:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,gt(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Tn(this.cropper,mu)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ot(this.cropper,mu)),this},destroy:function(){var t=this.element;return t[ot]?(t[ot]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(ua(t)?t:s+Number(t),ua(n)?n:i+Number(n))},moveTo:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,s=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(Le(t)&&(r.left=t,s=!0),Le(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(t,n){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,n)},zoomTo:function(t,n,r){var s=this.options,i=this.canvasData,a=i.width,c=i.height,f=i.naturalWidth,p=i.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&s.zoomable){var h=f*t,g=p*t;if(Xr(this.element,Ka,{ratio:t,oldRatio:a/f,originalEvent:r})===!1)return this;if(r){var w=this.pointers,D=Vd(this.cropper),R=w&&Object.keys(w).length?s2(w):{pageX:r.pageX,pageY:r.pageY};i.left-=(h-a)*((R.pageX-D.left-i.left)/a),i.top-=(g-c)*((R.pageY-D.top-i.top)/c)}else Lr(n)&&Le(n.x)&&Le(n.y)?(i.left-=(h-a)*((n.x-i.left)/a),i.top-=(g-c)*((n.y-i.top)/c)):(i.left-=(h-a)/2,i.top-=(g-c)/2);i.width=h,i.height=g,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),Le(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,Le(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(Le(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,s=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(Le(t)&&(r.scaleX=t,s=!0),Le(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var c=r.width/r.naturalWidth;if(gt(a,function(h,g){a[g]=h/c}),t){var f=Math.round(a.y+a.height),p=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=p-a.x,a.height=f-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(t){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&Lr(t)){var a=!1;n.rotatable&&Le(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,a=!0),n.scalable&&(Le(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,a=!0),Le(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var c=r.width/r.naturalWidth;Le(t.x)&&(i.left=t.x*c+s.left),Le(t.y)&&(i.top=t.y*c+s.top),Le(t.width)&&(i.width=t.width*c),Le(t.height)&&(i.height=t.height*c),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?at({},this.containerData):{}},getImageData:function(){return this.sized?at({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&gt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=t[r]}),n},setCanvasData:function(t){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Lr(t)&&(Le(t.left)&&(n.left=t.left),Le(t.top)&&(n.top=t.top),Le(t.width)?(n.width=t.width,n.height=t.width/r):Le(t.height)&&(n.height=t.height,n.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(t){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&Lr(t)&&(Le(t.left)&&(n.left=t.left),Le(t.top)&&(n.top=t.top),Le(t.width)&&t.width!==n.width&&(s=!0,n.width=t.width),Le(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=o2(this.image,this.imageData,n,t);if(!this.cropped)return r;var s=this.getData(t.rounded),i=s.x,a=s.y,c=s.width,f=s.height,p=r.width/Math.floor(n.naturalWidth);p!==1&&(i*=p,a*=p,c*=p,f*=p);var h=c/f,g=tr({aspectRatio:h,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),w=tr({aspectRatio:h,width:t.minWidth||0,height:t.minHeight||0},"cover"),D=tr({aspectRatio:h,width:t.width||(p!==1?r.width:c),height:t.height||(p!==1?r.height:f)}),R=D.width,B=D.height;R=Math.min(g.width,Math.max(w.width,R)),B=Math.min(g.height,Math.max(w.height,B));var j=document.createElement("canvas"),Z=j.getContext("2d");j.width=Yr(R),j.height=Yr(B),Z.fillStyle=t.fillColor||"transparent",Z.fillRect(0,0,R,B);var G=t.imageSmoothingEnabled,ee=G===void 0?!0:G,ie=t.imageSmoothingQuality;Z.imageSmoothingEnabled=ee,ie&&(Z.imageSmoothingQuality=ie);var be=r.width,K=r.height,ue=i,Ae=a,Ze,ct,yt,ft,Ge,xt;ue<=-c||ue>be?(ue=0,Ze=0,yt=0,Ge=0):ue<=0?(yt=-ue,ue=0,Ze=Math.min(be,c+ue),Ge=Ze):ue<=be&&(yt=0,Ze=Math.min(c,be-ue),Ge=Ze),Ze<=0||Ae<=-f||Ae>K?(Ae=0,ct=0,ft=0,xt=0):Ae<=0?(ft=-Ae,Ae=0,ct=Math.min(K,f+Ae),xt=ct):Ae<=K&&(ft=0,ct=Math.min(f,K-Ae),xt=ct);var nt=[ue,Ae,Ze,ct];if(Ge>0&&xt>0){var ze=R/c;nt.push(yt*ze,ft*ze,Ge*ze,xt*ze)}return Z.drawImage.apply(Z,[r].concat(Ad(nt.map(function(Be){return Math.floor(Yr(Be))})))),j},setAspectRatio:function(t){var n=this.options;return!this.disabled&&!ua(t)&&(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=t===bl,a=n.movable&&t===$d;t=i||a?t:Fd,n.dragMode=t,qs(r,js,t),Br(r,La,i),Br(r,Ba,a),n.cropBoxMovable||(qs(s,js,t),Br(s,La,i),Br(s,Ba,a))}return this}},b2=Pn.Cropper,po=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ab(this,e),!t||!zb.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=at({},Eu,Lr(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return kb(e,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[ot]){if(n[ot]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Kb.test(n)){Hb.test(n)?this.read(c2(n)):this.clone();return}var a=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=c,a.onerror=c,a.ontimeout=c,a.onprogress=function(){a.getResponseHeader("content-type")!==Cu&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&Tu(n)&&s.crossOrigin&&(n=Ou(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=s.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=f2(n),a=0,c=1,f=1;if(i>1){this.url=u2(n,Cu);var p=d2(i);a=p.rotate,c=p.scaleX,f=p.scaleY}r.rotatable&&(s.rotate=a),r.scalable&&(s.scaleX=c,s.scaleY=f),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&Tu(r)&&(s||(s="anonymous"),i=Ou(r)),this.crossOrigin=s,this.crossOriginUrl=i;var a=document.createElement("img");s&&(a.crossOrigin=s),a.src=i||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),Ot(a,gu),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Pn.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Pn.navigator.userAgent),i=function(p,h){at(n.imageData,{naturalWidth:p,naturalHeight:h,aspectRatio:p/h}),n.initialImageData=at({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),c=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){i(a.width,a.height),s||c.removeChild(a)},a.src=r.src,s||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",c.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,a=document.createElement("div");a.innerHTML=Wb;var c=a.querySelector(".".concat(ot,"-container")),f=c.querySelector(".".concat(ot,"-canvas")),p=c.querySelector(".".concat(ot,"-drag-box")),h=c.querySelector(".".concat(ot,"-crop-box")),g=h.querySelector(".".concat(ot,"-face"));this.container=i,this.cropper=c,this.canvas=f,this.dragBox=p,this.cropBox=h,this.viewBox=c.querySelector(".".concat(ot,"-view-box")),this.face=g,f.appendChild(s),Ot(n,Qt),i.insertBefore(c,n.nextSibling),Tn(s,gu),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Ot(h,Qt),r.guides||Ot(h.getElementsByClassName("".concat(ot,"-dashed")),Qt),r.center||Ot(h.getElementsByClassName("".concat(ot,"-center")),Qt),r.background&&Ot(c,"".concat(ot,"-bg")),r.highlight||Ot(g,Bb),r.cropBoxMovable&&(Ot(g,Ba),qs(g,js,yl)),r.cropBoxResizable||(Ot(h.getElementsByClassName("".concat(ot,"-line")),Qt),Ot(h.getElementsByClassName("".concat(ot,"-point")),Qt)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),Gt(r.ready)&&an(n,_u,r.ready,{once:!0}),Xr(n,_u)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Tn(this.element,Qt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=b2,e}},{key:"setDefaults",value:function(n){at(Eu,Lr(n)&&n)}}])}();at(po.prototype,h2,p2,m2,g2,v2,y2);const w2="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0116%203.49694L14.9696%202.54772C15.4443%202.07311%2015.4618%201.55456%2015.0312%201.11511L14.6884%200.763544C14.2577%200.33288%2013.7216%200.376825%2013.2558%200.842646L12.2978%201.78308L14.0116%203.49694ZM3.24504%2014.246L13.1679%204.32311L11.4628%202.62683L1.53996%2012.5321L0.67863%2014.6063C0.58195%2014.87%200.854411%2015.16%201.11808%2015.0633L3.24504%2014.246Z'%20fill='%23E3E3E3'/%3e%3c/svg%3e",_2={name:"UserData",props:{user:{type:Object,required:!0}},data(){return{userRole:null,userPhoto:null,isEditModalVisible:!1,showCropModal:!1,cropper:null,currentPhoto:null,croppedPhotoBase64:null,newData:null}},async created(){this.userRole=this.user.role==="master"?"мастер":"пользователь";try{const e=await pl(this.user.id);this.userPhoto=e||Zn}catch(e){console.error("Ошибка при загрузке фотографии профиля:",e),this.userPhoto=Zn}},methods:{openEditModal(){this.isEditModalVisible=!0,this.newData={...this.user}},closeEditModal(){this.isEditModalVisible=!1,this.newData=null},openCropModal(e){const t=e.target.files[0];t&&(this.currentPhoto=URL.createObjectURL(t),this.showCropModal=!0,this.$nextTick(()=>{const n=this.$refs.cropImage;this.cropper=new po(n,{aspectRatio:1,viewMode:2})}))},confirmCrop(){const e=this.cropper.getCroppedCanvas();this.croppedPhotoBase64=e.toDataURL("image/png"),this.closeCropModal(),this.saveProfile()},closeCropModal(){this.showCropModal=!1,this.currentPhoto=null,this.cropper&&(this.cropper.destroy(),this.cropper=null),this.closeEditModal()},async saveProfile(){try{if(this.croppedPhotoBase64){const e=this.croppedPhotoBase64.replace(/^data:image\/png;base64,/,"");await Rv(this.user.id,e)}window.location.reload()}catch(e){console.error("Ошибка при обновлении профиля:",e),alert("Не удалось обновить профиль. Попробуйте попытку позже.")}},async saveUserData(){try{console.log("update"),await Nv(this.user.id,this.newData.name,this.newData.email)}catch(e){console.error("Ошибка при обновлении профиля:",e),alert("Не удалось обновить профиль. Попробуйте попытку позже.")}}}},S2={class:"user-info-container"},x2=["src"],C2={class:"user-info"},E2={class:"user-name"},D2={key:0,class:"edit-modal"},T2={class:"modal-content"},O2={key:0,class:"crop-modal"},P2={class:"crop-container"},M2=["src"],I2={class:"modal-buttons"};function A2(e,t,n,r,s,i){return q(),W("div",S2,[b("img",{src:s.userPhoto,alt:"Аватар пользователя",class:"profile-picture"},null,8,x2),b("div",C2,[b("h2",E2,Fe(n.user.name),1),t[8]||(t[8]=b("div",{class:"divider"},null,-1))]),b("button",{class:"edit-button",onClick:t[0]||(t[0]=(...a)=>i.openEditModal&&i.openEditModal(...a))},t[9]||(t[9]=[b("img",{src:w2,alt:"Редактировать профиль"},null,-1)])),s.isEditModalVisible?(q(),W("div",D2,[b("div",T2,[t[13]||(t[13]=b("h2",null,"Обновить фотографию профиля",-1)),b("form",null,[b("label",null,[t[10]||(t[10]=Yt(" Имя: ")),ut(b("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>this.newData.name=a),required:""},null,512),[[Pt,this.newData.name]])]),b("label",null,[t[11]||(t[11]=Yt(" Почта: ")),ut(b("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=a=>this.newData.email=a),required:""},null,512),[[Pt,this.newData.email]])]),b("label",null,[t[12]||(t[12]=Yt(" Фотография: ")),b("input",{type:"file",onChange:t[3]||(t[3]=(...a)=>i.openCropModal&&i.openCropModal(...a))},null,32)]),s.showCropModal?(q(),W("div",O2,[b("div",P2,[b("img",{ref:"cropImage",src:s.currentPhoto,alt:"To Crop"},null,8,M2),b("button",{type:"button",onClick:t[4]||(t[4]=(...a)=>i.confirmCrop&&i.confirmCrop(...a))},"Обрезать и сохранить"),b("button",{type:"button",onClick:t[5]||(t[5]=(...a)=>i.closeCropModal&&i.closeCropModal(...a))},"Отменить")])])):lt("",!0),b("div",I2,[b("button",{type:"submit",onClick:t[6]||(t[6]=(...a)=>i.saveUserData&&i.saveUserData(...a))},"Сохранить"),b("button",{type:"button",onClick:t[7]||(t[7]=(...a)=>i.closeEditModal&&i.closeEditModal(...a))},"Отмена")])])])])):lt("",!0)])}const k2=je(_2,[["render",A2],["__scopeId","data-v-f960fcb3"]]),R2={props:{usluga:{type:Object,required:!0}}},N2={class:"usluga-card"},$2={class:"usluga-card-buttons"};function F2(e,t,n,r,s,i){return q(),W("div",N2,[b("h3",null,Fe(n.usluga.name),1),b("p",null,"Описание: "+Fe(n.usluga.description),1),b("p",null,"Локация: "+Fe(n.usluga.location),1),b("p",null,"Цена: "+Fe(n.usluga.price)+" руб.",1),b("div",$2,[b("button",{class:"btn-edit",onClick:t[0]||(t[0]=a=>e.$emit("edit"))},"Редактировать"),b("button",{class:"btn-del",onClick:t[1]||(t[1]=a=>e.$emit("delete"))},"Удалить услугу")])])}const L2=je(R2,[["render",F2],["__scopeId","data-v-f70d1fbf"]]),B2={props:{isVisible:{type:Boolean,required:!0},modalType:{type:String,required:!0}}},U2={class:"modal-content"};function j2(e,t,n,r,s,i){return n.isVisible?(q(),W("div",{key:0,class:"modal",onClick:t[1]||(t[1]=kt(a=>e.$emit("close"),["self"]))},[b("div",U2,[Dp(e.$slots,"default",{},void 0),b("button",{onClick:t[0]||(t[0]=a=>e.$emit("close")),class:"close-btn"},"Закрыть")])])):lt("",!0)}const q2=je(B2,[["render",j2],["__scopeId","data-v-e3f149c1"]]),V2={props:{usluga:{type:Object,required:!0},categories:{type:Array,required:!0}},methods:{validateTime(e){const t=this.usluga.slots[e].time,n=this.usluga.slots[e].date;if(!t||!n)return;const[r,s]=t.split(":").map(Number),i=new Date(`${n}T${t}`),a=new Date(i.getTime()+this.usluga.durationMinutes*6e4);for(let c=0;c<this.usluga.slots.length;c++){if(c===e)continue;const f=this.usluga.slots[c];if(!f.date||!f.time)continue;const p=new Date(`${f.date}T${f.time}`),h=new Date(p.getTime()+this.usluga.durationMinutes*6e4);if(i>=p&&i<h||a>p&&a<=h||i<=p&&a>=h){alert(`Невозможно выбрать время: ${t}. Оно пересекается с уже существующим слотом на ${f.date} с ${f.time}.`),this.usluga.slots[e].time="";return}}(r<8||r>18||r===18&&s>0)&&(alert("Выберите время между 08:00 и 18:00!"),this.usluga.slots[e].time="")},validateDate(e){const t=this.usluga.slots[e].date,n=new Date,r=new Date(t);n.setHours(0,0,0,0),r.setHours(0,0,0,0),r<n&&(alert("Вы не можете выбрать прошедшую дату!"),this.usluga.slots[e].date="")},addSlot(){this.usluga.slots.push({date:"",time:""})},removeSlot(e){this.usluga.slots.splice(e,1)},formatDateForInput(e){return e?new Date(e).toISOString().split("T")[0]:""},updateSlotDate(e,t){this.usluga.slots[e].date=t.target.value},validateForm(){const e=this.usluga.name&&this.usluga.description&&this.usluga.location&&this.usluga.price&&this.usluga.durationMinutes&&this.usluga.category,t=this.usluga.slots.every(n=>n.date&&n.time);return e&&t},notifyFormValidity(){this.$emit("formValid",this.validateForm())}},watch:{usluga:{handler(){this.notifyFormValidity()},deep:!0}}},K2=["value"],H2={class:"usluga-slots"},z2=["for"],W2=["onUpdate:modelValue","value","onBlur"],Y2=["for"],X2=["onUpdate:modelValue","onBlur"],G2=["onClick"];function Q2(e,t,n,r,s,i){return q(),W("div",null,[t[7]||(t[7]=b("label",{for:"category"},"Категория",-1)),ut(b("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.usluga.category=a),required:""},[(q(!0),W(Ce,null,Je(n.categories,(a,c)=>(q(),W("option",{key:c,value:a},Fe(a),9,K2))),128))],512),[[Nm,n.usluga.category]]),t[8]||(t[8]=b("label",{for:"name"},"Название",-1)),ut(b("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>n.usluga.name=a),required:""},null,512),[[Pt,n.usluga.name]]),t[9]||(t[9]=b("label",{for:"description"},"Описание",-1)),ut(b("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.usluga.description=a),required:""},null,512),[[Pt,n.usluga.description]]),t[10]||(t[10]=b("label",{for:"location"},"Локация",-1)),ut(b("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>n.usluga.location=a),required:""},null,512),[[Pt,n.usluga.location]]),t[11]||(t[11]=b("label",{for:"price"},"Цена",-1)),ut(b("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=a=>n.usluga.price=a),required:""},null,512),[[Pt,n.usluga.price]]),t[12]||(t[12]=b("label",{for:"duration"},"Длительность",-1)),ut(b("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=a=>n.usluga.durationMinutes=a),required:""},null,512),[[Pt,n.usluga.durationMinutes]]),b("div",H2,[(q(!0),W(Ce,null,Je(n.usluga.slots,(a,c)=>(q(),W("div",{key:c},[b("label",{for:"slot-date-"+c},"Дата",8,z2),ut((q(),W("input",{type:"date","onUpdate:modelValue":f=>a.date=f,key:"slot-date-"+c,value:i.formatDateForInput(a.date),required:"",onBlur:f=>i.validateDate(c)},null,40,W2)),[[Pt,a.date]]),b("label",{for:"slot-time-"+c},"Время",8,Y2),ut((q(),W("input",{type:"time","onUpdate:modelValue":f=>a.time=f,key:"slot-time-"+c,onBlur:f=>i.validateTime(c),required:""},null,40,X2)),[[Pt,a.time]]),b("button",{onClick:f=>i.removeSlot(c),type:"button"},"Удалить слот",8,G2)]))),128)),b("button",{onClick:t[6]||(t[6]=(...a)=>i.addSlot&&i.addSlot(...a)),type:"button"},"Добавить слот")])])}const J2=je(V2,[["render",Q2],["__scopeId","data-v-7e0587ce"]]),Z2={components:{UslugaCard:L2,Modal:q2,UslugaForm:J2},data(){return{uslugas:[],isModalOpen:!1,modalType:"create",newUsluga:{id:null,name:"",description:"",location:"",price:0,durationMinutes:0,slots:[],category:""},categories:["Категория 1","Категория 2","Категория 3","Категория 4"],isFormValid:!1}},methods:{async fetchUslugas(){const e=localStorage.getItem("userID");try{this.uslugas=await Ov(e)}catch(t){console.error("Ошибка при получении услуг:",t)}},openModal(e){this.modalType=e,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1,this.resetUsluga()},editUsluga(e){this.newUsluga={...e},this.newUsluga.slots.forEach(t=>{if(t.date){const n=new Date(t.date);t.date=n.toISOString().split("T")[0]}}),this.openModal("edit")},editSlots(e){this.newUsluga={...e},this.newUsluga.slots.forEach(t=>{if(t.date){const n=new Date(t.date);t.date=n.toISOString().split("T")[0]}}),this.openModal("edit-slots")},async createUsluga(){if(this.isFormValid){this.formatTimeForServer(this.newUsluga.slots);const e=localStorage.getItem("userID");try{const t=await Pv(e,this.newUsluga);this.uslugas.push(t),this.closeModal(),this.resetUsluga()}catch(t){console.error(t)}}},async updateUsluga(){if(this.isFormValid){this.formatTimeForServer(this.newUsluga.slots);try{await Mv(this.newUsluga),await this.fetchUslugas(),this.closeModal(),this.resetUsluga()}catch(e){console.log(e)}}},async deleteUsluga(e){const t=localStorage.getItem("token");try{await Ie.delete(`http://localhost:8080/usluga/${e}`,{headers:{Authorization:`Bearer ${t}`}}),await this.fetchUslugas()}catch(n){console.error("Ошибка при удалении услуги:",n),alert("Удаление услуги невозможно: существуют активные записи!")}},resetUsluga(){this.newUsluga={id:null,name:"",description:"",location:"",price:0,durationMinutes:0,slots:[],category:""},this.isFormValid=!1},handleFormValidation(e){this.isFormValid=e},formatTimeForServer(e){e.forEach(t=>{t.time&&(t.time=`${t.time}:00`)})}},created(){this.fetchUslugas(),this.resetUsluga(),ml().then(e=>{const t=this.categories;this.categories=Array.from(new Set([...t,...e]))}).catch(e=>{console.error("Ошибка при загрузке категорий:",e)})}},ew={class:"my-uslugas-container"},tw=["disabled"],nw=["disabled"],rw={key:0,class:"uslugas-grid"},sw={key:1};function iw(e,t,n,r,s,i){const a=$e("UslugaForm"),c=$e("Modal"),f=$e("UslugaCard");return q(),W("div",ew,[t[5]||(t[5]=b("h1",{class:"my-uslugas-title"},"Мои услуги",-1)),b("button",{onClick:t[0]||(t[0]=p=>i.openModal("create"))},"Добавить услугу"),Ee(c,{isVisible:s.isModalOpen,"onUpdate:isVisible":t[3]||(t[3]=p=>s.isModalOpen=p),onClose:i.closeModal,modalType:s.modalType},{default:Ji(()=>[Ee(a,{usluga:s.newUsluga,categories:s.categories,onFormValid:i.handleFormValidation},null,8,["usluga","categories","onFormValid"]),s.modalType==="create"?(q(),W("button",{key:0,onClick:t[1]||(t[1]=(...p)=>i.createUsluga&&i.createUsluga(...p)),disabled:!s.isFormValid}," Создать услугу ",8,tw)):(q(),W("button",{key:1,onClick:t[2]||(t[2]=(...p)=>i.updateUsluga&&i.updateUsluga(...p)),disabled:!s.isFormValid}," Сохранить обновления ",8,nw))]),_:1},8,["isVisible","onClose","modalType"]),s.uslugas.length>0?(q(),W("div",rw,[(q(!0),W(Ce,null,Je(s.uslugas,p=>(q(),W("div",{key:p.id,class:"my-usluga-item"},[Ee(f,{usluga:p,onDelete:h=>i.deleteUsluga(p.id),onEdit:h=>i.editUsluga(p),onEditSlots:h=>i.editSlots(p)},null,8,["usluga","onDelete","onEdit","onEditSlots"])]))),128))])):(q(),W("div",sw,t[4]||(t[4]=[b("p",null,"Вы еще не добавили ни одной услуги!",-1)])))])}const _l=je(Z2,[["render",iw],["__scopeId","data-v-45b8ba9e"]]),ow={props:{userId:{type:Number,required:!0},isVisible:{type:Boolean,default:!1}},data(){return{portfolioData:{description:"",photos:[]},previewPhotos:[],currentPhoto:null,showCropModal:!1,cropper:null,isSubmitting:!1,errorMessage:"",isSuccessMessage:!1}},methods:{closeModal(){this.$emit("close")},openCropModal(e){const t=e.target.files[0];t&&(this.currentPhoto=URL.createObjectURL(t),this.showCropModal=!0,this.$nextTick(()=>{const n=this.$refs.cropImage;this.cropper=new po(n,{aspectRatio:1,viewMode:2})}))},confirmCrop(){const t=this.cropper.getCroppedCanvas().toDataURL("image/png"),n=t.replace(/^data:image\/png;base64,/,"");this.portfolioData.photos.push(n),this.previewPhotos.push(t),this.closeCropModal()},closeCropModal(){this.showCropModal=!1,this.currentPhoto=null,this.cropper&&(this.cropper.destroy(),this.cropper=null)},async submitForm(){this.isSubmitting=!0,this.errorMessage="",this.isSuccessMessage=!1;try{if(!this.portfolioData.description.trim()){this.errorMessage="Пожалуйста, заполните поле описания.",this.isSubmitting=!1;return}const e={description:this.portfolioData.description,photos:this.portfolioData.photos};await Av(this.userId,e),this.$emit("portfolioCreated"),alert("Портфолио было успешно создано!"),this.isSuccessMessage=!0,this.closeModal()}catch(e){console.error("Ошибка при создании портфолио:",e),this.errorMessage="Произошла ошибка при создании портфолио. Попробуйте снова."}finally{this.isSubmitting=!1}}}},aw={key:0,class:"modal-overlay"},lw={class:"modal-content"},cw={class:"form-group"},uw={class:"form-group"},fw={class:"form-group"},dw={class:"photo-preview"},hw=["src"],pw={key:0,class:"crop-modal"},mw={class:"crop-container"},gw=["src"],vw={class:"form-actions"},yw=["disabled"],bw={key:0,class:"error-message"},ww={key:1,class:"success-message"};function _w(e,t,n,r,s,i){return n.isVisible?(q(),W("div",aw,[b("div",lw,[t[9]||(t[9]=b("h2",null,"Создать новое портфолио",-1)),b("form",{onSubmit:t[5]||(t[5]=kt((...a)=>i.submitForm&&i.submitForm(...a),["prevent"]))},[b("div",cw,[t[6]||(t[6]=b("label",{for:"description"},"Описание:",-1)),ut(b("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>s.portfolioData.description=a),required:""},null,512),[[Pt,s.portfolioData.description]])]),b("div",uw,[t[7]||(t[7]=b("label",{for:"photo"},"Фото (хотя бы одно):",-1)),b("input",{type:"file",onChange:t[1]||(t[1]=(...a)=>i.openCropModal&&i.openCropModal(...a)),accept:"image/png",required:""},null,32)]),b("div",fw,[t[8]||(t[8]=b("label",null,"Добавленные фотографии:",-1)),b("div",dw,[(q(!0),W(Ce,null,Je(s.previewPhotos,(a,c)=>(q(),W("div",{key:c,class:"photo-item"},[b("img",{src:a,alt:"Photo Preview"},null,8,hw)]))),128))])]),s.showCropModal?(q(),W("div",pw,[b("div",mw,[b("img",{ref:"cropImage",src:s.currentPhoto,alt:"To Crop"},null,8,gw),b("button",{type:"button",onClick:t[2]||(t[2]=(...a)=>i.confirmCrop&&i.confirmCrop(...a))},"Обрезать и сохранить"),b("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.closeCropModal&&i.closeCropModal(...a))},"Отменить")])])):lt("",!0),b("div",vw,[b("button",{type:"submit",disabled:s.isSubmitting},"Создать",8,yw),b("button",{type:"button",onClick:t[4]||(t[4]=(...a)=>i.closeModal&&i.closeModal(...a))},"Отменить")])],32),s.errorMessage?(q(),W("div",bw,Fe(s.errorMessage),1)):lt("",!0),s.isSuccessMessage?(q(),W("div",ww,"Портфолио успешно создано!")):lt("",!0)])])):lt("",!0)}const Sw=je(ow,[["render",_w],["__scopeId","data-v-657230f7"]]),xw={components:{CreatePortfolioModal:Sw},props:{userId:{type:Number,required:!0},hasAccess:{type:Boolean,default:!1}},data(){return{portfolioItem:null,isModalVisible:!1}},async created(){await this.fetchPortfolio()},methods:{async handlePortfolioDeleted(){const e=this.portfolioItem.id;try{await kv(e),this.portfolioItem=null,console.log("Портфолио удалено")}catch(t){console.error(t)}},goToUpdatePortfolio(){this.portfolioItem&&this.portfolioItem.id?this.$router.push(`/my-portfolio/update/${Number(this.portfolioItem.id)}`):console.error("Portfolio ID отсутствует!")},openModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},handlePortfolioCreated(){this.fetchPortfolio()},async fetchPortfolio(){try{this.portfolioItem=await xd(this.userId)}catch(e){this.portfolioItem=null,console.error("Ошибка при получении портфолио:",e)}},getImageUrl(e){return typeof e=="string"?`data:image/png;base64,${e}`:(console.error("Invalid data format for image:",e),"")}}},Cw={class:"profile-page"},Ew={key:1,class:"portfolio-item"},Dw={key:0},Tw={class:"portfolio-photos"},Ow=["src"];function Pw(e,t,n,r,s,i){const a=$e("CreatePortfolioModal");return q(),W("div",Cw,[t[4]||(t[4]=b("h1",{class:"title-portfolio"}," Портфолио мастера ",-1)),n.hasAccess&&!s.portfolioItem?(q(),W("button",{key:0,class:"create-portfolio-button",onClick:t[0]||(t[0]=(...c)=>i.openModal&&i.openModal(...c))}," Создать портфолио ")):(q(),W("div",Ew,[s.portfolioItem?(q(),W("div",Dw,[b("p",null,[t[3]||(t[3]=b("strong",null,"Описание:",-1)),Yt(" "+Fe(s.portfolioItem.description),1)]),b("div",Tw,[(q(!0),W(Ce,null,Je(s.portfolioItem.photosAsList,(c,f)=>(q(),W("img",{key:f,src:i.getImageUrl(c),alt:"Portfolio Image"},null,8,Ow))),128))])])):lt("",!0)])),s.isModalVisible?(q(),gn(a,{key:2,userId:n.userId,isVisible:s.isModalVisible,onClose:i.closeModal,onPortfolioCreated:i.handlePortfolioCreated},null,8,["userId","isVisible","onClose","onPortfolioCreated"])):lt("",!0),this.portfolioItem!=null?(q(),W("button",{key:3,class:"create-portfolio-button",onClick:t[1]||(t[1]=(...c)=>i.handlePortfolioDeleted&&i.handlePortfolioDeleted(...c))}," Удалить портфолио ")):lt("",!0),s.portfolioItem!=null?(q(),W("button",{key:4,class:"update-portfolio-button",onClick:t[2]||(t[2]=(...c)=>i.goToUpdatePortfolio&&i.goToUpdatePortfolio(...c))}," Обновить портфолио ")):lt("",!0)])}const Hd=je(xw,[["render",Pw],["__scopeId","data-v-3a6402cb"]]),Mw={name:"ProfileMenu",data(){return{links:[{title:"Главная",route:"/"},{title:"Сообщения",route:"/messages"},{title:"Отзывы",route:"/reviews"},{title:"Статистика",route:"/statistics"},{title:"Услуги",route:"/my-uslugas"},{title:"Портфолио",route:"/my-portfolio"},{title:"Настройки",route:"/settings"},{title:"Поддержка",route:"/support"},{title:"Избранное",route:"/my-favorite"}]}},methods:{goToRoute(e){this.$router.push(e)},logout(){localStorage.removeItem("token"),localStorage.removeItem("userID"),this.$router.push("/login")}}},Iw={class:"profile-menu"},Aw={class:"menu-list"},kw=["onClick"];function Rw(e,t,n,r,s,i){return q(),W("div",Iw,[b("ul",Aw,[(q(!0),W(Ce,null,Je(s.links,(a,c)=>(q(),W("li",{class:"menu-item",key:c,onClick:f=>i.goToRoute(a.route)},Fe(a.title),9,kw))),128))]),b("button",{class:"logout-btn",onClick:t[0]||(t[0]=(...a)=>i.logout&&i.logout(...a))},"Выйти")])}const Ys=je(Mw,[["render",Rw],["__scopeId","data-v-c57e54b6"]]),Nw={name:"StatisticsInfo",data(){return{data:[20,25,30,10,28,22],months:["янв","фев","мар","апр","май","июн"],yTicks:[0,5,10,15,20,25,30]}}},$w={class:"statistics-container"},Fw={class:"chart"},Lw={class:"y-axis"},Bw={class:"horizontal-lines"},Uw={class:"bars-container"},jw={class:"bar-months"},qw={class:"month-label"};function Vw(e,t,n,r,s,i){return q(),W("div",$w,[t[0]||(t[0]=b("h2",{class:"title"},"Статистика",-1)),b("div",Fw,[b("div",Lw,[(q(!0),W(Ce,null,Je(s.yTicks,(a,c)=>(q(),W("div",{key:c,class:"y-tick",style:Gr({top:`calc(${100-c/(s.yTicks.length-1)*100}% - 6px)`})},Fe(a),5))),128))]),b("div",Bw,[(q(!0),W(Ce,null,Je(s.yTicks,a=>(q(),W("div",{key:"line-"+a,class:"line"}))),128))]),b("div",Uw,[(q(!0),W(Ce,null,Je(s.data,(a,c)=>(q(),W("div",{key:c,class:"bar-wrapper"},[b("div",{class:"bar",style:Gr({height:a*6.66+"px"})},null,4)]))),128))]),b("div",jw,[(q(!0),W(Ce,null,Je(s.months,(a,c)=>(q(),W("div",{key:c,class:"month-wrapper"},[b("span",qw,Fe(a),1)]))),128))])])])}const Kw=je(Nw,[["render",Vw],["__scopeId","data-v-3917cf34"]]),Hw={name:"ScheduleComponent",data(){return{count:20,timeLabels:["09:00","12:00","15:00","18:00","21:00","09:00","12:00","15:00","18:00","21:00"]}}},zw={class:"schedule-container"},Ww={class:"schedule-grid"},Yw={class:"schedule-time"};function Xw(e,t,n,r,s,i){return q(),W("div",zw,[t[0]||(t[0]=b("h2",{class:"schedule-title"},"Расписание",-1)),b("div",Ww,[(q(!0),W(Ce,null,Je(s.count,(a,c)=>(q(),W("div",{key:c,class:"schedule-line"}))),128))]),b("div",Yw,[(q(!0),W(Ce,null,Je(s.timeLabels,(a,c)=>(q(),W("span",{key:c,class:"time-label"},Fe(a),1))),128))])])}const Gw=je(Hw,[["render",Xw],["__scopeId","data-v-1ea8b047"]]),Qw={components:{Portfolio:Hd,UserData:k2,myUslugas:_l,Header:Dr,ProfileMenu:Ys,StatisticsInfo:Kw,ScheduleProfile:Gw},data(){return{user:null,userID:null}},async created(){this.userID=Number(localStorage.getItem("userID"));try{const e=await Er(this.userID);e&&(this.user=e)}catch(e){localStorage.getItem("userID")==="0"&&(this.user={id:1,name:"Ирина Рыбокова",email:"4@ex.ru",telephone_number:"89934223969",profilePicture:null,role:"master",portfolio:null,favoriteUslugas:[],uslugas:[{id:1,name:"услуга 1",description:"услуга 1 описание",category:"Категория 1",location:"Казань",coordinates:null,slots:[{id:1,date:"2024-12-23T00:00:00.000+00:00",time:"10:37:00",available:!1}],price:2e3,durationMinutes:90},{id:2,name:"услуга 2",description:"услуга 2 описание",category:"Категория 4",location:"Казань",coordinates:null,slots:[{id:2,date:"2024-12-19T00:00:00.000+00:00",time:"12:38:00",available:!0},{id:3,date:"2024-12-22T00:00:00.000+00:00",time:"10:38:00",available:!1},{id:4,date:"2024-12-23T00:00:00.000+00:00",time:"12:38:00",available:!1},{id:5,date:"2024-12-18T00:00:00.000+00:00",time:"12:12:00",available:!1}],price:2e3,durationMinutes:90},{id:3,name:"вривра",description:"варива",category:"Категория 3",location:"Казань",coordinates:null,slots:[{id:6,date:"2024-12-18T00:00:00.000+00:00",time:"20:53:00",available:!1}],price:2e3,durationMinutes:90}],writtenReviews:[],receivedReviews:[]}),console.error(e)}}},Jw={class:"container"},Zw={class:"menu"},e_={class:"content-rows"},t_={class:"content"},n_={class:"user-data"},r_={class:"statistics"},s_={class:"content-schedule"};function i_(e,t,n,r,s,i){const a=$e("Header"),c=$e("ProfileMenu"),f=$e("UserData"),p=$e("StatisticsInfo"),h=$e("ScheduleProfile");return q(),W(Ce,null,[Ee(a),b("div",Jw,[b("aside",Zw,[Ee(c)]),b("div",e_,[b("main",t_,[b("div",n_,[s.user?(q(),gn(f,{key:0,user:this.user},null,8,["user"])):lt("",!0)]),b("div",r_,[Ee(p)])]),t[0]||(t[0]=Mf('<div class="content-info" data-v-006241c3><div class="content-block" data-v-006241c3><img src="'+Wr+'" alt="icon-block" data-v-006241c3></div><div class="content-block" data-v-006241c3><img src="'+Wr+'" alt="icon-block" data-v-006241c3></div><div class="content-block" data-v-006241c3><img src="'+Wr+'" alt="icon-block" data-v-006241c3></div></div>',1)),b("div",s_,[Ee(h)])])])],64)}const o_=je(Qw,[["render",i_],["__scopeId","data-v-006241c3"]]),a_={name:"NotFoundPage",methods:{goToHome(){this.$router.push("/")}}},l_={class:"not-found-page"};function c_(e,t,n,r,s,i){return q(),W("div",l_,[t[1]||(t[1]=b("h1",null,"Страница не найдена",-1)),t[2]||(t[2]=b("p",null,"К сожалению, запрашиваемая страница находится в разработке или не существует.",-1)),b("button",{onClick:t[0]||(t[0]=(...a)=>i.goToHome&&i.goToHome(...a))},"На главную")])}const u_=je(a_,[["render",c_],["__scopeId","data-v-0611591c"]]),f_={components:{myUslugas:_l,Header:Dr,ProfileMenu:Ys},data(){return{user:null,userID:null}},async created(){this.userID=Number(localStorage.getItem("userID"));try{const e=await Er(this.userID);e&&(this.user=e)}catch(e){console.error(e)}}},d_={class:"container"},h_={class:"menu"},p_={class:"content"};function m_(e,t,n,r,s,i){const a=$e("Header"),c=$e("ProfileMenu"),f=$e("my-uslugas");return q(),W(Ce,null,[Ee(a),b("div",d_,[b("aside",h_,[Ee(c)]),b("main",p_,[Ee(f)])])],64)}const g_=je(f_,[["render",m_],["__scopeId","data-v-0b27d1f8"]]),v_={name:"Portfolio-block",components:{myUslugas:_l,portfolio:Hd,Header:Dr,ProfileMenu:Ys},data(){return{userID:null,hasAccess:!0}},created(){this.userID=Number(localStorage.getItem("userID"))}},y_={class:"container"},b_={class:"menu"},w_={class:"content"};function __(e,t,n,r,s,i){const a=$e("Header"),c=$e("ProfileMenu"),f=$e("portfolio");return q(),W(Ce,null,[Ee(a),b("div",y_,[b("aside",b_,[Ee(c)]),b("main",w_,[Ee(f,{"user-id":this.userID,"has-access":s.hasAccess},null,8,["user-id","has-access"])])])],64)}const S_=je(v_,[["render",__],["__scopeId","data-v-6e11ea05"]]),x_={components:{Header:Dr,ProfileMenu:Ys},props:{portfolioId:{type:Number,required:!0}},data(){return{portfolioData:{description:"",photosAsList:[],newPhotos:[]},previewNewPhotos:[],showCropModal:!1,cropper:null,currentPhoto:null}},async created(){await this.fetchPortfolio(!0)},methods:{async fetchPortfolio(e){try{const t=await xd(Number(localStorage.getItem("userID")));e&&(this.portfolioData.description=t.description),this.portfolioData.photosAsList=t.photosAsList||[]}catch(t){console.error("Ошибка при загрузке портфолио:",t)}},getImageUrl(e){return`data:image/png;base64,${e}`},removePhoto(e){this.portfolioData.photosAsList.splice(e,1)},removeNewPhoto(e){this.portfolioData.newPhotos.splice(e,1),this.previewNewPhotos.splice(e,1)},openCropModal(e){const t=e.target.files[0];t&&(this.currentPhoto=URL.createObjectURL(t),this.showCropModal=!0,this.$nextTick(()=>{const n=this.$refs.cropImage;this.cropper=new po(n,{aspectRatio:1,viewMode:2})}))},confirmCrop(){const t=this.cropper.getCroppedCanvas().toDataURL("image/png"),n=t.replace(/^data:image\/png;base64,/,"");this.previewNewPhotos.push(t),this.portfolioData.newPhotos.push(n),this.closeCropModal()},closeCropModal(){this.showCropModal=!1,this.currentPhoto=null,this.cropper&&(this.cropper.destroy(),this.cropper=null)},async handleSubmit(){try{const e=[...this.portfolioData.photosAsList,...this.portfolioData.newPhotos];if(e.length===0){alert("В портфолио обязательно должно быть хотя бы одно фото!"),await this.fetchPortfolio(!1);return}const t={description:this.portfolioData.description,photos:e};await _d(this.portfolioId,t),await this.resetData(),alert("Портфолио успешно обновлено!")}catch(e){console.error("Ошибка при обновлении портфолио:",e),alert("Не удалось обновить портфолио. В портфолио обязательно должны присутствовать: описание и одна (или более) фотографий ")}},handleCancel(){this.$router.push("/my-portfolio")},async resetData(){this.previewNewPhotos=[],this.showCropModal=!1,this.cropper=null,this.currentPhoto=null,await this.fetchPortfolio(!0)}}},C_={class:"container"},E_={class:"menu"},D_={class:"update-portfolio-page"},T_={class:"form-group"},O_={class:"form-group"},P_={class:"photos-list"},M_=["src"],I_={class:"photo-actions"},A_=["onClick"],k_={class:"form-group"},R_={class:"new-photos-preview"},N_=["src"],$_={class:"photo-actions"},F_=["onClick"],L_={class:"form-group"},B_={key:0,class:"crop-modal"},U_={class:"crop-container"},j_=["src"],q_={class:"form-actions"};function V_(e,t,n,r,s,i){const a=$e("Header"),c=$e("ProfileMenu");return q(),W(Ce,null,[Ee(a),b("div",C_,[b("aside",E_,[Ee(c)]),b("main",null,[b("div",D_,[t[11]||(t[11]=b("h1",null,"Редактирование портфолио",-1)),b("form",{onSubmit:t[5]||(t[5]=kt((...f)=>i.handleSubmit&&i.handleSubmit(...f),["prevent"]))},[b("div",T_,[t[6]||(t[6]=b("label",{for:"description"},"Описание",-1)),ut(b("textarea",{id:"description","onUpdate:modelValue":t[0]||(t[0]=f=>s.portfolioData.description=f),placeholder:"Введите описание портфолио",rows:"4",required:""},null,512),[[Pt,s.portfolioData.description]])]),b("div",O_,[t[7]||(t[7]=b("label",null,"Фотографии",-1)),b("div",P_,[(q(!0),W(Ce,null,Je(s.portfolioData.photosAsList,(f,p)=>(q(),W("div",{key:p,class:"photo-item"},[b("img",{src:i.getImageUrl(f),alt:"Portfolio Photo"},null,8,M_),b("div",I_,[b("button",{type:"button",onClick:h=>i.removePhoto(p)},"Удалить",8,A_)])]))),128))])]),b("div",k_,[t[8]||(t[8]=b("label",null,"Предпросмотр новых фотографий",-1)),b("div",R_,[(q(!0),W(Ce,null,Je(s.previewNewPhotos,(f,p)=>(q(),W("div",{key:p,class:"photo-item"},[b("img",{src:f,alt:"New Photo Preview"},null,8,N_),b("div",$_,[b("button",{type:"button",onClick:h=>i.removeNewPhoto(p)},"Удалить",8,F_)])]))),128))])]),b("div",L_,[t[9]||(t[9]=b("label",{for:"newPhotos",class:"add-file"},"Добавить фотографию",-1)),b("input",{id:"newPhotos",type:"file",accept:"image/png",onChange:t[1]||(t[1]=(...f)=>i.openCropModal&&i.openCropModal(...f))},null,32)]),s.showCropModal?(q(),W("div",B_,[b("div",U_,[b("img",{ref:"cropImage",src:s.currentPhoto,alt:"To Crop"},null,8,j_),b("button",{type:"button",onClick:t[2]||(t[2]=(...f)=>i.confirmCrop&&i.confirmCrop(...f))},"Обрезать и сохранить"),b("button",{type:"button",onClick:t[3]||(t[3]=(...f)=>i.closeCropModal&&i.closeCropModal(...f))},"Отменить")])])):lt("",!0),b("div",q_,[t[10]||(t[10]=b("button",{type:"submit",class:"save-button"},"Сохранить изменения",-1)),b("button",{type:"button",class:"cancel-button",onClick:t[4]||(t[4]=(...f)=>i.handleCancel&&i.handleCancel(...f))},"Назад к портфолио")])],32)])])])],64)}const K_=je(x_,[["render",V_],["__scopeId","data-v-343627f8"]]),H_={name:"MyFavorites",components:{Usluga:Td},data(){return{favorites:[]}},async created(){await this.loadFavorites()},methods:{async loadFavorites(){try{const e=localStorage.getItem("userID");this.favorites=await xy(e)||[]}catch(e){console.error("Ошибка при загрузке избранных услуг:",e),this.favorites=[]}},async removeFromFavorites(e,t){try{t||(this.favorites=this.favorites.filter(n=>n.id!==e))}catch(n){console.error("Ошибка при удалении из избранного:",n)}}}},z_={class:"favorite-block"},W_={key:0,class:"usluga-container"},Y_={key:1};function X_(e,t,n,r,s,i){const a=$e("usluga");return q(),W("div",z_,[t[0]||(t[0]=b("h1",null,"Избранные услуги",-1)),s.favorites.length>0?(q(),W("div",W_,[(q(!0),W(Ce,null,Je(s.favorites,(c,f)=>(q(),gn(a,{key:f,service:c,isFavorite:!0,onUpdateFavorites:i.removeFromFavorites},null,8,["service","onUpdateFavorites"]))),128))])):(q(),W("p",Y_,"У вас пока нет избранных услуг."))])}const G_=je(H_,[["render",X_],["__scopeId","data-v-92bb27b3"]]),Q_={components:{myFavorite:G_,Header:Dr,ProfileMenu:Ys},data(){return{user:null,userID:null}},async created(){this.userID=Number(localStorage.getItem("userID"));try{const e=await Er(this.userID);e&&(this.user=e)}catch(e){console.error(e)}}},J_={class:"container"},Z_={class:"menu"},eS={class:"content"};function tS(e,t,n,r,s,i){const a=$e("Header"),c=$e("ProfileMenu"),f=$e("my-favorite");return q(),W(Ce,null,[Ee(a),b("div",J_,[b("aside",Z_,[Ee(c)]),b("main",eS,[Ee(f)])])],64)}const nS=je(Q_,[["render",tS],["__scopeId","data-v-4221882a"]]),rS=[{path:"/",component:E1},{path:"/login",component:L1},{path:"/registration",component:z1},{path:"/schedule",component:Mb},{path:"/profile",component:o_,meta:{requiresAuth:!0}},{path:"/my-uslugas",component:g_,meta:{requiresAuth:!0}},{path:"/my-portfolio",component:S_,meta:{requiresAuth:!0}},{path:"/my-portfolio/update/:portfolioId",component:K_,meta:{requiresAuth:!0},props:!0},{path:"/my-favorite",component:nS,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",component:u_}],zd=X0({history:C0("/ch"),routes:rS});zd.beforeEach((e,t,n)=>{e.meta.requiresAuth&&!bd()?n("/"):n()});qm(Wm).use(zd).mount("#app");
